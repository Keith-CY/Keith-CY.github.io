<!DOCTYPE html>
<html  lang="en">

<head>
    <meta charset="utf-8">
<title>D3-Shape - EzCook</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />







<link rel="icon" href="/images/logo.png">

<link href="https://fonts.googleapis.com/css?family=Averia+Serif+Libre|DM+Serif+Text&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">




    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    



    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">







<link rel="stylesheet" href="/css/back-to-top.css">




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136207372-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-136207372-1');
</script>




<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>



    



    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    




<link rel="stylesheet" href="/css/style.css">

</head>

<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="D3-Shape" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/projects">Projects</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="GitHub" href="https://github.com/keith-CY">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                    <a class="navbar-item" target="_blank" title="Gmail" href="mailto:keithwhisper@gmail.com">
                        
                        <i class="fas fa-envelope"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-07-12T07:43:59.000Z">2017-07-12</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 minutes read (About 1597 words)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span> visits
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                D3-Shape
            
        </h1>
        <div class="content">
            <h3 id="d3-shape"><a href="#d3-shape" class="headerlink" title="d3.shape"></a>d3.shape</h3><p>Visualization typically consist of discrete  graphical marks, such as <code>Symbols</code>, <code>arcs</code>, <code>lines</code> and <code>areas</code>. While the ractangles of a bar chart may be easy enough to generate directly using <code>SVG</code> or <code>Canvas</code>, other shapes are complex, such as roudned annular sectors and centripetal Catmull-Rom splines. This module provides a variety of shape generators for your convenience.</p>
<p>As with other aspects of D3, these shapes are driven by data: each shape generator exposes accessors that control how the input data are mapped to a visual representation.</p>
<p>You might define a line generator for a time series by <code>scaling</code> field of your data to fit the chart.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">const</span> lineGen = d3.line()</div><div class="line">    .x(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> (d.date))</div><div class="line">    .y(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> (d.value))</div></pre></td></tr></table></figure>
<p>This line generator can then be used to compute the <code>d</code> attribute of an SVG path element:</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">path.datum(data).attr(<span class="hljs-string">'d'</span>, lineGen)</div></pre></td></tr></table></figure>
<p>Or you can use it to render to a Canvas 2D context:</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lineGen.context(context)(data)</div></pre></td></tr></table></figure>
<h3 id="Installing"><a href="#Installing" class="headerlink" title="Installing"></a>Installing</h3><figure class="highlight html hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://d3js.org/d3-path.v1.min.js"</span>&gt;</span><span class="hljs-undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></div><div class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://d3js.org/d3-shape.v1.min.js"</span>&gt;</span><span class="hljs-undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn add d3-shape</div></pre></td></tr></table></figure>
<h3 id="Arcs"><a href="#Arcs" class="headerlink" title="Arcs"></a>Arcs</h3><p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/pie.png" alt=""></p>
<p>The arc genrateor produces a circular or annular sector, as in a pie or donut chart. If the difference between the start and end angles(the regular span) is greater than 2 <em> Math.PI, the arc generator will produce a complete circle or annulus. If it is less than 2 </em> Math.PI, arcs may have rounded corners and angular padding.</p>
<p>Arcs are always centered at <0, 0="">, use a transform to move the arc to a different position.</0,></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">const</span> arc = d3.arc() <span class="hljs-comment">// construct a new arc genrator with default settings.</span></div><div class="line"></div><div class="line">arc(&#123;</div><div class="line">  <span class="hljs-attr">innerRadius</span>: <span class="hljs-number">0</span>,</div><div class="line">  <span class="hljs-attr">outerRadius</span>: <span class="hljs-number">100</span>,</div><div class="line">  <span class="hljs-attr">startAngle</span>: <span class="hljs-number">0</span>,</div><div class="line">  <span class="hljs-attr">endAngle</span>: <span class="hljs-built_in">Math</span>.PI / <span class="hljs-number">2</span>,</div><div class="line">&#125;)</div><div class="line"><span class="hljs-comment">// or</span></div><div class="line"><span class="hljs-keyword">const</span> arc = d3.arc()</div><div class="line">    .innerRadius(<span class="hljs-number">0</span>)</div><div class="line">    .outerRadius(<span class="hljs-number">100</span>)</div><div class="line">    .startAngle(<span class="hljs-number">0</span>)</div><div class="line">    .endAngle(<span class="hljs-built_in">Math</span>.PI/<span class="hljs-number">2</span>)</div><div class="line"></div><div class="line">arc()</div></pre></td></tr></table></figure>
<p><strong>arc.centroid(arguments)</strong> computes the midpoint <x, y=""> of the center line of the arc that would be generated by the given arguments. The arguments are arbitrary. They are simple propagated to the arc generator’s accessor functions along with the <code>this</code> object.</x,></p>
<p>To be consistent with the generated arc, the accessors must be deterministirc, i.e., return the same value given the same arguments. The midpoint is defined as (startAngle + endAngle) / 2 and (innerRadius + outerRadius) / 2</p>
<p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/centroid-annular-sector.png" alt=""></p>
<p><strong>arc.cornerRadius([radius])</strong> sets the corner radius to the specified function or number and returns the arc generator.</p>
<p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/rounded-annular-sector.png" alt=""></p>
<p><strong>arc.padAngle([angle])</strong> sets the pad angle to the specifid function or number and returns this arc generator. The pad angle is converted to a fixed linear distances seperateing adajacent arcs, defined as <strong>padRadius * padAngle</strong>.</p>
<p><strong>arc.context([context])</strong> sets the context and returns this arc generator. If <em>context</em> is not specified, returns the current context, which defaults to null. If the context is not null, then the generated arc is rendered to this context as a sequence of path method calls. Otherwise, a path data string representing the generated arc is returned.</p>
<h3 id="Pies"><a href="#Pies" class="headerlink" title="Pies"></a>Pies</h3><p>This pie generator does not produce a shape directly, but instead <strong>computes</strong> the necessary angles to represent a tabular dataset as a pie or donut chart. These angles can be passed to an arc generator.</p>
<p><strong>d3.pie()</strong> constructs a new pie generator with the default settings.</p>
<p><strong>pie(data[, arguments])</strong> generates a pie for the given array of data, <strong>returning an array of objects representing each datum’s arc angle</strong>. Any additional arguments are arbitrary. They are simply propagated to the pie generator’s accessor functions along with the <code>this</code> object.</p>
<p>The length of the returned array is the same as data and each element <em>i</em> in the returned array corresponds to the element <em>i</em> in the input data. Each object in the returned array has the following properties:</p>
<ul>
<li><p>data: the input datum; the corresponding element in the input data array.</p>
</li>
<li><p>value: the numeric value of the arc</p>
</li>
<li><p>index: the zero-based sorted index of arc</p>
</li>
<li><p>startAgnle: the start angle of the arc</p>
</li>
<li><p>endAngle: the end angle of the arc</p>
</li>
<li><p>padAngle: the pad angle of the arc</p>
</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">var</span> data = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">13</span>, <span class="hljs-number">21</span>];</div><div class="line"><span class="hljs-keyword">var</span> arcs = d3.pie()(data);</div><div class="line"><span class="hljs-comment">// to</span></div><div class="line">[</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">1</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">6</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">6.050474740247008</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">6.166830023713296</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">1</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">1</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">7</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">6.166830023713296</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">6.283185307179584</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">2</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">2</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">5.817764173314431</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">6.050474740247008</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">3</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">3</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">4</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">5.468698322915565</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">5.817764173314431</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">5</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">5</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">3</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">4.886921905584122</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">5.468698322915565</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>:  <span class="hljs-number">8</span>, <span class="hljs-string">"value"</span>:  <span class="hljs-number">8</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">3.956079637853813</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">4.886921905584122</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">13</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">2.443460952792061</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">3.956079637853813</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;,</div><div class="line">  &#123;<span class="hljs-string">"data"</span>: <span class="hljs-number">21</span>, <span class="hljs-string">"value"</span>: <span class="hljs-number">21</span>, <span class="hljs-string">"index"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"startAngle"</span>: <span class="hljs-number">0.000000000000000</span>, <span class="hljs-string">"endAngle"</span>: <span class="hljs-number">2.443460952792061</span>, <span class="hljs-string">"padAngle"</span>: <span class="hljs-number">0</span>&#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<p>The first pair of parens, <code>pie()</code> constructs a default pie generator, the second <code>pie()(data)</code> invokes this generator on the dataset, returning an array of objects.</p>
<p>Note that the returned array is in the same order as the data.</p>
<h3 id="Lines"><a href="#Lines" class="headerlink" title="Lines"></a>Lines</h3><p>The line generator produces a spline or polyline, as in a line chart. Lines also appear in many other visualization types, such as the links in hierarchical edge bundling.</p>
<p><strong>d3.line()</strong> constructs a new line generator with default settings.</p>
<p><strong>line(data)</strong> generates a line for the given array of data. Depending on this line generator’s assciated curve, the given input data may need to be sorted by x-value before being passed to the line generator. If the line generator has a context, then the line is rendered to this context as a sequence of path method calls and this function returns void.</p>
<p><strong>line.x(fn)</strong> specifies the x accessor.</p>
<p><strong>line.y(fn)</strong> specifies the y accessor.</p>
<p><strong>line.defined([defined])</strong> sets the defined accessor.</p>
<p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/line-defined.png" alt=""></p>
<p><strong>line.curve([curve])</strong> sets the curve factory and returns this line genrator. If curve is not specified, returns the current curve factory, which defaults to <strong>curveLinear</strong>.</p>
<p><strong>d3.lineRadial()</strong> constructs a new radial line generator with the default settings.</p>
<p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/line-radial.png" alt=""></p>
<p>A radial line generator is equivalent to the standard cartesian line generator, except the x and y accessor are replaced with angle and readius accessors.</p>
<p>Radial lines are always positioned relative to <0, 0="">, use a transform to change the origin.</0,></p>
<h3 id="Areas"><a href="#Areas" class="headerlink" title="Areas"></a>Areas</h3><p>The area generator produces an area, as in an area chart. An area is defined by two bounding lines, either splines or polilines. Typically two lines share the same x-value, differing only in y-value; most commonly, y0 is defined as a constant representing zero.  The first line (the top line) is defined by x1 and y1 and is rendered first; the second line (the base line) is defined by x0 and y0 and is rendered second, with the points in reverse order.</p>
<p><strong>d3.area()</strong> constructs a new area generator with the default settings.</p>
<p><strong>area.data()</strong> generats area for the given array of data. Depending on this area generator’s associated curve.</p>
<p><strong>area.x([x])</strong> sets x0 to x and x1 to null.</p>
<p><strong>area.x0()</strong> sets the x0 accessor.</p>
<p><strong>area.defined()</strong></p>
<p><strong>d3.areaRadial()</strong></p>
<p><img src="https://raw.githubusercontent.com/d3/d3-shape/master/img/area-radial.png" alt=""></p>
<h3 id="Curves"><a href="#Curves" class="headerlink" title="Curves"></a>Curves</h3><p>Curves are typically not constructed or used directly, insread being passed to <code>line.curve</code> and <code>arec.curve</code>. For example:</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">var</span> line = d3.line()</div><div class="line">  .x(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>&#123; <span class="hljs-keyword">return</span> x(d.date) &#125;)</div><div class="line">  .y(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>&#123; <span class="hljs-keyword">return</span> y(d.value) &#125;)</div><div class="line">  .curve(d3.curveCatmullRom.alpha(<span class="hljs-number">0.5</span>))</div></pre></td></tr></table></figure>
<ul>
<li><p>d3.curveBasis(context)</p>
</li>
<li><p>d3.curveBasisClosed(context)</p>
</li>
<li><p>d3.curveBasisOpen(context)</p>
</li>
<li><p>d3.curveBundle(context)</p>
</li>
<li><p>d3.curveCardinal(context)</p>
</li>
<li><p>d3.curveCardinalClosed(context)</p>
</li>
<li><p>d3.curveLinear(context)</p>
</li>
<li><p>d3.curveStep(context)</p>
</li>
<li><p>d3.curveStepAfter(context)</p>
</li>
<li><p>d3.curveStepBefore(context)</p>
</li>
</ul>
<h3 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h3><p>The link shape generates a smooth cubic Bezier curve from a source point to a target point. The tangents of the curve at the start and end are either <code>vertical</code>, <code>horizontal</code>, or <code>radial</code>.</p>
<p><strong>d3.linkVertical()</strong>, returns a new link generator with vertical tangents.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">var</span> link = d3.linkVertical()</div><div class="line">    .x(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>)</span>&#123; <span class="hljs-keyword">return</span> d.x &#125;)</div><div class="line">    .y(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>)</span>&#123; <span class="hljs-keyword">return</span> d.y &#125;)</div></pre></td></tr></table></figure>
<p><strong>d3.linkHorizontal()</strong>, returns a new link generator with horizontal tangents.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">var</span> link = d3.linkHorizontal()</div><div class="line">    .x(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>&#123; <span class="hljs-keyword">return</span> d.y &#125;)</div><div class="line">    .y(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>&#123; <span class="hljs-keyword">return</span> d.x &#125;)</div></pre></td></tr></table></figure>
<h3 id="Stacks"><a href="#Stacks" class="headerlink" title="Stacks"></a>Stacks</h3><p>Some shape types can be stakced, placing one shape adjacent to another.</p>
<p>Stacked charts can show overall value and per-category value simultaneously.</p>
<p><strong>d3.stack()</strong>, constructs a new stack generator with the default settings.</p>
<p><strong>stack(data[, arguments])</strong>, generates a stack for the given array of data, returning an array of representing each series. Any additional arguments are arbitrary, they are simply propagated to accessors along with <code>this</code> object.</p>
<p>The series are determined by the keys accessor; each series <em>i</em> in the returned array corresponds to the <em>i</em> th key. Each series is an array o points, where each point <em>j</em> corresponds to the <em>j</em> th element in the input <em>data</em>.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="hljs-keyword">var</span> data = [</div><div class="line">  &#123;<span class="hljs-attr">month</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2015</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>), <span class="hljs-attr">apples</span>: <span class="hljs-number">3840</span>, <span class="hljs-attr">bananas</span>: <span class="hljs-number">1920</span>, <span class="hljs-attr">cherries</span>: <span class="hljs-number">960</span>, <span class="hljs-attr">dates</span>: <span class="hljs-number">400</span>&#125;,</div><div class="line">  &#123;<span class="hljs-attr">month</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2015</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>), <span class="hljs-attr">apples</span>: <span class="hljs-number">1600</span>, <span class="hljs-attr">bananas</span>: <span class="hljs-number">1440</span>, <span class="hljs-attr">cherries</span>: <span class="hljs-number">960</span>, <span class="hljs-attr">dates</span>: <span class="hljs-number">400</span>&#125;,</div><div class="line">  &#123;<span class="hljs-attr">month</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2015</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>), <span class="hljs-attr">apples</span>:  <span class="hljs-number">640</span>, <span class="hljs-attr">bananas</span>:  <span class="hljs-number">960</span>, <span class="hljs-attr">cherries</span>: <span class="hljs-number">640</span>, <span class="hljs-attr">dates</span>: <span class="hljs-number">400</span>&#125;,</div><div class="line">  &#123;<span class="hljs-attr">month</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2015</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>), <span class="hljs-attr">apples</span>:  <span class="hljs-number">320</span>, <span class="hljs-attr">bananas</span>:  <span class="hljs-number">480</span>, <span class="hljs-attr">cherries</span>: <span class="hljs-number">640</span>, <span class="hljs-attr">dates</span>: <span class="hljs-number">400</span>&#125;</div><div class="line">];</div><div class="line"></div><div class="line"><span class="hljs-comment">// To produce a stack of this data</span></div><div class="line"></div><div class="line"><span class="hljs-keyword">var</span> stack = d3.stack()</div><div class="line">    .keys([ <span class="hljs-string">'apples'</span>, <span class="hljs-string">'bananas'</span>, <span class="hljs-string">'cherries'</span>, <span class="hljs-string">'dates'</span> ])</div><div class="line">    .order(d3.stackOrderNone)</div><div class="line">    .offset(d3.stackOffsetNone)</div><div class="line"></div><div class="line"><span class="hljs-comment">// returned</span></div><div class="line"></div><div class="line">[</div><div class="line">  [[   <span class="hljs-number">0</span>, <span class="hljs-number">3840</span>], [   <span class="hljs-number">0</span>, <span class="hljs-number">1600</span>], [   <span class="hljs-number">0</span>,  <span class="hljs-number">640</span>], [   <span class="hljs-number">0</span>,  <span class="hljs-number">320</span>]], <span class="hljs-comment">// apples</span></div><div class="line">  [[<span class="hljs-number">3840</span>, <span class="hljs-number">5760</span>], [<span class="hljs-number">1600</span>, <span class="hljs-number">3040</span>], [ <span class="hljs-number">640</span>, <span class="hljs-number">1600</span>], [ <span class="hljs-number">320</span>,  <span class="hljs-number">800</span>]], <span class="hljs-comment">// bananas</span></div><div class="line">  [[<span class="hljs-number">5760</span>, <span class="hljs-number">6720</span>], [<span class="hljs-number">3040</span>, <span class="hljs-number">4000</span>], [<span class="hljs-number">1600</span>, <span class="hljs-number">2240</span>], [ <span class="hljs-number">800</span>, <span class="hljs-number">1440</span>]], <span class="hljs-comment">// cherries</span></div><div class="line">  [[<span class="hljs-number">6720</span>, <span class="hljs-number">7120</span>], [<span class="hljs-number">4000</span>, <span class="hljs-number">4400</span>], [<span class="hljs-number">2240</span>, <span class="hljs-number">2640</span>], [<span class="hljs-number">1440</span>, <span class="hljs-number">1840</span>]], <span class="hljs-comment">// dates</span></div><div class="line">]</div></pre></td></tr></table></figure>
<p><strong>stack.keys([keys])</strong>, sets the keys accessor to the specified function or array and returns this stack generator.</p>
<p><strong>stack.order([order])</strong>, sets the order accessor to the specified functino or array and returns this stack generator. If order is not specified, returns the current order accessor, which default to <code>stackOrderNone</code>, this uses the order given by the key accessor.</p>
<ul>
<li><p>d3.stackOrderAscending(series)</p>
</li>
<li><p>d3.stackOrderDescending(series)</p>
</li>
<li><p>d3.stackOrderInsideOut(series)</p>
</li>
<li><p>d3.stackOrderNone(series)</p>
</li>
<li><p>d3.stackOrderReverse(series)</p>
</li>
</ul>
<p><strong>stack.offset([offest])</strong>, sets the offset accessor to the specified function or array, and returns this stack generator. If no offset is specified, returns the current offset accessor, which default to <code>stackOffsetNone</code>, this uses a zero baseline.</p>
<ul>
<li><p>d3.stackOffsetDiverging(series, order)</p>
</li>
<li><p>d3.stackOffsetExpand(series, order)</p>
</li>
<li><p>d3.stackOffsetNone(series, order)</p>
</li>
</ul>

        </div>
        
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">Like this article? Support the author with</h3>
        <div class="buttons is-centered">
            
                <!-- Visit https://www.paypal.com/donate/buttons/ to get your donate button -->

<a class="button is-warning donate" onclick="document.getElementById(&#39;paypal-donate-form&#39;).submit()">
    <span class="icon is-small">
        <i class="fab fa-paypal"></i>
    </span>
    <span>Paypal</span>
</a>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" id="paypal-donate-form">
    <input type="hidden" name="cmd" value="_donations" />
    <input type="hidden" name="business" value="chen.yu.keith@foxmail.com" />
    <input type="hidden" name="currency_code" value="USD" />
</form>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2017/07/13/d3-scale/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">D3-Scale</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2017/07/12/d3-range/">
                <span class="level-item">d3.range</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<div id="comment-container"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
	var gitment = new Gitment({
		id: '2017/07/12/d3-shape/',
		owner: 'Keith-CY',
		repo: 'Keith-CY.github.io',
		oauth: {
			client_id: '56319e1ce36ed4313555',
			client_secret: 'ca7f10a8357d52290f5509fb54e5173a8bea0a5d',
		},
	})
	gitment.render('comment-container')
</script>

    </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>

</html>
