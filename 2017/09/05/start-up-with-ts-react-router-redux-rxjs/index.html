<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>start up with ts, react, router, redux, rxjs | EzCook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="The Repo Dependencies123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&quot;devDependencies&quot;: &amp;#123;  &quot;@types/react&quot;: &quot;^16.0.5&quot;,  &quot;@types/react-dom&quot;: &quot;^15.5.4&quot;,  &quot;@typ">
<meta property="og:type" content="article">
<meta property="og:title" content="start up with ts, react, router, redux, rxjs">
<meta property="og:url" content="http://yoursite.com/2017/09/05/start-up-with-ts-react-router-redux-rxjs/index.html">
<meta property="og:site_name" content="EzCook">
<meta property="og:description" content="The Repo Dependencies123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&quot;devDependencies&quot;: &amp;#123;  &quot;@types/react&quot;: &quot;^16.0.5&quot;,  &quot;@types/react-dom&quot;: &quot;^15.5.4&quot;,  &quot;@typ">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-09-05T12:00:49.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="start up with ts, react, router, redux, rxjs">
<meta name="twitter:description" content="The Repo Dependencies123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&quot;devDependencies&quot;: &amp;#123;  &quot;@types/react&quot;: &quot;^16.0.5&quot;,  &quot;@types/react-dom&quot;: &quot;^15.5.4&quot;,  &quot;@typ">
  
    <link rel="alternate" href="/atom.xml" title="EzCook" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    
      <body class="dark">
    
  
      <div id="container" class="container">
        <article id="post-start-up-with-ts-react-router-redux-rxjs" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      start up with ts, react, router, redux, rxjs
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p>The <a href="https://github.com/Keith-CY/starter-of-react-redux-router-rxjs.git" target="_blank" rel="external">Repo</a></p>
<h3 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">"devDependencies": &#123;</div><div class="line">  "@types/react": "^16.0.5",</div><div class="line">  "@types/react-dom": "^15.5.4",</div><div class="line">  "@types/react-redux": "^5.0.6",</div><div class="line">  "@types/redux-actions": "^1.2.8",</div><div class="line">  "@types/webpack": "^3.0.10",</div><div class="line">  "@types/webpack-dev-server": "^2.4.1",</div><div class="line">  "autoprefixer": "^7.1.3",</div><div class="line">  "babel-core": "^6.26.0",</div><div class="line">  "babel-loader": "^7.1.2",</div><div class="line">  "babel-preset-env": "^1.6.0",</div><div class="line">  "babel-preset-react": "^6.24.1",</div><div class="line">  "bundle-loader": "^0.5.5",</div><div class="line">  "eslint": "^4.6.1",</div><div class="line">  "eslint-config-airbnb": "^15.1.0",</div><div class="line">  "eslint-plugin-import": "^2.7.0",</div><div class="line">  "eslint-plugin-jsx-a11y": "^6.0.2",</div><div class="line">  "eslint-plugin-react": "^7.3.0",</div><div class="line">  "html-webpack-plugin": "^2.30.1",</div><div class="line">  "node-sass": "^4.5.3",</div><div class="line">  "precss": "^2.0.0",</div><div class="line">  "redux-devtools": "^3.4.0",</div><div class="line">  "redux-devtools-dock-monitor": "^1.1.2",</div><div class="line">  "redux-devtools-log-monitor": "^1.3.0",</div><div class="line">  "sass-loader": "^6.0.6",</div><div class="line">  "ts-loader": "^2.3.4",</div><div class="line">  "typescript": "next",</div><div class="line">  "uglifyjs-webpack-plugin": "^0.4.6",</div><div class="line">  "webpack": "^3.5.5",</div><div class="line">  "webpack-dashboard": "^1.0.0-5",</div><div class="line">  "webpack-dev-server": "^2.7.1",</div><div class="line">  "webpack-merge": "^4.1.0"</div><div class="line">&#125;,</div><div class="line">"dependencies": &#123;</div><div class="line">  "@types/node": "^8.0.26",</div><div class="line">  "@types/react-router-dom": "^4.0.7",</div><div class="line">  "babel-plugin-transform-runtime": "^6.23.0",</div><div class="line">  "extract-text-webpack-plugin": "^3.0.0",</div><div class="line">  "react": "^15.6.1",</div><div class="line">  "react-dom": "^15.6.1",</div><div class="line">  "react-redux": "^5.0.6",</div><div class="line">  "react-router": "^4.2.0",</div><div class="line">  "react-router-dom": "^4.2.2",</div><div class="line">  "redux": "^3.7.2",</div><div class="line">  "redux-actions": "^2.2.1",</div><div class="line">  "redux-observable": "^0.16.0",</div><div class="line">  "rxjs": "^5.4.3"</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Project-Structure"><a href="#Project-Structure" class="headerlink" title="Project Structure"></a>Project Structure</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">├── config</div><div class="line">│   ├── webpack.config.base.js</div><div class="line">│   ├── webpack.config.dev.js</div><div class="line">│   ├── webpack.config.prod.js</div><div class="line">├── src</div><div class="line">│   ├── actions</div><div class="line">│   │   ├── index.tsx</div><div class="line">│   │   ├── hello.tsx</div><div class="line">│   ├── components</div><div class="line">│   │   ├── AsyncRoute.tsx</div><div class="line">│   ├── containers</div><div class="line">│   │   ├── App.tsx</div><div class="line">│   │   ├── Header.tsx</div><div class="line">│   │   ├── Body.jsx</div><div class="line">│   │   ├── Footer.tsx</div><div class="line">│   │   ├── Index.tsx</div><div class="line">│   │   ├── Page2.tsx</div><div class="line">│   │   ├── DevTools.tsx</div><div class="line">│   ├── epics</div><div class="line">│   │   ├── index.tsx</div><div class="line">│   │   ├── hello.tsx</div><div class="line">│   ├── reducers</div><div class="line">│   │   ├── index.tsx</div><div class="line">│   │   ├── hello.tsx</div><div class="line">│   ├── store</div><div class="line">│   │   ├── index.tsx</div><div class="line">│   │   ├── configureStore.dev.tsx</div><div class="line">│   │   ├── configureStore.prod.tsx</div><div class="line">│   ├── templates</div><div class="line">│   │   ├── index.html</div><div class="line">│   ├── utils</div><div class="line">│   │   ├── connect.tsx</div><div class="line">│   │   ├── nav.tsx</div><div class="line">│   ├── app.tsx</div><div class="line">├── package.json</div><div class="line">├── tsconfig.json</div><div class="line">├── postcss.config.js</div><div class="line">├── .babelrc</div><div class="line">├── .eslintrc.js</div><div class="line">├── .gitignore</div><div class="line">├── yarn.lock</div></pre></td></tr></table></figure>
<h3 id="Step-1-Create-Project"><a href="#Step-1-Create-Project" class="headerlink" title="Step 1: Create Project"></a>Step 1: Create Project</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># init project</span></div><div class="line">yarn init -y</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># add eslint</span></div><div class="line">yarn add --dev eslint eslint-config-airbnb eslint-plugin-import eslint-plugin-jsx<span class="_">-a</span>11y eslint-plugin-react</div><div class="line"></div><div class="line">eslint --init</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># add webpack</span></div><div class="line">yarn add --dev webpack webpack-dev-server webpack-dashboard webpack-merge @types/webpack @types/webpack-dev-server</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># add loader for jsx</span></div><div class="line">yarn add --dev babel-core babel-loader babel-preset-env babel-preset-react</div><div class="line"></div><div class="line"><span class="comment"># add loader for tsx</span></div><div class="line">yarn add --dev ts-loader typescript@next</div><div class="line"></div><div class="line"><span class="comment"># add loader for css</span></div><div class="line">yarn add --dev style-loader css-loader resolve-url-loader postcss-loader node-sass sass-loader</div><div class="line"></div><div class="line"><span class="comment"># add loader for file</span></div><div class="line">yarn add --dev url-loader file-loader</div><div class="line"></div><div class="line"><span class="comment"># add plugin for js</span></div><div class="line">yarn add babel-plugin-transform-runtime</div><div class="line"></div><div class="line"><span class="comment"># add plugin for postcss</span></div><div class="line">yarn add --dev autoprefixer precss</div><div class="line"></div><div class="line"><span class="comment"># add plugin for html</span></div><div class="line">yarn add --dev html-webpack-plugin</div><div class="line"></div><div class="line"><span class="comment"># add plugin for uglifyjs</span></div><div class="line">yarn add --dev uglifyjs-webpack-plugin</div><div class="line"></div><div class="line"><span class="comment"># add plugin for extract css</span></div><div class="line">yarn add --dev extract-text-webpack-plugin</div></pre></td></tr></table></figure>
<h3 id="set-gitignore"><a href="#set-gitignore" class="headerlink" title="set gitignore"></a>set gitignore</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Logs</span></div><div class="line">*.log</div><div class="line"></div><div class="line"><span class="comment"># dependencies</span></div><div class="line">node_modules</div><div class="line"></div><div class="line"><span class="comment"># build</span></div><div class="line">dist</div></pre></td></tr></table></figure>
<h3 id="set-typescript-config"><a href="#set-typescript-config" class="headerlink" title="set typescript config"></a>set typescript config</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"compilerOptions"</span>: &#123;</div><div class="line">    <span class="attr">"outDir"</span>: <span class="string">"dist"</span>,</div><div class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</div><div class="line">    <span class="attr">"target"</span>: <span class="string">"es5"</span>,</div><div class="line">    <span class="attr">"lib"</span>: [<span class="string">"es6"</span>, <span class="string">"dom"</span>],</div><div class="line">    <span class="attr">"sourceMap"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"allowJs"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"jsx"</span>: <span class="string">"react"</span>,</div><div class="line">    <span class="attr">"moduleResolution"</span>: <span class="string">"node"</span>,</div><div class="line">    <span class="attr">"rootDir"</span>: <span class="string">"src"</span>,</div><div class="line">    <span class="attr">"noImplicitReturns"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"noImplicitThis"</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">"noImplicitAny"</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">"strictNullChecks"</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"exclude"</span>: [</div><div class="line">    <span class="string">"config"</span>,</div><div class="line">    <span class="string">"node_modules"</span>,</div><div class="line">    <span class="string">"dist"</span>,</div><div class="line">    <span class="string">"webpack"</span>,</div><div class="line">    <span class="string">"jest"</span></div><div class="line">  ],</div><div class="line">  <span class="attr">"types"</span>: [</div><div class="line">    <span class="string">"typePatches"</span></div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Set-basic-webpack-config"><a href="#Set-basic-webpack-config" class="headerlink" title="Set basic webpack config"></a>Set basic webpack config</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// /config/webpack.config.base.js</span></div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">filename</span>: <span class="string">'scripts/[name]-[hash].js'</span>,</div><div class="line">    <span class="attr">chunkFilename</span>: <span class="string">'scripts/[name]-[chunkhash].js'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">rules</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.tsx?$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'ts-loader'</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></div><div class="line">      &#125;, &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.jsx?$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'babel-laoder'</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">      &#125;, &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|jpg)$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'url-loader'</span>,</div><div class="line">        <span class="attr">options</span>: &#123;</div><div class="line">          <span class="attr">limit</span>: <span class="number">8192</span>,</div><div class="line">          <span class="attr">name</span>: <span class="string">'[name]-[hash].[ext]'</span>,</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">resolve</span>: &#123;</div><div class="line">    <span class="attr">extensions</span>: [<span class="string">'.tsx'</span>, <span class="string">'.ts'</span>, <span class="string">'.jsx'</span>, <span class="string">'.js'</span>, <span class="string">'.scss'</span>, <span class="string">'.css'</span>, <span class="string">'.json'</span>]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Set-dev-webpack-config"><a href="#Set-dev-webpack-config" class="headerlink" title="Set dev webpack config"></a>Set dev webpack config</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// /config/webpack.config.dev.js</span></div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</div><div class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</div><div class="line"><span class="keyword">const</span> HtmlPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</div><div class="line"><span class="keyword">const</span> DashboardPlugin = <span class="built_in">require</span>(<span class="string">'webpack-dashboard/plugin'</span>)</div><div class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">'./webpack.config.base'</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> devConfig = &#123;</div><div class="line">  <span class="attr">entry</span>: &#123;</div><div class="line">    <span class="attr">app</span>: [</div><div class="line">      <span class="string">'webpack/hot/only-dev-server'</span>,</div><div class="line">      <span class="string">'webpack-dev-server/client?http://localhost:8080'</span>,</div><div class="line">      path.resolve(__dirname, <span class="string">'../src/app.tsx'</span>),</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">rules</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>,</div><div class="line">        <span class="attr">use</span>: [</div><div class="line">          <span class="string">'style-loader'</span>,</div><div class="line">          &#123;</div><div class="line">            <span class="attr">loader</span>: <span class="string">'css-loader'</span>,</div><div class="line">            <span class="attr">options</span>: &#123;</div><div class="line">              <span class="attr">modules</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">name</span>: <span class="string">'[local]-[name]-[hash]'</span></div><div class="line">            &#125;,</div><div class="line">          &#125;,</div><div class="line">        ],</div><div class="line">        <span class="string">'resolve-url-loader'</span>,</div><div class="line">        <span class="string">'sass-loader'</span>,</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">devtool</span>: <span class="string">'source-map'</span>,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</div><div class="line">    <span class="keyword">new</span> webpack.DefinePluing(&#123;</div><div class="line">      <span class="string">'process.env'</span>: &#123;</div><div class="line">        <span class="attr">NODE_ENV</span>: <span class="string">'development'</span>,</div><div class="line">      &#125;,</div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> DashboardPlugin(),</div><div class="line">    <span class="keyword">new</span> HtmlPlugin(&#123;</div><div class="line">      <span class="attr">title</span>: <span class="string">'开发'</span>,</div><div class="line">      <span class="attr">template</span>: path.resolve(__dirname, <span class="string">'../src/temlates/index.html'</span>),</div><div class="line">    &#125;),</div><div class="line">  ],</div><div class="line">  <span class="attr">devServer</span>: &#123;</div><div class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">compress</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">historyApiFallback</span>: <span class="literal">true</span>,</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = merge(baseConfig, devConfig)</div></pre></td></tr></table></figure>
<h4 id="Set-prod-webpack-config"><a href="#Set-prod-webpack-config" class="headerlink" title="Set prod webpack config"></a>Set prod webpack config</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// /config/webpack.config.prod.js</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</div><div class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</div><div class="line"><span class="keyword">const</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">'extract-text-webpack-plugin'</span>)</div><div class="line"><span class="keyword">const</span> UglifyJSPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</div><div class="line"><span class="keyword">const</span> HtmlPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</div><div class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">'./webpack.config.base.js'</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> prodConfig = &#123;</div><div class="line">  <span class="attr">entry</span>: &#123;</div><div class="line">    <span class="attr">app</span>: path.resolve(__dirname, <span class="string">'../src/app.tsx'</span>),</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">rules</span>: [</div><div class="line">      test: <span class="regexp">/\.scss$/</span>,</div><div class="line">      <span class="attr">use</span>: ExtractTextPlugin.extract(&#123;</div><div class="line">        <span class="attr">fallback</span>: <span class="string">'style-loader'</span>,</div><div class="line">        <span class="attr">use</span>: [</div><div class="line">          &#123;</div><div class="line">            <span class="attr">loader</span>: <span class="string">'css-loader'</span>,</div><div class="line">            <span class="attr">options</span>: &#123;</div><div class="line">              <span class="attr">modules</span>: <span class="literal">true</span>,</div><div class="line">              <span class="attr">name</span>: <span class="string">'[local]-[name]-[hash]'</span></div><div class="line">              importLoaders: <span class="number">3</span>,</div><div class="line">            &#125;,</div><div class="line">          &#125;,</div><div class="line">        ],</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">      &#125;), &#123;</div><div class="line">        <span class="attr">loader</span>: <span class="string">'postcss-loader'</span>,</div><div class="line">        <span class="attr">options</span>: &#123;</div><div class="line">          <span class="attr">config</span>: path.resolve(__dirname, <span class="string">'./config/postcss.config.json'</span>)</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      <span class="string">'resolve-url-loader'</span>,</div><div class="line">      <span class="string">'sass-loader'</span>,</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">devtool</span>: <span class="string">'inline-source-map'</span>,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> webpack.DefinePluing(&#123;</div><div class="line">      <span class="string">'process.env.NODE_ENV'</span>: <span class="string">'production'</span>,</div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">      <span class="attr">name</span>: <span class="string">'app'</span>,</div><div class="line">      <span class="attr">filename</span>: <span class="string">'vendor-[hash].min.js'</span>,</div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> HtmlPlugin(&#123;</div><div class="line">      <span class="attr">title</span>: <span class="string">'生产'</span>,</div><div class="line">      <span class="attr">template</span>: path.resolve(__dirnaem, <span class="string">'../src/templates/index.html'</span>),</div><div class="line">      <span class="attr">minify</span>: &#123;</div><div class="line">        <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">collapseInlineTagWhitespace</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">minifyJS</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">removeAttributeQuotes</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">removeComments</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">removeRedundantAttributes</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">removeTagWhitespace</span>: <span class="literal">true</span>,</div><div class="line">      &#125;,</div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> ExtractTextPlugin(&#123;</div><div class="line">      <span class="attr">filename</span>: <span class="string">'styles/[name]-[contenthash].css'</span>,</div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> UglifyJSPlugin(),</div><div class="line">  ],</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Set-config-refered-by-webpack-babelrc-postcss-index-html"><a href="#Set-config-refered-by-webpack-babelrc-postcss-index-html" class="headerlink" title="Set config refered by webpack(babelrc, postcss, index.html)"></a>Set config refered by webpack(babelrc, postcss, index.html)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// /.babelrc</span></div><div class="line">&#123;</div><div class="line">  <span class="string">"presets"</span>: [</div><div class="line">    [</div><div class="line">      <span class="string">"env"</span>, &#123;</div><div class="line">        <span class="string">"targets"</span>: &#123;</div><div class="line">          <span class="string">"browsers"</span>: [<span class="string">"last 2 versions"</span>, <span class="string">"safari &gt;= 9"</span>],</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">    <span class="string">"react"</span>,</div><div class="line">  ],</div><div class="line">  <span class="string">"plugins"</span>: [</div><div class="line">    [<span class="string">"transform-runtime"</span>, &#123;</div><div class="line">      <span class="string">"polyfill"</span>: <span class="literal">false</span>,</div><div class="line">      <span class="string">"regenerator"</span>: <span class="literal">true</span></div><div class="line">    &#125;],</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> precss = <span class="built_in">require</span>(<span class="string">'precss'</span>)</div><div class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    precss,</div><div class="line">    autoprefixer,</div><div class="line">  ],</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">htmlWebpackPlugin.options.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Step-2-Skeleton-of-React-App-React-Router"><a href="#Step-2-Skeleton-of-React-App-React-Router" class="headerlink" title="Step 2: Skeleton of React App(React + Router)"></a>Step 2: Skeleton of React App(React + Router)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yarn add --dev bundle-laoder @types/react @types/react-dom @types/node @types/react-router-dom</div><div class="line"></div><div class="line">yarn add react react-dom react-router-dom</div></pre></td></tr></table></figure>
<p>In <code>src/app.tsx</code> render the App to html</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./containers/App'</span></div><div class="line"></div><div class="line">render(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span>, document.getElementById('app') as HTMLElement</span></div><div class="line">)</div><div class="line"></div><div class="line">if (module.hot) &#123;</div><div class="line">  module.hot.accept('./containers/App', () =&gt; &#123;</div><div class="line">    const App = require('./containers/App').default</div><div class="line">    render (</div><div class="line">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span>,</div><div class="line">      document.getElementById('app')</div><div class="line">    )</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Create-App-Represental-Component"><a href="#Create-App-Represental-Component" class="headerlink" title="Create App Represental Component"></a>Create App Represental Component</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// `./src/containers/App.tsx`</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  BrowserRouter <span class="keyword">as</span> Router,</div><div class="line">  Route,</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./Header'</span></div><div class="line"><span class="keyword">import</span> Body <span class="keyword">from</span> <span class="string">'./Body'</span></div><div class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./Footer'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span> ()</div><div class="line">  &#125;</div><div class="line">  render () &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;Router&gt;</div><div class="line">        &lt;div&gt;</div><div class="line">         &lt;Route path="/" component=&#123;Header&#125; /&gt;</div><div class="line">         &lt;Route path="/" component=&#123;Body&#125; /&gt;</div><div class="line">         &lt;Route path="/" component=&#123;Footer&#125; /&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">      &lt;/Router&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Create-Header-Body-Footer-Containers"><a href="#Create-Header-Body-Footer-Containers" class="headerlink" title="Create Header, Body, Footer Containers"></a>Create Header, Body, Footer Containers</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/containers/Header.tsx</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123; goTo &#125; <span class="keyword">from</span> <span class="string">'..utils/nav'</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Header</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  protected goTo = goTo.bind(<span class="keyword">this</span>)</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">navs</span>: [</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'首页'</span>, <span class="attr">url</span>: <span class="string">'index'</span> &#125;,</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'第二页'</span>, <span class="attr">url</span>: <span class="string">'page2'</span> &#125;,</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'第三页'</span>, <span class="attr">url</span>: <span class="string">'page3'</span> &#125;,</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render () &#123;</div><div class="line">    <span class="keyword">const</span> &#123; navs &#125; = <span class="keyword">this</span>.state</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">        &#123;</div><div class="line">          navs.map(</div><div class="line">            (nav: &#123;label: string, url: string&#125;) =&gt; <span class="tag">&lt;<span class="name">span</span> <span class="attr">key</span>=<span class="string">&#123;nav.url&#125;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.goTo(nav.url)&#125;</span>&gt;</span>&#123;nav.label&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">          )</div><div class="line">        &#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> Header</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/utils/nav.tsx</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">goTo</span>(<span class="params">url: string</span>) </span>&#123;</div><div class="line">  retrn () =&gt; &#123;</div><div class="line">    <span class="keyword">this</span>.props.history.push(url)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Same structure in Body and Footer.</p>
<h4 id="Add-AsyncRoute"><a href="#Add-AsyncRoute" class="headerlink" title="Add AsyncRoute"></a>Add AsyncRoute</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"></div><div class="line">interface PassedProps extends React.Props&lt;any&gt; &#123;</div><div class="line">  <span class="attr">load</span>: any;</div><div class="line">  children: any;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bundle</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">PassedProps</span>, <span class="title">any</span>&gt; </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">mod</span>: <span class="literal">null</span>,</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  componentWillMount () &#123;</div><div class="line">    <span class="keyword">this</span>.load(<span class="keyword">this</span>.props)</div><div class="line">  &#125;</div><div class="line">  componentWillReceiveProps (nextProps) &#123;</div><div class="line">    <span class="keyword">if</span> (nextProps.load !== <span class="keyword">this</span>.props.load) &#123;</div><div class="line">      <span class="keyword">this</span>.load(nextProps)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  load (props) &#123;</div><div class="line">    <span class="keyword">this</span>.setState(&#123;</div><div class="line">      <span class="attr">mod</span>: <span class="literal">null</span>,</div><div class="line">    &#125;)</div><div class="line">    props.load(<span class="function">(<span class="params">mod</span>) =&gt;</span> &#123;</div><div class="line">      <span class="keyword">this</span>.setState(&#123;</div><div class="line">        <span class="attr">mod</span>: mod.default || mod,</div><div class="line">      &#125;)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  render () &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.state.mod ? <span class="keyword">this</span>.props.children(<span class="keyword">this</span>.state.mod) : <span class="literal">null</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="built_in">module</span> =&gt; <span class="function"><span class="params">routerProps</span> =&gt;</span> (&lt;Bundle load=&#123;module&#125;&gt;</div><div class="line">  &#123; Comp =&gt; Comp ? &lt;Comp &#123;...routerProps&#125; /&gt; : null&#125;</div><div class="line">)</div></pre></td></tr></table></figure>
<p>And use it in body container</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123; Route &#125; <span class="keyword">from</span> <span class="string">'react-router'</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> Index <span class="keyword">from</span> <span class="string">'bundle-loader?lazy!./Index'</span></div><div class="line"><span class="keyword">import</span> AsyncRoute <span class="keyword">from</span> <span class="string">'../components/AsyncRoute'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">   <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">"/index"</span> <span class="attr">component</span>=<span class="string">&#123;AsyncRoute(Index)&#125;</span></span></div><div class="line">  &lt;/<span class="attr">div</span>&gt;</div><div class="line">)</div></pre></td></tr></table></figure>
<h3 id="Add-Redux"><a href="#Add-Redux" class="headerlink" title="Add Redux"></a>Add Redux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yarn add --dev redux-devtools redux-devtools-dock-monitor redux-devtools-log-monitor</div><div class="line"></div><div class="line">yarn add redux redux-actions react-redux</div></pre></td></tr></table></figure>
<h4 id="Create-Actions"><a href="#Create-Actions" class="headerlink" title="Create Actions"></a>Create Actions</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/actions/hello.tsx</span></div><div class="line"><span class="keyword">import</span> &#123; createActions &#125; <span class="keyword">from</span> <span class="string">'redux-actions'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> createActions(&#123;</div><div class="line">  <span class="attr">SAY_HELLO</span>: <span class="function"><span class="params">text</span> =&gt;</span> (&#123; text &#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// export</span></div><div class="line"><span class="comment">// &#123;</span></div><div class="line"><span class="comment">//   sayHello: (text: string) =&gt; (&#123; text: string &#125;)</span></div><div class="line"><span class="comment">// &#125;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/actions/index.tsx</span></div><div class="line"><span class="keyword">import</span> helloActions <span class="keyword">from</span> <span class="string">'./hello'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  ...helloActions</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Create-Reducers"><a href="#Create-Reducers" class="headerlink" title="Create Reducers"></a>Create Reducers</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/reducers/hello.tsx</span></div><div class="line"><span class="keyword">import</span> &#123; handleActions &#125; <span class="keyword">from</span> <span class="string">'redux-actions'</span></div><div class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">'../actions'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> handleActions(&#123;</div><div class="line">  [actions.sayHello.toString()]: <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> &#123; ...state, ...action.payload &#125;</div><div class="line">  &#125;,</div><div class="line">&#125;, &#123;</div><div class="line">  <span class="attr">text</span>: <span class="string">''</span>,</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/reducers/index.tsx</span></div><div class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> helloReducer <span class="keyword">from</span> <span class="string">'./hello'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineReducers(&#123;</div><div class="line">  <span class="attr">hello</span>: helloReducer,</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h4 id="Create-Store"><a href="#Create-Store" class="headerlink" title="Create Store"></a>Create Store</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/store/configureStore.dev.tsx</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose, GenericStoreEnhancer &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'../reducers'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> enhancer = compose(</div><div class="line">  <span class="comment">// applyMiddleware(...middlewares)</span></div><div class="line"></div><div class="line">  <span class="built_in">window</span>.devToolsExtension ? <span class="built_in">window</span>.devToolsExtension() : <span class="function"><span class="params">f</span> =&gt;</span> f,</div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">configureStoreDev</span>(<span class="params">initState: any</span>): <span class="title">any</span> </span>&#123;</div><div class="line">  <span class="keyword">const</span> store = createStore(reducer, initState, enhancer)</div><div class="line">  <span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</div><div class="line">    <span class="built_in">module</span>.hot.accpet(<span class="string">'../reducers'</span>, () =&gt; &#123;</div><div class="line">      store.replaceReducer(<span class="built_in">require</span>(<span class="string">'../reducers'</span>).default)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> store</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = configureStoreDev</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/store/configureStoreProd</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'../reducers'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">configureStoreProd</span> (<span class="params">initState: any</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> createStore(reducer, initState)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = configureStoreProd</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/store/index.jsx</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (process.env.NODE_ENV == <span class="string">'development'</span>) &#123;</div><div class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./configureStore.dev'</span>)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="built_in">module</span>.exports = <span class="built_in">require</span>(<span class="string">'./configureStore.prod'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="Add-Provider-to-Main-Container"><a href="#Add-Provider-to-Main-Container" class="headerlink" title="Add Provider to Main Container"></a>Add Provider to Main Container</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./container/App.tsx</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  BrowserRouter <span class="keyword">as</span> Router,</div><div class="line">  Route,</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./Header'</span></div><div class="line"><span class="keyword">import</span> Body <span class="keyword">from</span> <span class="string">'./Body'</span></div><div class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./Footer'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> configureStore = <span class="built_in">require</span>(<span class="string">'../store'</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> store = configureStore(&#123;&#125;)</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()</div><div class="line">  &#125;</div><div class="line">  render () &#123;</div><div class="line">    returun (</div><div class="line">      &lt;Router&gt;</div><div class="line">        &lt;Provider store=&#123;store&#125;&gt;</div><div class="line">          &lt;Route path="/" component=&#123;Header&#125; /&gt;</div><div class="line">          &lt;Route path="/" component=&#123;Body&#125; /&gt;</div><div class="line">          &lt;Route path="/" component=&#123;Body&#125; /&gt;</div><div class="line">        &lt;/Provider&gt;</div><div class="line">      &lt;/Router&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="custom-connect-to-cache-mapStateToProps-and-mapDispatchToProps"><a href="#custom-connect-to-cache-mapStateToProps-and-mapDispatchToProps" class="headerlink" title="custom connect to cache mapStateToProps and mapDispatchToProps"></a>custom connect to cache mapStateToProps and mapDispatchToProps</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span></div><div class="line"><span class="keyword">import</span> &#123; bindActionCreators &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">'../actions'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state: any</span>) =&gt;</span> state</div><div class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function">(<span class="params">dispatch: any</span>) =&gt;</span> (bindActionCreators(actions, dispatch))</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> (Comp: any) =&gt; connect(mapStateToProps, mapDispatchToProps)(Comp)</div></pre></td></tr></table></figure>
<h4 id="Connect-the-Presentational-Container"><a href="#Connect-the-Presentational-Container" class="headerlink" title="Connect the Presentational Container"></a>Connect the Presentational Container</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> connect <span class="keyword">from</span> <span class="string">'../utils/connect'</span></div><div class="line"><span class="keyword">import</span> &#123; goTo &#125; <span class="keyword">from</span> <span class="string">'../utils/nav'</span></div><div class="line"></div><div class="line">interface PassedProps extends React.Props&lt;any&gt; &#123;</div><div class="line">  <span class="attr">sayHello</span>: any;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Header</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">PassedProps</span>, <span class="title">any</span>&gt; </span>&#123;</div><div class="line">  protected goTo = goTo.bind(<span class="keyword">this</span>)</div><div class="line">  <span class="keyword">constructor</span> () &#123;</div><div class="line">    <span class="keyword">super</span>()</div><div class="line">    <span class="keyword">this</span>.state = &#123;</div><div class="line">      <span class="attr">navs</span>: [</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'首页'</span>, <span class="attr">url</span>: <span class="string">'index'</span> &#125;,</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'第二页'</span>, <span class="attr">url</span>: <span class="string">'page2'</span> &#125;,</div><div class="line">        &#123; <span class="attr">label</span>: <span class="string">'第三页'</span>, <span class="attr">url</span>: <span class="string">'page3'</span> &#125;,</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  componentDidMount () &#123;</div><div class="line">    <span class="keyword">this</span>.props.sayHello(<span class="string">'world'</span>)</div><div class="line">  &#125;</div><div class="line">  render () &#123;</div><div class="line">    <span class="keyword">const</span> &#123; navs &#125; = <span class="keyword">this</span>.state</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">        &#123;navs.map((nav: &#123; label: string, url: string&#125;) =&gt; <span class="tag">&lt;<span class="name">span</span></span></div><div class="line">          <span class="attr">key</span>=<span class="string">&#123;nav.url&#125;</span></div><div class="line">          <span class="attr">onClick</span>=<span class="string">&#123;this.goTo(nav.url)&#125;</span></div><div class="line">        &gt;&#123;nav.label&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>)&#125;</div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(Header)</div></pre></td></tr></table></figure>
<h3 id="Add-Rxjs"><a href="#Add-Rxjs" class="headerlink" title="Add Rxjs"></a>Add Rxjs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yarn add rxjs redux-observable</div></pre></td></tr></table></figure>
<h4 id="Create-Epics"><a href="#Create-Epics" class="headerlink" title="Create Epics"></a>Create Epics</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/epics/hello.tsx</span></div><div class="line"><span class="keyword">import</span> <span class="string">'rxjs'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> sayHello = <span class="function">(<span class="params">action$, store</span>) =&gt;</span></div><div class="line">  .action$.ofType(<span class="string">'SAY_HELLO'</span>)</div><div class="line">  .delay(<span class="number">1000</span>)</div><div class="line">  .map(<span class="function"><span class="params">()</span> =&gt;</span> (&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'SAY_HELLO'</span>,</div><div class="line">    <span class="attr">payload</span>: &#123;</div><div class="line">      <span class="attr">text</span>: <span class="string">'got hello'</span></div><div class="line">    &#125;</div><div class="line">  &#125;))</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ./src/epcis/index.tsx</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; combineEpics &#125; <span class="keyword">from</span> <span class="string">'redux-observable'</span></div><div class="line"><span class="keyword">import</span> &#123; sayHello &#125; <span class="keyword">from</span> <span class="string">'./hello'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineEpics(</div><div class="line">  sayHello,</div><div class="line">)</div></pre></td></tr></table></figure>
<h4 id="Add-Epic-to-Enhancer"><a href="#Add-Epic-to-Enhancer" class="headerlink" title="Add Epic to Enhancer"></a>Add Epic to Enhancer</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose, GenericStoreEnhancer &#125; <span class="keyword">from</span> <span class="string">'redux'</span></div><div class="line"><span class="keyword">import</span> &#123; createEpicMiddleware &#125; <span class="keyword">from</span> <span class="string">'redux-observable'</span></div><div class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">'../reducers'</span></div><div class="line"><span class="keyword">import</span> epics <span class="keyword">from</span> <span class="string">'../epics'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> epicMiddleware = createEpicMiddleware(epics)</div><div class="line"></div><div class="line"><span class="keyword">const</span> enhancer = compose(</div><div class="line">  applyMiddleware(epicMiddleware),</div><div class="line">  <span class="built_in">window</span>.devToolsExtension ? <span class="built_in">window</span>.devToolsExtension() : <span class="function"><span class="params">f</span> =&gt;</span> f</div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">configureStoreDev</span> (<span class="params">initState: any</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> store = createStore(reducer, initState, enhancer)</div><div class="line">  <span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</div><div class="line">    <span class="built_in">module</span>.hot.accept(<span class="string">'../reducers'</span>, () =&gt; &#123;</div><div class="line">      store.replaceReducer(<span class="built_in">require</span>(<span class="string">'../reducers'</span>).default)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> store</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = configureStoreDev</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/09/05/start-up-with-ts-react-router-redux-rxjs/" class="article-date">
  <time datetime="2017-09-05T07:10:04.000Z" itemprop="datePublished">2017-09-05</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <span id="article-nav-newer" class="article-nav-link-wrap newer"></span>
  
  
    <a href="/2017/09/05/Notes-on-TS-React-Redux/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Notes on TS + React + Redux</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>Write for Archive</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
