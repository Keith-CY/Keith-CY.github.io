<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Optimize Web App | EzCook</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Optimize Web App</h1><a id="logo" href="/.">EzCook</a><p class="description">Code Elegantly</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Optimize Web App</h1><div class="post-meta">Sep 7, 2017</div><div class="post-content"><h3 id="Optimizing-All-Assets"><a href="#Optimizing-All-Assets" class="headerlink" title="Optimizing All Assets"></a>Optimizing All Assets</h3><p>One of the most powerful, but under-utilized ways to significantly improve performance starts with understanding hwo the browser analyzes and serves assets. It turns out that browsers are pretty great at discovering resources while parsing and determing their priority of the fly. Here’s where the <strong>critical Request</strong> comes in:</p>
<blockquote>
<p>A request is critical if it contains assets that are necessary to render the content within the users’ viewport.</p>
</blockquote>
<p>For most sites, it’d be HTML, necessary CSS, a logo, a web font and maybe an image.</p>
<p>We can control this behavior by carefully picking critical resources and adjusting theri priority.</p>
<h4 id="preload"><a href="#preload" class="headerlink" title="preload"></a>preload</h4><p>With <code>&lt;link red=&#39;preload&#39;&gt;</code> we are <strong>able to manually force assets’ priority to <code>High</code> ensuring that desired content will be rendered on time</strong>.</p>
<p>This technique can yield significant improvements in Time to Interactive metric, making optimal user experience possible.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*JT-53LslhwOOqTgv1dGoXg.png" alt=""></p>
<p>Critical requests still seem like a black box for many, and the lack of sharable materials doesn’t help to change that.jj</p>
<h3 id="Optimizing-Images"><a href="#Optimizing-Images" class="headerlink" title="Optimizing Images"></a>Optimizing Images</h3><p>Images often account for most of a web page’s transferred payload.</p>
<h4 id="Choosing-the-right-format"><a href="#Choosing-the-right-format" class="headerlink" title="Choosing the right format"></a>Choosing the right format</h4><p>The initial choice falls between vector and raster graphics:</p>
<ul>
<li><p><strong>Vector</strong>: resolution independent, usually significantly smaller in size. Perfect for logos, iconography and simple assets comprising of basic shapes.</p>
</li>
<li><p><strong>Raster</strong>: offers much more detailed results, ideal for photographs.</p>
</li>
</ul>
<p>After making this decision, there are a fair bit of formats to choose from: <code>JPEG</code>, <code>GIF</code>, <code>PNG-8</code>, <code>PNG-24</code> or newest formats such as <code>WEBP</code> or <code>JPEG-XR</code>, <code>JPEG-2000</code>.</p>
<ul>
<li><p><strong>JPEG</strong>: Imagery with many color(e.g. photos)</p>
</li>
<li><p><strong>PNG-8</strong>: Imagery with a few color</p>
</li>
<li><p><strong>PNG-24</strong>: Imagery with partial transparency</p>
</li>
<li><p><strong>GIF</strong>: Animated imagery</p>
</li>
</ul>
<h3 id="Experimenting-with-new-formats"><a href="#Experimenting-with-new-formats" class="headerlink" title="Experimenting with new formats"></a>Experimenting with new formats</h3><p><strong>WebP</strong> is easily the most popular contender, supporting both lossless and lossy compression, which makes it incredibly versatile. <strong>Lossless WebP is 26% smaller than PNGs and 25-34% smaller than JPGs</strong>. With 74% browser support it can safely be used with fallback. JPGs and PNGs can be converted to WebP in PS and other image processing app as well as through command line interface(<code>brew install webp</code>).</p>
<h3 id="Responsible-and-responsive-Imagery"><a href="#Responsible-and-responsive-Imagery" class="headerlink" title="Responsible and responsive Imagery"></a>Responsible and responsive Imagery</h3><p>W’re perfectly equipped to do so with <code>picture</code> element and <code>srcset</code> attribute(both have 85% support)</p>
<h4 id="The-srcset-attribute"><a href="#The-srcset-attribute" class="headerlink" title="The srcset attribute"></a>The srcset attribute</h4><p><code>srcset</code> works best in the resolution switching scenario – when we want to display imagery based on user’s screen density and size. Baseed on a set of predefined rules in <code>srcset</code> and <code>size</code> attributes the browser will pick the best image to serve accordingly to the viewport.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*87BIfYsjZTh-bikjmp7eow.png" alt=""></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">  <span class="attr">srcset</span>=<span class="string">"cat-320w.jpg 320w cat-480w.jpg 480w cat-800w.jpg 800w"</span>,</span></span><br><span class="line"><span class="tag">  <span class="attr">sizes</span>=<span class="string">"(max-width: 320px) 100vw, (max-width: 480px) 80vw, 800px"</span>,</span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">"cat-800w.jpg"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">alt</span>=<span class="string">"cat"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="The-picture-element"><a href="#The-picture-element" class="headerlink" title="The picture element"></a>The picture element</h4><p><code>picture</code> element and the <code>media</code> attribute are designed to make art direction easy. BY providing different sources for varying conditions.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*NeyfH6Vu1xCWE2SY5w1cDQ.png" alt=""></p>
<h4 id="Delivery-with-image-CNDs"><a href="#Delivery-with-image-CNDs" class="headerlink" title="Delivery with image CNDs"></a>Delivery with image CNDs</h4><h3 id="Optimizing-Web-Fonts"><a href="#Optimizing-Web-Fonts" class="headerlink" title="Optimizing Web Fonts"></a>Optimizing Web Fonts</h3><h4 id="Choose-the-right-format"><a href="#Choose-the-right-format" class="headerlink" title="Choose the right format"></a>Choose the right format</h4><p>There are four web font formats: <code>EOT</code>, <code>TTF</code>, <code>WOFF</code> and <code>WOFF2</code>.</p>
<p>TTF and WOFF are most widely adopted, boasting over 90% browser support. Depending on the support you’re targeting <strong>it’s most likely safe to server WOFF2</strong> and fall back to WOFF for older browsers. The advantage of using WOFF2 is a set of custom preprocessing and compression algorithms resulting in approx 30% file-size reduction and impoved parsing capabilities.</p>
<p>When defining the sources of web fonts in <code>@font-face</code> use the <code>format()</code> hint to specify which format should be utilized.</p>
<h4 id="use-Unicode-range-subsetting"><a href="#use-Unicode-range-subsetting" class="headerlink" title="use Unicode-range subsetting"></a>use Unicode-range subsetting</h4><h4 id="Establish-a-font-loading-strategy"><a href="#Establish-a-font-loading-strategy" class="headerlink" title="Establish a font loading strategy"></a>Establish a font loading strategy</h4><p>Fonts are render-blocking – because the browser has to build both the DOM and CSSOM first. Wdb fonts won’t be downloaded before they’re used in a CSS selector that matches an existing node. This behavior significantly delays text rendering, often causing the <strong>Flash of Invisible Text</strong>(FOIT).</p>
<p>Implementing a font strategy prevents users from not being able to access your content.</p>
<p><code>font-display</code> is a new CSS property providing a non-javascript reliant solution.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: Post Grotesk;</span><br><span class="line">  src: url(<span class="string">'/fonts/Post-Growtest.woff2'</span>) format(<span class="string">'woff2'</span>),</span><br><span class="line">       url(<span class="string">'/fonts/Post-Growtest.woff'</span> format(<span class="string">'woff'</span>)),</span><br><span class="line">  font-display: swap; <span class="comment">// show fallback until web font is ready</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Optmizing-JS"><a href="#Optmizing-JS" class="headerlink" title="Optmizing JS"></a>Optmizing JS</h3></div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2017/09/12/options-of-webpack-dll-plugin/">Options of Webpack Dll Plugin</a><a class="next" href="/2017/09/07/Concept-on-BlockChain/">Concept on BlockChain</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Soup/">Soup</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/github/note/">note</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/note/workNote/">workNote</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/workNote/">workNote</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/Trick/" style="font-size: 15px;">Trick</a> <a href="/tags/Material-Design/" style="font-size: 15px;">Material Design</a> <a href="/tags/Phoenix-Elixir-Ecto/" style="font-size: 15px;">Phoenix, Elixir, Ecto</a> <a href="/tags/GraphQL-Apollo-TypeScript/" style="font-size: 15px;">GraphQL, Apollo, TypeScript</a> <a href="/tags/Int8Array/" style="font-size: 15px;">Int8Array</a> <a href="/tags/ETH-Wallet/" style="font-size: 15px;">ETH, Wallet</a> <a href="/tags/Node-CLI/" style="font-size: 15px;">Node, CLI</a> <a href="/tags/BlockChain/" style="font-size: 15px;">BlockChain</a> <a href="/tags/Solidity/" style="font-size: 15px;">Solidity</a> <a href="/tags/Contract-Solidity/" style="font-size: 15px;">Contract, Solidity</a> <a href="/tags/Smart-Contract-Web3/" style="font-size: 15px;">Smart Contract, Web3</a> <a href="/tags/Ruby-Rails-RoR-Mina/" style="font-size: 15px;">Ruby, Rails, RoR, Mina</a> <a href="/tags/React-Docker/" style="font-size: 15px;">React, Docker</a> <a href="/tags/Ethereum-IPFS/" style="font-size: 15px;">Ethereum, IPFS</a> <a href="/tags/Solidity-Error-Handling/" style="font-size: 15px;">Solidity, Error Handling</a> <a href="/tags/Ethereum/" style="font-size: 15px;">Ethereum</a> <a href="/tags/Solidity-Public-External/" style="font-size: 15px;">Solidity, Public, External</a> <a href="/tags/Node-Fastify/" style="font-size: 15px;">Node, Fastify</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/Go-Http-Web/" style="font-size: 15px;">Go, Http, Web</a> <a href="/tags/HTTP2-Node/" style="font-size: 15px;">HTTP2, Node</a> <a href="/tags/JSON-RPC/" style="font-size: 15px;">JSON-RPC</a> <a href="/tags/Ruby-Rails/" style="font-size: 15px;">Ruby, Rails</a> <a href="/tags/Rust-Rocket/" style="font-size: 15px;">Rust, Rocket</a> <a href="/tags/D3-Example/" style="font-size: 15px;">D3, Example</a> <a href="/tags/DAPP-Solidity/" style="font-size: 15px;">DAPP, Solidity</a> <a href="/tags/Pug-HTML/" style="font-size: 15px;">Pug, HTML</a> <a href="/tags/Drizzle-Ethereum-BlockChain/" style="font-size: 15px;">Drizzle, Ethereum, BlockChain</a> <a href="/tags/Protobuf/" style="font-size: 15px;">Protobuf</a> <a href="/tags/Mock-JavaScript/" style="font-size: 15px;">Mock, JavaScript</a> <a href="/tags/Blockchain/" style="font-size: 15px;">Blockchain</a> <a href="/tags/DApp-Solidity/" style="font-size: 15px;">DApp, Solidity</a> <a href="/tags/babel/" style="font-size: 15px;">babel</a> <a href="/tags/babel-polyfill/" style="font-size: 15px;">babel-polyfill</a> <a href="/tags/Javascript/" style="font-size: 15px;">Javascript</a> <a href="/tags/Redux/" style="font-size: 15px;">Redux</a> <a href="/tags/RxJS/" style="font-size: 15px;">RxJS</a> <a href="/tags/BOOTSTRAP/" style="font-size: 15px;">BOOTSTRAP</a> <a href="/tags/HTML5/" style="font-size: 15px;">HTML5</a> <a href="/tags/commandline/" style="font-size: 15px;">commandline</a> <a href="/tags/Bash/" style="font-size: 15px;">Bash</a> <a href="/tags/CommonJS/" style="font-size: 15px;">CommonJS</a> <a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/ESLint/" style="font-size: 15px;">ESLint</a> <a href="/tags/React-Redux/" style="font-size: 15px;">React-Redux</a> <a href="/tags/DOM/" style="font-size: 15px;">DOM</a> <a href="/tags/NPM/" style="font-size: 15px;">NPM</a> <a href="/tags/Gulp/" style="font-size: 15px;">Gulp</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/Thunk/" style="font-size: 15px;">Thunk</a> <a href="/tags/AJAX/" style="font-size: 15px;">AJAX</a> <a href="/tags/测试/" style="font-size: 15px;">测试</a> <a href="/tags/Koa/" style="font-size: 15px;">Koa</a> <a href="/tags/NODE/" style="font-size: 15px;">NODE</a> <a href="/tags/webpack2/" style="font-size: 15px;">webpack2</a> <a href="/tags/CORS/" style="font-size: 15px;">CORS</a> <a href="/tags/FP/" style="font-size: 15px;">FP</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Elixir-Phoenix-SCSS/" style="font-size: 15px;">Elixir, Phoenix, SCSS</a> <a href="/tags/automatic/" style="font-size: 15px;">automatic</a> <a href="/tags/Immutable/" style="font-size: 15px;">Immutable</a> <a href="/tags/Node-Graphql-Koa/" style="font-size: 15px;">Node, Graphql, Koa</a> <a href="/tags/Closure/" style="font-size: 15px;">Closure</a> <a href="/tags/DevTools/" style="font-size: 15px;">DevTools</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/MDL/" style="font-size: 15px;">MDL</a> <a href="/tags/precache/" style="font-size: 15px;">precache</a> <a href="/tags/Promise/" style="font-size: 15px;">Promise</a> <a href="/tags/Webpack-DLL/" style="font-size: 15px;">Webpack, DLL</a> <a href="/tags/React-Native/" style="font-size: 15px;">React-Native</a> <a href="/tags/React-Router/" style="font-size: 15px;">React-Router</a> <a href="/tags/React-Router-Code-splitting/" style="font-size: 15px;">React, Router, Code-splitting</a> <a href="/tags/RegExp/" style="font-size: 15px;">RegExp</a> <a href="/tags/Html-Picture/" style="font-size: 15px;">Html, Picture</a> <a href="/tags/Koa-NPM-Package/" style="font-size: 15px;">Koa, NPM, Package</a> <a href="/tags/Nock/" style="font-size: 15px;">Nock</a> <a href="/tags/Solidity-Smart-Contract/" style="font-size: 15px;">Solidity, Smart Contract</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/05/15/Association-in-Phoenix/">Association in Phoenix</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/15/cast-assoc/">Difference Bwtween Build_assoc, Put_assoc, and Cast_assoc</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/14/Introduction-to-Object-getOwnPropertyDescriptors/">Introduction to Object.getOwnPropertyDescriptors</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/06/enable-sass-scss-in-phoenix/">Enable Sass/scss in Phoenix</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/14/Model-Generator-of-Rails/">Model Generator of Rails</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/13/Error-Handling-in-Solidity/">Error Handling in Solidity</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/13/Start-in-Drizzle/">Start in Drizzle </a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/12/Constant-View-and-Pure-in-Solidity/">Constant, View, and Pure in Solidity</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/05/Writing-Upgradable-Contracts-in-Solidity/">Writing Upgradable Contracts in Solidity</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/28/Dockerizing-a-React-App/">Dockerizing a React App</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://github.com/Keith-CY" title="Github" target="_blank">Github</a><ul></ul><a href="https://www.linkedin.com/in/%E5%AE%87-%E9%99%88-644b61ba/" title="LinkedIn" target="_blank">LinkedIn</a><ul></ul><a href="https://www.facebook.com/keithwhisper" title="Facebook" target="_blank">Facebook</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">EzCook.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>