<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Deep in Viewport | EzCook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="vw(viewport width) and vh(viewport height) are legnth units that represent exactly 1% of the size of any given viewport, regardless of its measurements. rem(short for root em) is also similar in its f">
<meta property="og:type" content="article">
<meta property="og:title" content="Deep in Viewport">
<meta property="og:url" content="http://yoursite.com/2017/06/05/Deep-in-Viewport/index.html">
<meta property="og:site_name" content="EzCook">
<meta property="og:description" content="vw(viewport width) and vh(viewport height) are legnth units that represent exactly 1% of the size of any given viewport, regardless of its measurements. rem(short for root em) is also similar in its f">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/csspixels_100.gif">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/csspixels_out.gif">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/csspixels_in.gif">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_screen.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_inner.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_page.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_100percent.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_client.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_client_smallpage.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_offset.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_offset_smallpage.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_pageXY.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/desktop_mediaqueries.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_visualviewport.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_viewportzoomedout.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_layoutviewport.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_layoutviewport_la.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_client.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_inner.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mobile_page.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mq_none.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mq_none_zoomed.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mq_html300.jpg">
<meta property="og:image" content="https://www.quirksmode.org/mobile/pix/viewport/mq_yes.jpg">
<meta property="og:updated_time" content="2017-06-06T08:48:30.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Deep in Viewport">
<meta name="twitter:description" content="vw(viewport width) and vh(viewport height) are legnth units that represent exactly 1% of the size of any given viewport, regardless of its measurements. rem(short for root em) is also similar in its f">
<meta name="twitter:image" content="https://www.quirksmode.org/mobile/pix/viewport/csspixels_100.gif">
  
    <link rel="alternate" href="/atom.xml" title="EzCook" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    
      <body class="dark">
    
  
      <div id="container" class="container">
        <article id="post-Deep-in-Viewport" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Deep in Viewport
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p><code>vw</code>(viewport width) and <code>vh</code>(viewport height) are legnth units that represent exactly 1% of the size of any given viewport, regardless of its measurements. <code>rem</code>(short for root em) is also similar in its functionality, although it deals specifically with font sizes, and derives its name from the value fo the font size of the root element – which should default to 16 pixels on most browsers.</p>
<p>There are also a few more viewport units available for use, such as <code>vmin</code> and <code>vmax</code> which refer respectively to 1% of the viewport’s smaller dimension, and 1% of its larger dimension.</p>
<p>Interestingly enough, browsers actually calculate the entire browser window when it comes to width, meaning they factor the scrollbar into this dimension. Should you attempt to set the width of an element to a value of 100vw, it would force a horizontal bar to appear, since you’d be lightly stretching your viewport.</p>
<h1 id="Device-Pixels-and-CSS-Pixels"><a href="#Device-Pixels-and-CSS-Pixels" class="headerlink" title="Device Pixels and CSS Pixels"></a>Device Pixels and CSS Pixels</h1><p>Device Pixels are the kind of pixels we intuitively assume to be ‘right’. These pixels give the formal resolution of whichever device you’re working on, and can be read out from <code>screen.width/height</code>.</p>
<p>If you give a certain element a <code>width: 128px</code>, and your monitor is 1024px wide, and you maximize your browser screen, the element would fit out on your monitor eight times.</p>
<p>If the user zooms, however, this calculation is going to change. If the user zooms to 200%, your element with <code>width: 128px</code> will fit only four times on this 1024px wide monitor.</p>
<p>Zooming as implemented in modern browsers consists of nothing more than ‘stretching up’ pixels. That is, the width of the elemtn is not changed from 128 to 256px, instead <em>the actual pixels</em> are doubled in size. Formally, the element still has width of 128 CSS pixels, even though it happens to take the space of 256px.</p>
<p>In other words, zooming to 200% makes one css pixels grow to four times the size of one device pixels(two times the width, two times the height)</p>
<p>A few images will clarify the concept. Here are four pixels on 100% zoom level. Here CSS px fully overlap with device px.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/csspixels_100.gif" alt=""></p>
<p>Let’s zoom out. The CSS pixels start to shrink, meaning that one device px now overlaps several CSS px.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/csspixels_out.gif" alt=""></p>
<p>If you zoom in, the opposite happens. The CSS px start to grow, and now one CSS px overlap several device px.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/csspixels_in.gif" alt=""></p>
<p>The point is that you are only interested in CSS px. It’s those px that dictate how your style sheet is rendered.</p>
<p>Device px are almost entirely useless to you.</p>
<blockquote>
<p>At zoom level 100% one CSS px is exactly equal to Device px.</p>
</blockquote>
<h1 id="Screen-Size"><a href="#Screen-Size" class="headerlink" title="Screen Size"></a>Screen Size</h1><p><code>screen.width</code> and <code>screen.height</code> means the total width width and height of the user’s screen. <strong>These dimensions are measured in device px because they never change: they’re feature of the monitor and not of the browser.</strong></p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_screen.jpg" alt=""></p>
<h1 id="Window-Size"><a href="#Window-Size" class="headerlink" title="Window Size"></a>Window Size</h1><p><code>window.innerWidth</code> and <code>window.innerHeight</code></p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_inner.jpg" alt=""></p>
<p>Window Size is measured in CSS px.</p>
<h1 id="Scrolling-Offset"><a href="#Scrolling-Offset" class="headerlink" title="Scrolling Offset"></a>Scrolling Offset</h1><p><code>window.pageXOffset</code> and <code>window.pageYOffset</code> contains the horizontal and vertical scrolling offsets of the document. Thus you can find out how much the user has scrolled.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_page.jpg" alt=""></p>
<p>These properties measured in CSS px.</p>
<h1 id="Viewport"><a href="#Viewport" class="headerlink" title="Viewport"></a>Viewport</h1><p>The function of the viewport is to constrain the element, which is the uppermost containing block of your site.</p>
<p>Suppose you have a liquid layout and one of your sidebar has <code>width: 10%</code>. Now the sidebar neatly grows and shrinks as your resize the browser window. How does it work.</p>
<p>Technically, what happens is that the sidebar gets 10% of the width of its parent. Let’s say the . Normally all block-level element take 100% of the width of their parent ().</p>
<p>So your sidebar get width of 10% of browser.</p>
<p>In theory, the width of the element is restricted by the width of the viewport. The element takes 100% of the width of that viewport.</p>
<p>The viewport, in turn, is exactly equal to the browser window: it’s been defined as such. The viewport is not an HTML construct, so you cannot influence it by CSS. It just has the width and height of the browser window – on desktop. On mobile it’s quite a bit more complicated.</p>
<p>White <code>width: 100%</code> works fine at 100% zoom, if we zoomed in the viewport has become smaller than the total width of the site, the content will spills out of the element, but that element has <code>overflow: visible</code>, which means that the spilled-out content will be show in any case.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_100percent.jpg" alt=""></p>
<h1 id="Measuring-the-viewport"><a href="#Measuring-the-viewport" class="headerlink" title="Measuring the viewport"></a>Measuring the viewport</h1><p>The Viewport size can be found in <code>document.documentElement.clientHeight</code> and <code>document.documentElement.clientWidth</code></p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_client.jpg" alt=""></p>
<p>If you know your DOM, you know that <code>document.documentElement</code> is in fact the <code>&lt;html&gt;</code> element: the root element of any HTML document. However, the viewport is one level higher, so to speak, it’s the element that contains the <code>&lt;html&gt;</code> element. That matters if you give the <code>&lt;html&gt;</code> element a <code>width</code>.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_client_smallpage.jpg" alt=""></p>
<p>So <code>document.documentElement.clientWidth</code> and <code>document.documentElement.clientHeight</code> always give the viewport dimensions, regardless of the dimensions of the <code>&lt;html&gt;</code> element.</p>
<h1 id="Measuring-the-element"><a href="#Measuring-the-element" class="headerlink" title="Measuring the element"></a>Measuring the element</h1><p><code>document.documentElement.offsetWidth</code> and <code>document.documentElement.offsetHeight</code> will give size.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_offset.jpg" alt=""></p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_offset_smallpage.jpg" alt=""></p>
<h2 id="Event-coordinates"><a href="#Event-coordinates" class="headerlink" title="Event coordinates"></a>Event coordinates</h2><p>There are the event coordinates. When a mouse event occurs, no less than five property pairs are exposed to give you information abou the exact place of the event. For our discussion three of them are important:</p>
<ul>
<li><p><code>pageX/pageY</code> gives the coordinates relative to the <code>&lt;html&gt;</code> element in CSS px.</p>
</li>
<li><p><code>clientX/Y</code> gives the coordinates relative to the viewport in CSS px.</p>
</li>
<li><p><code>screenX/Y</code> gives the coordinate relative to the screen in DEVICE px.</p>
</li>
</ul>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_pageXY.jpg" alt=""></p>
<p>You’ll use <code>pageX/Y</code> 90% of the time. Usually you want to know the event position relative to the document.</p>
<p>The other 10% of the time you’ll use <code>clientX/Y</code></p>
<p>You never ever need to know the event coordiantes relative to the screen.</p>
<h3 id="Media-queries"><a href="#Media-queries" class="headerlink" title="Media queries"></a>Media queries</h3><p>There are two relavant media queries: <code>width/height</code> and <code>device-width/device-height</code></p>
<ul>
<li><p><code>width/height</code> uses the same values as <code>document.Element.clientWidth/clientHeight</code>, namely the viewport, it works with CSS px.</p>
</li>
<li><p><code>device-width/device-height</code> uses the same values as <code>screen.width/height</code> with device px.</p>
</li>
</ul>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/desktop_mediaqueries.jpg" alt=""></p>
<h1 id="The-problem-of-mobile-browser"><a href="#The-problem-of-mobile-browser" class="headerlink" title="The problem of mobile browser"></a>The problem of mobile browser</h1><p>Let’s go back to our sidebar with <code>width:10%</code>, if mobile browsers would do exactly the same as desktop browser, they’d make the element about 40px (if the device-width is 400px). and that’s too narrow. Your liquid layout would look horribly squashed.</p>
<h1 id="Two-viewports"><a href="#Two-viewports" class="headerlink" title="Two viewports"></a>Two viewports</h1><p>The viewport is too narrow to serve as a basis for your CSS layout. The obvious solution is to make the viewport wider. That however requires it to be split into two: the visual viewport and the layout viewport.</p>
<p>A simple explanation at StackOverFlow:</p>
<blockquote>
<p>Imagine the layout viewport as being a large image which does not change size or shape. Now image you have a smaller frame through which you look at the large image. The small frame is surrounded by opaque material which obscures your view of all but a portion of the large image. The portion of the large image that you can see through the frame is the visual port. You can back away from the large image while holding your frame(zoom out) to see the entire image at once, or you can move closer(zoom in) to see only a portion. You can also change the orientation of the frame, but the size and shape of the large image (layout viewport) never changes.</p>
</blockquote>
<p>The visual viewport is the part of the page that’s currently shown on-screen.</p>
<p>The user may scroll to change the part of the page he sees, or zoom to change the size of the visual viewport.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_visualviewport.jpg" alt=""></p>
<p>However, the CSS layout, especially percentual widths, are calculated relative to the <strong>layout viewport</strong>, which is considerably wider than the visual viewport.</p>
<p>Thus the <code>&lt;html&gt;</code> element tabkes the width of the layout viewport initially, and your CSS is interpreted as if the screen were significantly wider than the phone screen. This makes sure that your site’s layout behaves as it does on a desktop browser.</p>
<p>How wide is the layout viewport? That differs per browser.</p>
<ul>
<li><p>Safari uses 980px</p>
</li>
<li><p>Opera uses 850px</p>
</li>
<li><p>Android 800px</p>
</li>
<li><p>IE 974px</p>
</li>
</ul>
<h1 id="Understanding-the-layout-viewport"><a href="#Understanding-the-layout-viewport" class="headerlink" title="Understanding the layout viewport"></a>Understanding the layout viewport</h1><p>In order to understand the size of the layout viewport we have to take a look at what happens when the page if fully zoomed out. Many mobile browsers initially show any page in fully zoomed-out mode.</p>
<p>The point is: browser have chosen their dimensions of the layout viewport such that it completely covers the screen if fully zoomed-out mode(equal to the visual viewport)</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_viewportzoomedout.jpg" alt=""></p>
<p>Thus the width and the height of the layout viewport are equal to whatever can be shown on the screen in the maximally zoomed-out mode. When the user zooms in these dimensions stay the same.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_layoutviewport.jpg" alt=""></p>
<p>The layout viewport width is always the same, if you rotate your phone, the visual viewport changes, but the browser adapts to this new orientation by zooming in slightly so that the layout viewport is again as wide as the visual viewport.</p>
<p>This has consequences for the layout viewport’s height, which is now substantially less than in portrait mode. But web developers don’t care about the height, only about the width.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_layoutviewport_la.jpg" alt=""></p>
<h1 id="Measuring-the-layout-viewport"><a href="#Measuring-the-layout-viewport" class="headerlink" title="Measuring the layout viewport"></a>Measuring the layout viewport</h1><p><code>document.documentElement.clientWidth</code> and <code>document.documentElement.clientHeight</code> contain the layout viewport’s dimensions.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_client.jpg" alt=""></p>
<p>The orientation matters for the height, but not for the width.</p>
<h1 id="Measuring-the-visual-viewport"><a href="#Measuring-the-visual-viewport" class="headerlink" title="Measuring the visual viewport"></a>Measuring the visual viewport</h1><p>As to the visual viewport, it is measured by <code>window.innerWidth/innerHeight</code>. Obviously the measurements change when the user zooms out or in, since more or fewer CSS px fit into the screen.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_inner.jpg" alt=""></p>
<h1 id="The-Screen"><a href="#The-Screen" class="headerlink" title="The Screen"></a>The Screen</h1><p>As on desktop, <code>screen.width/height</code> gives the screen size, in device pixels. As on the desktop, you never need this information as a web developer.</p>
<h1 id="Visual-viewport-position-relative-to-Layout-viewport"><a href="#Visual-viewport-position-relative-to-Layout-viewport" class="headerlink" title="Visual viewport position relative to Layout viewport"></a>Visual viewport position relative to Layout viewport</h1><p><img src="https://www.quirksmode.org/mobile/pix/viewport/mobile_page.jpg" alt=""></p>
<h1 id="html-element"><a href="#html-element" class="headerlink" title="html element"></a>html element</h1><p>Just as on desktop, <code>document.documentElemetn.offsetWidth/offsetHeight</code> gives the total size of the <code>&lt;html&gt;</code> element in CSS px.</p>
<h1 id="Meta-Viewport"><a href="#Meta-Viewport" class="headerlink" title="Meta Viewport"></a>Meta Viewport</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=320"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>It is meant to resize the layout viewport.</p>
<p>Suppose you build a simple page and give your elemnet no <code>width</code>. Now they stretch up to take 100% of the width of the layout viewport. Most browsers zoom out to show the entire layout viewport on the screen, giving an effect like this</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mq_none.jpg" alt=""></p>
<p>All user will immediately zoom in, which works, but most browsers keep the width of the elements intact, whcih makes the text hard to read.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mq_none_zoomed.jpg" alt=""></p>
<p>Now what you can try is setting <code>html {width: 320px}</code> then</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mq_html300.jpg" alt=""></p>
<p>When you set</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=320"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>You set the width of the layout viewport to 320px.</p>
<p><img src="https://www.quirksmode.org/mobile/pix/viewport/mq_yes.jpg" alt=""></p>
<p>Of course now we use</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>to adapt to various browsers.</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/06/05/Deep-in-Viewport/" class="article-date">
  <time datetime="2017-06-05T10:28:20.000Z" itemprop="datePublished">2017-06-05</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/06/06/Basic-Info-of-Web-Worker/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Basic Info of Web Worker
        
      </div>
    </a>
  
  
    <a href="/2017/06/05/utils-in-axios/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">utils in axios</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>Write for Archive</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
