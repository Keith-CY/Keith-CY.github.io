<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Type Compatibility in TypeScript | EzCook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Type Compaibility in TypeScript is based on Structural Subtyping. Structural Typing is a way of relating types based solely on their members. This is in contrast with nominal typing. Consider the foll">
<meta property="og:type" content="article">
<meta property="og:title" content="Type Compatibility in TypeScript">
<meta property="og:url" content="http://yoursite.com/2017/06/12/Type-Compatibility-in-TypeScript/index.html">
<meta property="og:site_name" content="EzCook">
<meta property="og:description" content="Type Compaibility in TypeScript is based on Structural Subtyping. Structural Typing is a way of relating types based solely on their members. This is in contrast with nominal typing. Consider the foll">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-06-12T09:21:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Type Compatibility in TypeScript">
<meta name="twitter:description" content="Type Compaibility in TypeScript is based on Structural Subtyping. Structural Typing is a way of relating types based solely on their members. This is in contrast with nominal typing. Consider the foll">
  
    <link rel="alternate" href="/atom.xml" title="EzCook" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    
      <body class="dark">
    
  
      <div id="container" class="container">
        <article id="post-Type-Compatibility-in-TypeScript" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Type Compatibility in TypeScript
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <p>Type Compaibility in TypeScript is based on <strong>Structural Subtyping</strong>. Structural Typing is a way of relating types based solely on their members. This is in contrast with nominal typing. Consider the following code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">interface Named &#123;</div><div class="line">  <span class="attr">name</span>: string</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line">  name: string</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> p: Named</div><div class="line"><span class="comment">// OK, because of structural typing</span></div><div class="line">p = <span class="keyword">new</span> Person()</div></pre></td></tr></table></figure>
<p>In nominally-typed language like C# or Java, the equivalnet code would be error because the <code>Person</code> class does not explicitly describe itself as being an implementor of the <code>Named</code> interface.</p>
<p>TypeScript’s structural type system was designed based on how JavaScript code is typically written. Because JavaScript widely uses anonymous objects like function expressions and object literals, it’s much more natural to represent the kinds of relationship found in JavaScript libraries with a structural type system instead of a nominal one.</p>
<p>The basic rule for TypeScript’s structural type system is the <code>x</code> is compatible with <code>y</code> if <code>y</code> has at least the same members as <code>x</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">interface Named &#123;</div><div class="line">  <span class="attr">name</span>: string;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> x: Named;</div><div class="line"><span class="comment">// y's inferred type is &#123; name: string, location: string &#125;</span></div><div class="line"><span class="keyword">let</span> y = &#123; <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">location</span>: <span class="string">'Seattle'</span> &#125;</div><div class="line">x = y</div></pre></td></tr></table></figure>
<p>To check whether <code>y</code> can be assigned to <code>x</code>, the compiler checks each property of <code>x</code> to find a corresponding compatible property in <code>y</code>. In this case, <code>y</code> must have a member called <code>name</code> that is a string, so the assignment is allowed.</p>
<p>The same rule for assignment is used when checking function call arguments</p>
<blockquote>
<p>The Type Compatibility in Variable Assignment and Function Arguments.</p>
</blockquote>
<h1 id="Comparing-Two-Functions"><a href="#Comparing-Two-Functions" class="headerlink" title="Comparing Two Functions"></a>Comparing Two Functions</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="function">(<span class="params">a: number</span>) =&gt;</span> <span class="number">0</span></div><div class="line"><span class="keyword">let</span> y = <span class="function">(<span class="params">b: number, s: string</span>) =&gt;</span> <span class="number">0</span></div><div class="line"></div><div class="line">y = x <span class="comment">// OK</span></div><div class="line">x = y <span class="comment">// Error</span></div></pre></td></tr></table></figure>
<p>The check if <code>x</code> is assignable to <code>y</code>, we first look at the parameter list. Each parameter in <code>x</code> must have a corresponding parameter in <code>y</code> with a compabile type.</p>
<p>So <code>x</code> is assignable to <code>y</code>, but <code>y</code> is not assignable to <code>x</code></p>
<p>Now let’s look at how return types are treated, using two functions that differs only by their return type:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> x = <span class="function"><span class="params">()</span> =&gt;</span> (&#123; <span class="attr">name</span>: <span class="string">'Alice'</span> &#125;)</div><div class="line"><span class="keyword">let</span> y = <span class="function"><span class="params">()</span> =&gt;</span> (&#123; <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">location</span>: <span class="string">'Seattle'</span> &#125;)</div><div class="line"></div><div class="line">x = y <span class="comment">// OK</span></div><div class="line">y = x <span class="comment">// Error</span></div></pre></td></tr></table></figure>
<p>The type system enforces that the source function’s return type be a subtype of the target type’s return type.</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/06/12/Type-Compatibility-in-TypeScript/" class="article-date">
  <time datetime="2017-06-12T08:52:22.000Z" itemprop="datePublished">2017-06-12</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/06/14/git-merge-and-rebase/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          git merge and rebase
        
      </div>
    </a>
  
  
    <a href="/2017/06/09/mannual-of-ownership-in-rust/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Mannual of Ownership in Rust </div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>Write for Archive</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
