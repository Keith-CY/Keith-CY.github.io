<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>Simple about InfluxDB | EzCook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Install InfluxDB on MacOS12brew updatebrew install influxdb To run influxDB at startup, run this command 1ln -sfv /usr/local/opt/influxdb/*.plist ~/Library/LaunchAgents Now, to start InfluxDB, run thi">
<meta property="og:type" content="article">
<meta property="og:title" content="Simple about InfluxDB">
<meta property="og:url" content="http://yoursite.com/2017/06/30/Simple-about-InfluxDB/index.html">
<meta property="og:site_name" content="EzCook">
<meta property="og:description" content="Install InfluxDB on MacOS12brew updatebrew install influxdb To run influxDB at startup, run this command 1ln -sfv /usr/local/opt/influxdb/*.plist ~/Library/LaunchAgents Now, to start InfluxDB, run thi">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-06-30T09:06:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Simple about InfluxDB">
<meta name="twitter:description" content="Install InfluxDB on MacOS12brew updatebrew install influxdb To run influxDB at startup, run this command 1ln -sfv /usr/local/opt/influxdb/*.plist ~/Library/LaunchAgents Now, to start InfluxDB, run thi">
  
    <link rel="alternate" href="/atom.xml" title="EzCook" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    
      <body class="dark">
    
  
      <div id="container" class="container">
        <article id="post-Simple-about-InfluxDB" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Simple about InfluxDB
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <h1 id="Install-InfluxDB-on-MacOS"><a href="#Install-InfluxDB-on-MacOS" class="headerlink" title="Install InfluxDB on MacOS"></a>Install InfluxDB on MacOS</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">brew update</div><div class="line">brew install influxdb</div></pre></td></tr></table></figure>
<p>To run influxDB at startup, run this command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ln -sfv /usr/<span class="built_in">local</span>/opt/influxdb/*.plist ~/Library/LaunchAgents</div></pre></td></tr></table></figure>
<p>Now, to start InfluxDB, run this command(Accept the request of incoming connections in the window that appears)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">influxd -config /usr/<span class="built_in">local</span>/etc/influxdb.conf</div></pre></td></tr></table></figure>
<h1 id="Check-if-InfluxDB-works"><a href="#Check-if-InfluxDB-works" class="headerlink" title="Check if InfluxDB works"></a>Check if InfluxDB works</h1><p>InfluxDB exposes an API with which one can easily check its good working condition. Here’s what you will receive in return for this curl command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">curl -sl -I localhost:8086/ping</div><div class="line">HTTP/1.1 204 No Content</div><div class="line">Content-Type: application/json</div><div class="line">Request-Id: 95b307f8-5d6b-11e7-8002-000000000000</div><div class="line">X-Influxdb-Version: v1.3.0</div><div class="line">Date: Fri, 30 Jun 2017 08:10:31 GMT</div></pre></td></tr></table></figure>
<h1 id="Terminology-difference-with-SQL-database"><a href="#Terminology-difference-with-SQL-database" class="headerlink" title="Terminology, difference with SQL database"></a>Terminology, difference with SQL database</h1><p>Like all non-relational database, InfluxDB for its own vocabulary your need to know before starting</p>
<ul>
<li><p><strong>Measurement</strong> is equivalent to <strong>SQL table</strong></p>
</li>
<li><p><strong>Tags</strong> is similar to a <strong>indexed column</strong> in a SQL database</p>
</li>
<li><p><strong>Fields</strong> is similar to the <strong>column not indexed</strong> in a SQL database</p>
</li>
<li><p><strong>Points</strong> is equivalent to <strong>line(row)</strong> in a SQL database</p>
</li>
</ul>
<h1 id="Database-Management-Methods"><a href="#Database-Management-Methods" class="headerlink" title="Database Management Methods"></a>Database Management Methods</h1><p>There are 6 methods to manage database</p>
<ul>
<li><p>CREATE DATABASE</p>
</li>
<li><p>DROP DATABASE</p>
</li>
<li><p>DROP SETS</p>
</li>
<li><p>DELETE</p>
</li>
<li><p>DROP MEASUREMENT</p>
</li>
<li><p>DROP SHARD</p>
</li>
</ul>
<h2 id="Create-a-Database"><a href="#Create-a-Database" class="headerlink" title="Create a Database"></a>Create a Database</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE DATABASE &lt;database_name&gt; [WITH [DURATION &lt;duration&gt;] [REPLICATION &lt;n&gt;] [SHARD DURATION &lt;shard_duration&gt;] [NAME &lt;retention-policy-name&gt;]]</div></pre></td></tr></table></figure>
<p><strong>Basic Setting</strong></p>
<ul>
<li><p>database_name: name of the database</p>
</li>
<li><p>duration: you can set the period of data retention(conversation) but it makes more sense to implement a retention policy.</p>
</li>
</ul>
<h2 id="Delete-a-database-drop-database"><a href="#Delete-a-database-drop-database" class="headerlink" title="Delete a database (drop database)"></a>Delete a database (drop database)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP DATABASE &lt;database_name&gt;</div></pre></td></tr></table></figure>
<h1 id="Establish-a-retention-policy"><a href="#Establish-a-retention-policy" class="headerlink" title="Establish a retention policy"></a>Establish a retention policy</h1><p>InfluxDB incorporates a system of automatic deletion of data. It is the policy of Retention. Spent some time, data is automatically deleted from the base. This mechanism is very convenient because it for a good grasp of size of the base and we don’t have to worry about the maintenance operation. Free to each set the lifetime of any particular measure. If you want to follow the temperature of its microprocessor, one less may be sufficient, instead the retention policy must be more flexible if we want to compare the temperature in a House form one year to the other. It will also think about the system upstream, you don’t have to store a measurement of atmosphere temperature every 10 seconds! A measurement per minutes, 15 minutes, that’s enough. Instead in an industrial process, we certainly want to go for the second… or a lot less.</p>
<p>We therefore for 3 methods</p>
<ul>
<li><p>Create: to create a rule of conservation of data</p>
</li>
<li><p>Alter: to change a rule</p>
</li>
<li><p>Drop: to remove a rule</p>
</li>
</ul>
<h1 id="Create-a-retention-policy"><a href="#Create-a-retention-policy" class="headerlink" title="Create a retention policy"></a>Create a retention policy</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE RETENTION POLICY &lt;name_politic_retention&gt; ON &lt;name_database&gt; DURATION: &lt;duration&gt; REPLICATION: &lt;n&gt; [SHARD DURATION &lt;duration duration_shard&gt;] [DEFAULT]</div></pre></td></tr></table></figure>
<p><strong>Parameters</strong></p>
<ul>
<li><p>name_politic_retention: a short name without spaces of preference</p>
</li>
<li><p>name_database: the database on which applies the retention policy</p>
</li>
<li><p>duration: duration of data retention. It’s a literal expression which must respect the convention InfluxDB</p>
</li>
<li><p>duration_shard: the duration of storage of the data in the buffer zone</p>
</li>
<li><p>n: number of replication(required), put 1 if no cluster installed</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE RETENTION POLICY <span class="string">'one_day_only'</span> WE <span class="string">'NOAA_water_database'</span> DURATION 1 d REPLICATION 1</div></pre></td></tr></table></figure>
<p>This policy keeps the records during a day(one_day_only) based NOAA_water_database. The data are stored in space shard 1 day. Replication 1 indicates that a copy of each item is copied in the cluster.</p>
<h1 id="Modify-retention-policy-alter-retention-policy"><a href="#Modify-retention-policy-alter-retention-policy" class="headerlink" title="Modify retention policy(alter retention policy)"></a>Modify retention policy(alter retention policy)</h1><p>This method allows to change an existing retention policy</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER ...</div></pre></td></tr></table></figure>
<h1 id="Destroyed-a-retention-policy-drop-retention-policy"><a href="#Destroyed-a-retention-policy-drop-retention-policy" class="headerlink" title="Destroyed a retention policy(drop retention policy)"></a>Destroyed a retention policy(drop retention policy)</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP RETENTION ...</div></pre></td></tr></table></figure>
<h1 id="Discover-the-InfluxDB-Shell"><a href="#Discover-the-InfluxDB-Shell" class="headerlink" title="Discover the InfluxDB Shell"></a>Discover the InfluxDB Shell</h1><p>Now we know some methods, we will provide to run some test</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/06/30/Simple-about-InfluxDB/" class="article-date">
  <time datetime="2017-06-30T08:00:10.000Z" itemprop="datePublished">2017-06-30</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/06/30/Querying-InfluxDB-with-the-HTTP-API/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Querying InfluxDB with the HTTP API
        
      </div>
    </a>
  
  
    <a href="/2017/06/30/Usage-of-Node-Influx/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Usage of Node-Influx</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>Write for Archive</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
