<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  <title>mongodb simple guide | EzCook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="yarn add mongoose  import mongoose from &amp;#39;mongoose&amp;#39;  const db = mongoose.conenct(MONGODB_URI)   1234567891011import mongoose from &apos;mongoose&apos;const db = mongoose.connect(MONGODB_URI)db.connectio">
<meta property="og:type" content="article">
<meta property="og:title" content="mongodb simple guide">
<meta property="og:url" content="http://yoursite.com/2017/05/30/mongodb-simple-guide/index.html">
<meta property="og:site_name" content="EzCook">
<meta property="og:description" content="yarn add mongoose  import mongoose from &amp;#39;mongoose&amp;#39;  const db = mongoose.conenct(MONGODB_URI)   1234567891011import mongoose from &apos;mongoose&apos;const db = mongoose.connect(MONGODB_URI)db.connectio">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-05-30T13:12:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mongodb simple guide">
<meta name="twitter:description" content="yarn add mongoose  import mongoose from &amp;#39;mongoose&amp;#39;  const db = mongoose.conenct(MONGODB_URI)   1234567891011import mongoose from &apos;mongoose&apos;const db = mongoose.connect(MONGODB_URI)db.connectio">
  
    <link rel="alternate" href="/atom.xml" title="EzCook" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/typing.css">
</head>

  
    
      <body class="dark">
    
  
      <div id="container" class="container">
        <article id="post-mongodb-simple-guide" class="article article-type-post" itemscope itemprop="blogPost">
  <header id="header" class="header">
  <nav id="main-nav" class="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
    
  </nav>
</header>

  <hr/>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      mongodb simple guide
    </h1>
  

      </header>
    
    <div class="article-entry typo" itemprop="articleBody">
      
        <ul>
<li><p><code>yarn add mongoose</code></p>
</li>
<li><p><code>import mongoose from &#39;mongoose&#39;</code></p>
</li>
<li><p><code>const db = mongoose.conenct(MONGODB_URI)</code></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> db = mongoose.connect(MONGODB_URI)</div><div class="line"></div><div class="line">db.connection.on(<span class="string">'open'</span>, () =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'connected'</span>)</div><div class="line">&#125;)</div><div class="line">db.connection.on(<span class="string">'error'</span>, (err) =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`db error: <span class="subst">$&#123;err&#125;</span>`</span>)</div><div class="line">  process.exit</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h1><p>Schema defines the skeleton of minimal unit</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span></div><div class="line"><span class="keyword">const</span> TestSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</div><div class="line">  <span class="attr">name</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span> &#125;,</div><div class="line">  <span class="attr">age</span>: &#123; <span class="attr">type</span>: <span class="built_in">Number</span>, <span class="attr">default</span>: <span class="number">0</span> &#125;,</div><div class="line">  <span class="attr">time</span>: &#123; <span class="attr">type</span>: <span class="built_in">Date</span>, <span class="attr">default</span>: <span class="built_in">Date</span>.now() &#125;,</div><div class="line">  <span class="attr">email</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">default</span>: <span class="string">''</span> &#125;,</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>Primitive Types: String, Number, Boolean, null, Array, Document, Date</p>
</blockquote>
<h1 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h1><p>Instance of Schema, it has ability to operate db</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> db = mongoose.connect(MONGODB.URI)</div><div class="line"><span class="keyword">const</span> testModal = db.model(<span class="string">'test1'</span>, TestSchema)</div></pre></td></tr></table></figure>
<ul>
<li>test1: Name of Collection in the DB</li>
</ul>
<h1 id="Entity"><a href="#Entity" class="headerlink" title="Entity"></a>Entity</h1><p>Instance of Model, it has ability to operate db</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> TestEntity = <span class="keyword">new</span> TestModel(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Lenka'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">35</span>,</div><div class="line">  <span class="attr">email</span>: <span class="string">'lenka@gmail.com'</span>,</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(TestEntity.name) <span class="comment">// Lenka</span></div><div class="line"><span class="built_in">console</span>.log(TestEntity.age) <span class="comment">// 35</span></div></pre></td></tr></table></figure>
<h1 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span></div><div class="line"><span class="keyword">const</span> db = mongoose.connect(MONGODB.URI)</div><div class="line"><span class="keyword">const</span> TestSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</div><div class="line">  <span class="attr">name</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span> &#125;,</div><div class="line">  <span class="attr">age</span>: &#123; <span class="attr">type</span>: <span class="built_in">Number</span>, <span class="attr">default</span>: <span class="number">0</span> &#125;,</div><div class="line">  <span class="attr">email</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span> &#125;,</div><div class="line">  <span class="attr">time</span>: &#123; <span class="attr">type</span>: <span class="built_in">Date</span>, <span class="attr">default</span>: <span class="built_in">Date</span>.now() &#125;,</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">const</span> TestModel = db.model(<span class="string">'test1'</span>, TestSchema)</div><div class="line"><span class="keyword">const</span> TestEntity = <span class="keyword">new</span> TestModel(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'hello world'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">12</span>,</div><div class="line">  <span class="attr">email</span>: <span class="string">'helloworld@gmail.com'</span>,</div><div class="line">&#125;)</div><div class="line">TestEntity.save(<span class="function">(<span class="params">err, doc</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (err) =&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'error: '</span> + err)</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(doc)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Find"><a href="#Find" class="headerlink" title="Find"></a>Find</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">obj.find(condition, field, callback)</div></pre></td></tr></table></figure>
<p>if <code>fields</code> is omited, or <code>null</code>, the docs will return all attributes</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Model.find(&#123; <span class="string">'age'</span>: <span class="number">25</span> &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">  <span class="built_in">console</span>.log(docs)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">Model.find(&#123;&#125;, &#123; <span class="attr">name</span>: <span class="number">1</span>, <span class="attr">age</span>: <span class="number">1</span>, <span class="attr">_id</span>: <span class="number">0</span> &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// the specific attributes will be returned if corresponding fields are set to positive(here they are name and age), and _id is default to be displayed, if you want to omit it, you should set it to be 0.</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="findOne"><a href="#findOne" class="headerlink" title="findOne"></a>findOne</h1><p>Same as <code>find</code>, except it will return only one matched</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">TestModel.findOne(condition, fields, (err, doc) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="findById"><a href="#findById" class="headerlink" title="findById"></a>findById</h1><p>Same as <code>findOne</code>, but it only find by <code>_id</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">TestModel.findById(<span class="string">'obj._id'</span>, (err, doc) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Model.create(&#123;&#125;, callback)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">Model.create(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'test'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">12</span>,</div><div class="line">&#125;, (err, doc) =&gt; &#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">  <span class="built_in">console</span>.log(doc)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">TestModel.create([</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test1'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test2'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test3'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test4'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test5'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test6'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test7'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test8'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">  &#123; <span class="attr">name</span>: <span class="string">'test9'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</div><div class="line">])</div></pre></td></tr></table></figure>
<h1 id="Save"><a href="#Save" class="headerlink" title="Save"></a>Save</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Entity.save(&#123;&#125;, callback)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Entity = <span class="keyword">new</span> Model(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'entity_save'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">Entity.save(<span class="function">(<span class="params">err, doc</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">  <span class="built_in">console</span>.log(doc)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<blockquote>
<p>Model.create</p>
<p>Entity.save</p>
</blockquote>
<h1 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">obj.update(&#123;&#125;, callback)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> conditions = &#123; <span class="attr">name</span>: <span class="string">'test_upate'</span> &#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> update = &#123; <span class="attr">$set</span>: &#123; <span class="attr">age</span>: <span class="number">16</span> &#125; &#125;</div><div class="line"></div><div class="line">TestModel.update(conditions, update, (err) =&gt; &#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'success'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">obj.remove(&#123;&#125;, callback)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> conditions = &#123; <span class="attr">name</span>: <span class="string">'tim'</span> &#125;</div><div class="line"></div><div class="line">TestModel.remove(conditions, (err) =&gt; &#123;</div><div class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'success'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Advanced-Search"><a href="#Advanced-Search" class="headerlink" title="Advanced Search"></a>Advanced Search</h1><ul>
<li><p><code>$lt</code>: less than</p>
</li>
<li><p><code>$lte</code>: less than or equal to</p>
</li>
<li><p><code>$gt</code>: greater than</p>
</li>
<li><p><code>$gte</code>: greater than or equal to</p>
</li>
<li><p><code>$ne</code>: not equal to</p>
</li>
<li><p><code>$in</code>: belong to</p>
</li>
<li><p><code>$or</code>: or</p>
</li>
<li><p><code>$exists</code>: exist</p>
</li>
<li><p><code>$all</code></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">Model.find(&#123; <span class="string">"age"</span>: &#123; <span class="string">"$gt"</span>: <span class="number">18</span>, <span class="string">"$lt"</span>: <span class="number">50</span> &#125; &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">Model.find(&#123; <span class="string">"age"</span>: &#123; <span class="string">"$in"</span>: [<span class="number">20</span>, <span class="number">30</span>] &#125; &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">Model.find(&#123;</div><div class="line">  <span class="string">"$or"</span>: [</div><div class="line">    &#123; <span class="string">"name"</span>: <span class="string">"yaya"</span> &#125;,</div><div class="line">    &#123; <span class="string">"age"</span>: <span class="number">28</span> &#125;,</div><div class="line">  ]</div><div class="line">&#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">Model.find(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">"$exists"</span></div><div class="line">&#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Limit"><a href="#Limit" class="headerlink" title="Limit"></a>Limit</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">find(condition, &#123; <span class="attr">limit</span>: <span class="number">20</span> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, docs</span>) =&gt; </span>&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Model.find(&#123;&#125;, <span class="literal">null</span>, &#123; <span class="attr">limit</span>: <span class="number">20</span> &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Skip"><a href="#Skip" class="headerlink" title="Skip"></a>Skip</h1><p>Skim first n docs</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">find(&#123;&#125;, <span class="literal">null</span>, &#123; <span class="attr">skip</span>: <span class="number">4</span> &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>if total docs less than 4, it will output nothing</p>
<h1 id="Sort"><a href="#Sort" class="headerlink" title="Sort"></a>Sort</h1><p><code>-1</code>: descending, <code>1</code>: ascending</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Model.find(&#123;&#125;, <span class="literal">null</span>, &#123; <span class="attr">sort</span>: &#123; <span class="attr">age</span>: <span class="number">-1</span> &#125; &#125;, (err, docs) =&gt; &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="ObjectId"><a href="#ObjectId" class="headerlink" title="ObjectId"></a>ObjectId</h1><p>The default id <code>_id</code> could be any types in mongodb, and default to be <code>ObjectId</code></p>
<p>ObjectId, is a 12-types BSON String.</p>
<ul>
<li><p>4 byte: UNIX TimeStamp</p>
</li>
<li><p>3 byte: Represents the OS where mongodb running on</p>
</li>
<li><p>2 byte: Represents the process where this <code>_id</code> in on</p>
</li>
<li><p>3 byte: Rnadom Number</p>
</li>
</ul>
<h1 id="Schema-add-Attribute"><a href="#Schema-add-Attribute" class="headerlink" title="Schema add Attribute"></a>Schema add Attribute</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span></div><div class="line"><span class="keyword">const</span> TestSchema = <span class="keyword">new</span> mongoose.Schema</div><div class="line">TestSchema.add(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'String'</span>,</div><div class="line">  <span class="attr">email</span>: <span class="string">'String'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="string">'Number'</span>,</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="Schema-add-instance-method"><a href="#Schema-add-instance-method" class="headerlink" title="Schema add instance method"></a>Schema add instance method</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mongoose <span class="keyword">from</span> <span class="string">'mongoose'</span></div><div class="line"><span class="keyword">const</span> TextSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'String'</span>,</div><div class="line">&#125;)</div><div class="line"></div><div class="line">TestSchema.method(<span class="string">'test'</span>, () =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'hah'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="keyword">const</span> say = mongoose.model(<span class="string">'say'</span>, TestSchema)</div><div class="line"><span class="keyword">var</span> lenka = say()</div><div class="line">lenka.say() <span class="comment">// 'hah'</span></div></pre></td></tr></table></figure>
<h1 id="Schema-add-static-method"><a href="#Schema-add-static-method" class="headerlink" title="Schema add static method"></a>Schema add static method</h1><p>```javascript import mongoose from ‘mongoose’ const db = mongoose.connect(MONGODB.URI) const TestSchema = new mongoose.Schema({ name: { type: String }, age: { type: Number }, })</p>
<p>TestSchema.static(‘findByName’, (name, cb) =&gt; { return this.find({name: name}, cb) })</p>
<p>const TestModel = db.model(‘test’, TestSchema) TestModel.findByName(‘tim’, (err, docs) =&gt; { // … })</p>

      
    </div>
    <footer class="article-footer">
      <ul class="article-meta">
        <li>
          <span class="label">Published Date:</span>
          <a href="/2017/05/30/mongodb-simple-guide/" class="article-date">
  <time datetime="2017-05-30T10:12:40.000Z" itemprop="datePublished">2017-05-30</time>
</a>

        </li>
        
        
        <hr/>
      </ul>
    </footer>
  </div>
  
    
<nav id="article-nav" class="article-nav">
  
    <a href="/2017/05/30/webpack-code-splitting-async/" id="article-nav-newer" class="article-nav-link-wrap newer">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          webpack code splitting - async
        
      </div>
    </a>
  
  
    <a href="/2017/05/30/start-in-typescript/" id="article-nav-older" class="article-nav-link-wrap older">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">TypeScript with Node</div>
    </a>
  
</nav>


  
</article>




      </div>
      
    <footer id="footer" class="post-footer footer">
      <hr/>
      <div id="footerContent" class="footer-content">
        <p>Write for Archive</p>


      </div>
    </footer>

      

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/typing.js"></script>
<!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->







    </div>
  </body>
</html>
