<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8">
<title>EzCook</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />







<link rel="icon" href="/images/logo.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136207372-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-136207372-1');
</script>


    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="EzCook" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="GitHub" href="https://github.com/keith-CY">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-05-02T01:33:21.000Z">2017-05-02</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    17 minutes read (About 2485 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/05/02/detail-of-node-cluster/">Detail of Node Cluster</a>
            
        </h1>
        <div class="content">
            <h1 id="Cluster"><a href="#Cluster" class="headerlink" title="Cluster"></a>Cluster</h1><p>A single instance of Node.js runs in a single tread. To take advantage of multi-core systems the user will sometimes want to launch a cluster of Node.js processes to handle the load.</p>
<p>The cluster module allows you to easily create child processes that all share <strong>server port</strong>.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cluster'</span>)</span><br><span class="line"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)</span><br><span class="line"><span class="hljs-keyword">const</span> numCPUs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'os'</span>).cpus().length</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (cluster.isMaster) &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Master <span class="hljs-subst">$&#123;process.pid&#125;</span> is running`</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">// Fork workers</span></span><br><span class="line">  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numCPUs; i++) &#123;</span><br><span class="line">    cluster.fork()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  cluster.on(<span class="hljs-string">'exit'</span>, (worker, code, signal) =&gt; &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`worker <span class="hljs-subst">$&#123;worker.process.pid&#125;</span> died`</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">  <span class="hljs-comment">// Workers can share any TCP connection</span></span><br><span class="line">  <span class="hljs-comment">// In this case it is an HTTP Server</span></span><br><span class="line"></span><br><span class="line">  http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.writeHead(<span class="hljs-number">200</span>)</span><br><span class="line">    res.end(<span class="hljs-string">'hello world\n'</span>)</span><br><span class="line">  &#125;).listen(<span class="hljs-number">8000</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Worker <span class="hljs-subst">$&#123;process.pid&#125;</span> started`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Running Node.js will now share port 8000 between the workers.</p>
<h1 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a>How it works</h1><p>The workder processes are spawned using the <code>child_process.fort()</code> method, so that they can communicate with the parent via IPC and pass server handles back and forth.</p>
<p>The cluster module supports two methods of distributing incoming connections.</p>
<p>The first one (and the default one on all platform except Windows), is the <strong>round-robin</strong> approch, where the master process listens on a port, accepts new connections and distributes them across the workers in a round-robin fashion, with some built-in smarts to avoid overloading a worker process.</p>
<p>The second approach is where the master process <strong>creates the listen socket and sends it to interested workers</strong>. The workers then accept incoming connection directly.</p>
<p>The second approach should, in theory, give the best performance. In practice however, distribution tends to be <strong>very unbalanced due to operating system scheduler vagaries</strong>. Loads have been observed where over 70% of all connections ended up in just two process, out of a total of eight.</p>
<p>Because <code>server.listen()</code> hands off most of the worker to the master process, there are three case where the behavior between a normal Node.js process and a cluster worker differs:</p>
<blockquote>
<p><code>server.listen({fd: 7})</code> Because the message is passed to the master, file descriptor 7 <strong>in the parent</strong> will be listened on, and the handle passed to the worker, rather than listening to the worker’s idea of what the number 7 file descriptor reference. (the fd will be used up sooner)</p>
</blockquote>
<blockquote>
<p><code>server.listen(handle)</code> Listening on handles explicitly wil cause the worker to use the supplied handle, rather than talk to the master process. If the worker already has the handle, then it’s presumed that you know what you are doing.</p>
</blockquote>
<blockquote>
<p><code>server.listen(0)</code> Normally, this will cause servers to listen on a random port. However, in a cluster, each worker will receive the same ‘random’ port each time they do <code>listen(0)</code>. In essence, the port is random the first time, but predicatable thereafter. If you want to listen on a unique port, generate a port number based on the cluster worker ID.</p>
</blockquote>
<p>There is no routing logic in Node.js, or in your program, and no shared state between the workers. Therefore, it is important to design your program such that it does not rely on heavily on in-memory data object for things like sessions and login.</p>
<p>Because workers are all separate processes, they can be killed or re-spawned depending on your program’s needs, without affecting other workers. As long as there are some workers still alive, the server will continue to accept connections. If no workers are alive, existing connections will be dropped and new connections will be refused. Node.js does not automatically manage the number of worker for you, however. It is yoru responsibility to manage the worker pool for your application’s needs.</p>
<h1 id="Class-worker"><a href="#Class-worker" class="headerlink" title="Class: worker"></a>Class: worker</h1><p>A Worder Object contains all public information and method about a worker. In the master it can be obtained using <code>cluster.workers</code>. In a worker it can be obtained using <code>cluster.worker</code></p>
<h2 id="Event-‘disconnect’"><a href="#Event-‘disconnect’" class="headerlink" title="Event: ‘disconnect’"></a>Event: ‘disconnect’</h2><p>Similar to the <code>cluster.on(&#39;disconnect&#39;)</code> event, but specific to this worker.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cluster.fork().on(<span class="hljs-string">'disconnect'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-comment">// Worker has disconnected</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Event-‘error’"><a href="#Event-‘error’" class="headerlink" title="Event: ‘error’"></a>Event: ‘error’</h2><p>This event is the same as the one provided by <code>child_process.fork()</code></p>
<p>In a worker you can alse use <code>process.on(&#39;error&#39;)</code></p>
<h2 id="Event-‘exit’"><a href="#Event-‘exit’" class="headerlink" title="Event: ‘exit’"></a>Event: ‘exit’</h2><blockquote>
<p><code>code</code></p>
</blockquote>
<blockquote>
<number> the exit code, if it exited Normally</number>
</blockquote>
<blockquote>
<p><code>signal</code></p>
</blockquote>
<blockquote>
<string> the name of the signal(e.g. <strong>SIGHUP</strong>) that caused the process to be killed.</string>
</blockquote>
<p>Similar to the <code>cluster.on(&#39;exit&#39;)</code> event, but specific to this worker</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> worker = cluster.fork()</span><br><span class="line">worker.on(<span class="hljs-string">'exit'</span>, (code, signal) =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (signal) &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`worker was killed by signal: <span class="hljs-subst">$&#123;signal&#125;</span>`</span>)</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (code !== <span class="hljs-number">0</span>) &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`worker exited with error code: <span class="hljs-subst">$&#123;code&#125;</span>`</span>)</span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'worker success'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="Event-‘listening’"><a href="#Event-‘listening’" class="headerlink" title="Event: ‘listening’"></a>Event: ‘listening’</h2><blockquote>
<p><code>address</code></p>
</blockquote>
<blockquote>
<p><object><br>  <p><br></p><br>  <p>Similar to the <code>cluster.on(‘listening’)</code> event, but specific to this worker.</p><br>  <pre></pre></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">cluster.fork().on(‘listening’, (address) =&gt; {<br>  // Worker is listening<br>})<br></code><br><br>  </p><p>It is not emitted in the worker</p><br>  <h4 id="event-message-">Event: ‘message’</h4><br>  <blockquote><br>  <p><code>message</code> <object><br>  <p><br></p><br>  <p><code>handle</code> <undefined> | <object><br>  <p></p><br>  <p>Similar to the <code>cluster.on(‘message’)</code> event, but specific to this worker. In a worker you can also use <code>process.on(‘message’)</code></p><br>  <p>As an example, here is a cluster that keeps count of the number of requests in the master process using the message system:</p><br>  <pre><code class="lang-javascript">const cluster = require(‘cluster’)<br>const http = require(‘http’)</code></pre></object></undefined></p>
</object></p></blockquote>
<blockquote>
<p>if (cluster.isMaster) {</p>
</blockquote>
<blockquote>
<p>  let numReqs = 0</p>
</blockquote>
<blockquote>
<p>  setInterval(() =&gt; {<br>    console.log(<code>numReqs = ${numReqs}</code>)<br>  }, 1000)</p>
</blockquote>
<blockquote>
<p>  // Count requests<br>  function messageHandler(msg) {<br>    if (msg.cmd &amp;&amp; msg.cmd === ‘notifyRequest’) {<br>      numReqs++<br>    }<br>  }</p>
</blockquote>
<blockquote>
<p>  // Start workers and listen for messages containing notifyRequest</p>
</blockquote>
<blockquote>
<p>  const numCPUs = require(‘os’).cpus().length</p>
</blockquote>
<blockquote>
<p>  for (let i = 0; i &lt; numCPUs; i++) {<br>    cluster.fork()<br>  }</p>
</blockquote>
<blockquote>
<p>  for (const id in cluster.workers) {<br>    cluster.workers[id].on(‘message’, messageHandler)<br>  }</p>
</blockquote>
<blockquote>
<p>} else {<br>  // Worker processes have a http server<br>  http.Server((req, res) =&gt; {<br>    res.writeHead(200)<br>    res.end(‘hello world’)<br>    process.send({ cmd: ‘notifyRequest’ })<br>  }).listen(8000)<br>}<br><br>  </p><h4 id="event-online-">Event: ‘online’</h4><br>  <p>Similar to the <code>cluster.on(‘online’)</code> event, but specific to this worker</p><br>  <pre><code class="lang-javascript">cluster.fork().on(‘online’, () =&gt; {<br>  // Worker is online<br>})<br></code></pre><br>  <p>It is not emitted in the worker</p><br>  <h4 id="worker-disconnect-">worker.disconnect()</h4><br>  <blockquote><p>Return: <worker> A reference to <code>worker</code></worker></p></blockquote><br>  <p>In a worker, this function will close all server, wait for the <code>close</code> event on those servers, and disconnect the IPC channel.</p><br>  <p>In the master, an internal message is sent to the worker causing it to call <code>.disconnect()</code> on itself</p><br>  <p>Cause <code>.exitedAfterDisconnect</code> to be set.</p><br>  <p>Note that after a server is closed, it will no longer accept new connections, but connections may be accepted by any other listening worker. Existing connections will be allowed to close as usual. When no more connections exist, see <code>server.close()</code>, the IPC channel to the worker will close allowing it to die gracefully.</p><br>  <p>Note that in a worker, <code>process.disconnect</code> exists, but it is not this function.</p><br>  <p>Because long living server connections may block workers from disconnecting, it may be useful to send a message, so application specific actions may be taken to close them. It also may be useful to implement a timeout, killing a worker if the <code>disconnect</code> event has not been emiited after some time.</p><br>  <pre><code class="lang-javascript">if (cluster.isMaster) {<br>  const worker = cluster.fork()<br>  let timeout<p></p>
</code></pre></blockquote>
<blockquote>
<p>  worker.on(‘listening’, (address) =&gt; {<br>    worker.send(‘shutdown’)<br>    worker.disconnect()<br>    timeout = setTimeout(() =&gt; {<br>      worker.kill()<br>    }, 2000);<br>  })</p>
</blockquote>
<blockquote>
<p>  worker.on(‘disconnect’, () =&gt; {<br>    clearTimeout(timeout)<br>  })<br>} else if (cluster.isWorker){<br>  const net = require(‘net’)<br>  const server = net.createServer((socket) =&gt; {<br>    // connections never end<br>  })<br>  server.listen(8000)</p>
</blockquote>
<blockquote>
<p>  process.on(‘messaage’, (msg) =&gt; {<br>    if (msg === ‘shutdown’) {<br>      // initiate graceful close of any connections to server<br>    }<br>  })<br>}<br><br>  </p><h4 id="worker-exitedafterdisconnect">worker.exitedAfterDisconnect</h4><br>  <blockquote><boolean><br></boolean></blockquote><br>  <p>Set by calling <code>.kill()</code> or <code>.disconnect()</code>. Until then, it is <code>undefined</code></p><br>  <p>The boolean <code>worker.exitedAfterDisconnect</code> lets you distinguish between voluntary and accidental exit, the master may choose not to respawn a worker based on this value.</p><br>  <pre><code class="lang-javascript">cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  if (worker.exitedAfterDisconnect === true) {<br>    console.log(‘Oh, it was just voluntary - no need to worry’)<br>  }<br>})<p></p>
</code></pre></blockquote>
<blockquote>
<p>// kill worker<br>worker.kill()<br><br>  </p><h4 id="worker-id">worker.id</h4><br>  <blockquote><number><br></number></blockquote><br>  <p>Each new worker is given its own unique id, this id is stored in the <code>id</code></p><br>  <p>While a worker is alive, this is the key that indixes it in cluster.workers.</p><br>  <h4 id="worker-isconnected-">worker.isConnected()</h4><br>  <p>This function returns <code>true</code> if the worker is connected to its master via its IPC channel. <code>false</code> otherwise. A worker is connected to its master after it’s been created. It is disconnected after the <code>disconnect</code> event is emitted.</p><br>  <h4 id="worker-isdead-">worker.isDead()</h4><br>  <p>This function returns <code>true</code> if the worker’s process has terminated (either because of exiting or being signaled). Otherwise, it returns <code>false</code></p><br>  <h4 id="worker-kill-signal-sigterm-">worker.kill([signal=’SIGTERM’])</h4><br>  <blockquote><p><code>signal</code> <string> Name of the kill signal to send to the worker process.</string></p></blockquote><br>  <p>This function will kill the worker. In the master it does this by disconnecting the <code>worker.process</code> and once disconnected, killing with <code>signal</code>. In the worker, it does it by disconnecting the channel and exiting with code <code>0</code></p><br>  <p>Causes <code>.exitedAfterDisconnect</code> ot be set</p><br>  <p>This method is aliased as <code>worker.destroy()</code> for backwords compatibility.</p><br>  <p>Note that ina worker, <code>process.kill()</code> exists, but it is not the function.</p><br>  <h4 id="worker-process">worker.process</h4><br>  <blockquote><childprocess><br></childprocess></blockquote><br>  <p>All Workers are created using <code>child_process.fork()</code>, the returned object from this function is stored as <code>.process</code>. In a worker, the global <code>process</code> is stored</p><br>  <p>Note that the workers will call <code>process.exit(0)</code> if the <code>disconnect</code> event occurs on <code>process</code> and <code>.exitedAfterDisconnect</code> is not <code>true</code>. This protects against accidental disconnection.</p><br>  <h4 id="worker-send-message-sendhandle-callback-">worker.send(message[, sendHandle, [callback]])</h4><br>  <blockquote><p><code>message</code> <object><br>  <p><br></p><br>  <p><code>sendHandle</code> <handle><br></handle></p><br>  <p><code>callback</code> <function><br></function></p><br>  <p>Send a message to a worker or master, optinally with a handle.</p><br>  <p>In the master this sends a message to a specific worker. It is identical to <code>ChildProcess.send()</code></p><br>  <p>In a worker this sends a message to the master. It is identical to <code>process.send()</code></p><br>  <p>This example will echo back all messages from the master</p><br>  <pre></pre></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">if (cluster.isMaster) {<br>  const worker = cluster.fork()<br>  worker.send(‘hi there’)<br>} else if (cluster.isWorker) {<br>  process.on(‘message’, (msg) =&gt; {<br>    process.send(msg)<br>  })<br>}<br></code><br><br>  </p><h4 id="event-disconnect-">Event: ‘disconnect’</h4><br>  <blockquote><br>  <p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><br></blockquote><br>  <p>Emitted after the worker IPC channel has disconnected. This can occur when a worker exits gracefully, is killed, or is disconnected manually(such as with worker.disconnected())</p><br>  <p>There may be a delay between the <code>disconnect</code> and <code>exit</code> events. These events can be used to detect if the process is stuck in a cleanup or if there are long-living connections.</p><br>  <pre><p></p>
</pre></blockquote>
<blockquote>
<p>  <code class="lang-javascript">cluster.on(‘disconnect’, (worker) =&gt; {<br>  console.log(<code>The worker #${worker.id} has disconnected</code>)<br>})<br></code><br><br>  </p><h4 id="event-exit-">Event: ‘exit’</h4><br>  <blockquote><br>  <p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><br>  <p><code>code</code> <number> the exit code, if it exited normally</number></p><br>  <p><code>signal</code> <string> the name of the signal (e.g. ‘SIGHUP’) that caused the process to be killed.</string></p><br></blockquote><br>  <p>When any of the workers die the cluster module will emit the ‘exit’ events</p><br>  <p>This can be used to restart the worker by calling <code>.fork()</code> again.</p><br>  <pre><p></p>
</pre></blockquote>
<blockquote>
<p>  <code class="lang-javascript">cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  console.log(‘worker %d died (%s), restarting…’, worker.process.pid, signal || code)<br>  cluster.fork()<br>})<br></code><br><br>  </p><h4 id="event-fork-">Event: ‘fork’</h4><br>  <blockquote><br>  <p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><br></blockquote><br>  <p>When a new worker is forked the cluster module will emit a <code>fork</code> event. This can be used to log worker activity, and create your own timeout.</p><br>  <pre><p></p>
</pre></blockquote>
<blockquote>
<p>  <code class="lang-javascript">const timeouts = []<br>function errorMsg () {<br>  console.error(‘Something must be wrong with the connection…’)<br>}</code></p>
</blockquote>
<blockquote>
<p>cluster.on(‘fork’, (worker) =&gt; {<br>  timeouts[worker.id] = setTimeout(errorMsg, 2000)<br>})</p>
</blockquote>
<blockquote>
<p>cluster.on(‘listening’, (worker, address) =&gt; {<br>  clearTimeout(timeouts[worker.id])<br>})</p>
</blockquote>
<blockquote>
<p>cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  clearTimeout(timeouts[worker.id])<br>})<br><br><br>  </p><h4 id="event-listening-">Event: ‘listening’</h4><br>  <blockquote><br>  <p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><br>  <p><code>address</code> <object><br>  <p><br></p><br>  <p>After calling <code>listen()</code> from  a worker. when the <code>listening</code> event it emitted on the server, a <code>listening</code> event will also be emitted on <code>cluster</code> in the master</p><br>  <p>The event handler is executed with two arguments, the <code>worker</code> contains the worker object and the <code>address</code> object contains the following connection properties: <code>address</code>, <code>port</code> and <code>addressType</code>. This is very useful if the worker is listening on more than one address.</p><br>  <pre></pre></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">cluster.on(‘listening’, (worker, address) =&gt; {<br>  console.log(<code>A worker is now connected to ${address.address}: ${address.port}</code>)<br>})<br></code><br><br>  </p><p>The <code>addressType</code> is one of:</p><br>  <ul><br>  <li><code>4</code>: (TCPv4)</li><br>  <li><code>6</code>: (TCPv6)</li><br>  <li><code>-1</code>: (unix domain socket)</li><br>  <li><code>“udp4”</code> or <code>“udp6”</code> (UDP v4 or v6)</li><br></ul><br>  <h4 id="event-message-">Event: ‘message’</h4><br>  <blockquote><br>  <p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><br>  <p><code>message</code> <object><br>  <p><br></p><br>  <p><code>handle</code> <undefined> | <object><br>  <p></p><br>  <p>Emitted when the cluster master receives a message from any worker.</p><br>  <h4 id="event-online-">Event: ‘online’</h4><br>  <blockquote><p><code>worker</code> &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p></blockquote><br>  <p>After forking a new worker, the worker should respond with an online message. When the master receives an online message it will emit this event. The difference between <code>fork</code> and <code>online</code> is that fork is emitted when the master forks a worker and <code>online</code> is emitted when the worker is running.</p><br>  <h4 id="event-setup-">Event: ‘setup’</h4><br>  <blockquote><p><code>settings</code> <object><br>  <p><br></p><br>  <p>Emitted every time <code>.setupMaster()</code> is called.</p><br>  <p>The <code>settings</code> object is the <code>cluster.settings</code> object at the time <code>.setupMaster()</code> was called and is advisory only. since multiple calls to <code>.setupMaster()</code> can be made in a single tick.</p><br>  <p>If accuracy is important, use <code>cluster.settings</code></p><br>  <h4 id="cluster-disconnect-callback-">cluster.disconnect([callback])</h4><br>  <p><code>callback</code> called when <strong>all</strong> workers are disconnected and handles are closed Calls <code>.disconnect()</code> on each worker in <code>cluster.workers</code></p><br>  <p>When they are disconnected all internal handles will be closed, allowing the master process to die gracefully if no other event is waiting.</p><br>  <p>The method takes an optional callback argument which will be called when finished.</p><br>  <p>This can only be called from the master process.</p><br>  <h4 id="cluster-fork-env-">cluster.fork([env])</h4><br>  <blockquote><br>  <p><code>env</code> <object> Key/Value pairs to add to worker process environment<p><br></p><p>return &lt;cluster.worker&gt;<br>&lt;/cluster.worker&gt;</p><p>Spawn a new worker process.</p><p>This can only be called from the master process.</p><h4 id="cluster-ismaster">cluster.isMaster</h4><blockquote><br>  <boolean><br></boolean><br></blockquote><p>True if the process is a master. This is determined by the <code>process.env.NODE_UNIQUE_ID</code>. If <code>process.env.NODE_UNIQUE_ID</code> is undefined, then <code>.isMaster</code> is <code>true</code></p><h4 id="cluster-isworker">cluster.isWorker</h4><blockquote><br>  <boolean><br></boolean><br></blockquote><p>True if the process is not a master (it is the negation of <code>cluster.isMaster</code>)</p><h4 id="cluster-schedulingpolicy">cluster.schedulingPolicy</h4><p>The scheduling policy, either <code>cluster.SCHED_RR</code> for round-robin or <code>cluster.SCHED_NONE</code> to leave it to the operating system. This is a global setting and effectively frozen once you spawn the first worker or call cluster <code>cluster.setupMaster()</code>, whatever comes first.</p><p><code>SCHED_RR</code> is the default on all operating systems except Windows. Windows will change to <code>SCHED_RR</code> once libuv is able to effectively distribute IOCP handles without incurring a large performance hit.</p><p><code>cluster.schedulingPolicy</code> can also be set through the <code>NODE_CLUSTER_SCHED_POLICY</code> environment variable. Valid values are <code>‘rr’</code> and <code>‘none’</code></p><h4 id="cluster-settings">cluster.settings</h4><blockquote><br>  <p><object><br>  <p><br></p><br>  <ul><br>  <li><code>execArgv</code></li><br>  <li><code>exec</code></li><br>  <li><code>args</code></li><br>  <li><code>silent</code></li><br>  <li><code>stdio</code></li><br>  <li><code>uid</code></li><br>  <li><code>gid</code></li><br></ul><br>  <h4 id="cluster-setupmaster-settings-">cluster.setupMaster([settings])</h4><br>  <blockquote><br>  <p><code>settings</code></p><br>  <ul><li><code>exec</code></li><li><code>args</code></li><li><code>silent</code></li><li><code>stdio</code></li></ul><br></blockquote><br>  <pre></pre></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">const cluster = require(‘cluster’)<br>cluster.setupMaster({<br>  exec: ‘worker.js’,<br>  args: [‘–use’, ‘https’],<br>  silent: true,<br>})</code></p>
</blockquote>
<blockquote>
<p>cluster.fork() // https worker<br><br><br>  </p><h4 id="cluster-worker">cluster.worker</h4><br>  <blockquote><br>  <object><br>  <p>A reference to the current worker object. Not available in the master process.</p><br>  <pre></pre></object></blockquote></blockquote></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">const cluster = require(‘cluster’)</code></p>
</blockquote>
<blockquote>
<p>if (cluster.isMaster) {<br>  console.log(‘I am master’)<br>  cluster.fork()<br>  cluster.fork()<br>} else if (cluster.isWorker) {<br>  console.log(<code>I am worker #${cluster.worker.id}</code>)<br>}<br><br><br>  </p><h4 id="cluster-workers">cluster.workers</h4><br>  <blockquote><br>  <object><br>  <p>A hash that stores the active worker objects, keyed by <code>id</code> field. Makes it easy to loop through all the workers. It is only available in the master process.</p><br>  <p>A worker is removed from <code>cluster.workers</code> after the worker has disconnected <strong>and</strong> exit. <strong>The order between two events cannot be determined in advance</strong>. However it is guaranteed that the removal from the cluster.workers list happens before last <code>disconnect</code> or <code>exit</code> event is emitted.</p><br>  <pre></pre></object></blockquote></blockquote></object></p>
</blockquote>
<blockquote>
<p>  <code class="lang-javascript">// Go through all workers<br>function eachWorker(callback) {<br>  for (const id in cluster.workers) {<br>    callback(cluster.worker[id])<br>  }<br>}</code></p>
</blockquote>
<blockquote>
<p>eachWorker((worker) =&gt; {<br>  worker.send(‘big announcement to all workers’)<br>})<br><br><br>  </p><p>Should you wish to reference a worker over a communication channel, using the worker’s unique id is the easiest way to find the worker.</p><br>  <pre></pre></blockquote></object></undefined></p>
</object></p></blockquote>
<blockquote>
<p>  <code class="lang-javascript">socket.on(‘data’, (id) =&gt; {<br>  const worker = cluster.workers[id]<br>})<br></code><br><br><br></p></blockquote><br><br></blockquote><br><p></p><br></blockquote><p></p><br></blockquote><br><p></p></blockquote><br><p></p><br><p></p><br><br><p></p><br><br><p></p><br><p></p><br><p></p><br><br><p></p>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-29T07:23:40.000Z">2017-04-29</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 375 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/29/api-of-axios/">Api of Axios</a>
            
        </h1>
        <div class="content">
            <h1 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h1><blockquote>
<p>axios.request(config) axios.get(url[, config]) axios.delete(url[, config]) axios.head(url[, config]) axios.options(url[, config]) axios.post(url[, data[, config]]) axios.put(url[, data[, config]]) axios.patch(url[, data[, config]])</p>
</blockquote>
<h1 id="Config-Options"><a href="#Config-Options" class="headerlink" title="Config Options"></a>Config Options</h1><p><code>url</code> is required, and <code>get</code> is the default method</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  url: <span class="hljs-string">'string'</span>,</span><br><span class="line">  method: <span class="hljs-string">'get'</span>,</span><br><span class="line">  baseUrl: <span class="hljs-string">'https://some-domain.com/api/'</span>, <span class="hljs-comment">// prepended to url unless url is absolute,</span></span><br><span class="line">  transformRequest: [<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> data</span><br><span class="line">  &#125;],</span><br><span class="line">  transformResponse: [<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> data</span><br><span class="line">  &#125;],</span><br><span class="line">  headers: &#123;</span><br><span class="line">    <span class="hljs-string">'X-Requested-With'</span>: <span class="hljs-string">'XMLHttpRequest'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  params: &#123; <span class="hljs-comment">// url params to be sent with the request, plain object or URLSearchParams Object</span></span><br><span class="line">    ID: <span class="hljs-number">12345</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  paramsSerializer: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> Qs.stringify(params, &#123; <span class="hljs-attr">arrayFormat</span>: <span class="hljs-string">'brackets'</span> &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123; <span class="hljs-comment">// the data sent as request body, only applicable for request method 'PUT', 'POST', 'PATCH'. When no transformRequest is set, must be one of the following types: string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams, FormData(Browser only), File(browser only), Blob(browser only), Stream(Node only), Buffer(Node only)</span></span><br><span class="line">    firstName: <span class="hljs-string">'fred'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  timeout: <span class="hljs-number">1000</span>,</span><br><span class="line">  withCredentials: <span class="hljs-literal">false</span> <span class="hljs-comment">// default</span></span><br><span class="line">  adapter: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>&#123; <span class="hljs-comment">// allows custom handling of requests which makes testing easier.</span></span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: <span class="hljs-string">'janedoe'</span>,</span><br><span class="line">    password: <span class="hljs-string">'...'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  responseType: <span class="hljs-string">'json'</span>, <span class="hljs-comment">// default</span></span><br><span class="line">  xsrfCookieName: <span class="hljs-string">'XSRF-TOKEN'</span>, <span class="hljs-comment">// defualt</span></span><br><span class="line">  onUploadProgress: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">progressEvent</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  onDownloadProgress: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">progressEvent</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  maxContentLength: <span class="hljs-number">2000</span>,</span><br><span class="line">  validateStatus: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> status &gt;= <span class="hljs-number">200</span> &amp;&amp; status &lt; <span class="hljs-number">300</span> <span class="hljs-comment">// default</span></span><br><span class="line">  &#125;,</span><br><span class="line">  maxRedirects: <span class="hljs-number">5</span>, <span class="hljs-comment">// default</span></span><br><span class="line">  httpAgent: <span class="hljs-keyword">new</span> http.Agent(&#123; <span class="hljs-attr">keepAlive</span>: <span class="hljs-literal">true</span> &#125;),</span><br><span class="line">  httpsAgent: <span class="hljs-keyword">new</span> http.Agent(&#123; <span class="hljs-attr">keepAlive</span>: <span class="hljs-literal">true</span> &#125;),</span><br><span class="line">  proxy: &#123; <span class="hljs-comment">// defines the hostname and port of the proxy server</span></span><br><span class="line">    host: <span class="hljs-string">'127.0.0.1'</span>,</span><br><span class="line">    port: <span class="hljs-number">9000</span>,</span><br><span class="line">    auth: &#123;</span><br><span class="line">      username: <span class="hljs-string">'...'</span>,</span><br><span class="line">      password: <span class="hljs-string">'...'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  cancelToken: <span class="hljs-keyword">new</span> CancelToken(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cancel</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="response-Schema"><a href="#response-Schema" class="headerlink" title="response Schema"></a>response Schema</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line">  status: <span class="hljs-number">200</span>,</span><br><span class="line">  statusText: <span class="hljs-string">'OK'</span>,</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line">  config: &#123;&#125;,</span><br><span class="line">  request: &#123;&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="errors"><a href="#errors" class="headerlink" title="errors"></a>errors</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="hljs-string">'/user/123'</span>)</span><br><span class="line">.catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-keyword">if</span> (err.response) &#123;</span><br><span class="line">    <span class="hljs-comment">// err.response.data</span></span><br><span class="line">    <span class="hljs-comment">// err.response.status</span></span><br><span class="line">    <span class="hljs-comment">// err.response.headers</span></span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.request) &#123;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="get"><a href="#get" class="headerlink" title="get"></a>get</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="hljs-string">'/user?ID=12345'</span>)</span><br><span class="line">.then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">axios.get(<span class="hljs-string">'/user'</span>, &#123;</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: <span class="hljs-number">12345</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="post"><a href="#post" class="headerlink" title="post"></a>post</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="hljs-string">'/user'</span>, &#123;</span><br><span class="line">  firstName: <span class="hljs-string">'Fred'</span>,</span><br><span class="line">  lastName: <span class="hljs-string">'Flintstrong'</span>,</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="concurrency"><a href="#concurrency" class="headerlink" title="concurrency"></a>concurrency</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserAccount</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">'/user/12345'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserPermissions</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> axios.get(<span class="hljs-string">'/user/12345/permissions'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">.then(axios.spread(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">acct, perms</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// Both request are now complete</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<h1 id="config"><a href="#config" class="headerlink" title="config"></a>config</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="hljs-string">'post'</span>,</span><br><span class="line">  url: <span class="hljs-string">'/user/12345'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="hljs-string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="hljs-string">'Flintstone'</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="hljs-string">'get'</span>,</span><br><span class="line">  url: <span class="hljs-string">'http://bit.ly/2mTM3n'</span>,</span><br><span class="line">  responseType: <span class="hljs-string">'stream'</span>,</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.data.pipe(fs.createWriteStream(<span class="hljs-string">'ada_lovelace.jpg'</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-27T15:23:45.000Z">2017-04-27</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 130 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/27/webpackDevServer-Proxy/">webpackDevServer Proxy</a>
            
        </h1>
        <div class="content">
            <p><code>devServer.proxy</code>: <code>object</code></p>
<p>Proxying some URLs can be useful when you have a separate API backend development server and you want to send API requests on the same domain.</p>
<p>The dev-server makes use of the powerful <code>http-proxy-middleware</code> package.</p>
<p>With a backend on <code>localhost:3000</code>, you can use this to enable proxying:</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">  &apos;/api&apos;: &apos;http://localhost:3000&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A request to <code>/api/users</code> will now proxy to the request to <code>http://localhost:3000/api/users</code></p>
<p>If you don’t want <code>/api</code> to be passed along, we need to rewrite the path</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">  &apos;/api&apos;: &#123;</span><br><span class="line">    target: &apos;http://localhost:3000&apos;,</span><br><span class="line">    pathRewrite: &#123;</span><br><span class="line">      &apos;^/api&apos;: &apos;&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A backend server running on HTTPS with an invalid certificate will not be accepted by default. If you want to, modify config like this:</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">  &apos;/api&apos;: &#123;</span><br><span class="line">    target: &apos;https://other-server.example.com&apos;,</span><br><span class="line">    secure: false,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-26T02:39:13.000Z">2017-04-26</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 721 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/26/notes-in-migrating-from-React-Router-3-to-React-Router-4/">Notes in Migrating From React-Router-3 to React-Router-4</a>
            
        </h1>
        <div class="content">
            <h1 id="HashRouter"><a href="#HashRouter" class="headerlink" title="HashRouter"></a>HashRouter</h1><p>Version 4 of React-Router seperate top level router element for the different history type. If you’re using version 4 you should be able to replace <code>&lt;Router hisotry={hashHistory}&gt;</code> with <code>&lt;HashRouter&gt;</code></p>
<h1 id="Multiple-Routes-at-same-URL"><a href="#Multiple-Routes-at-same-URL" class="headerlink" title="Multiple Routes at same URL"></a>Multiple Routes at same URL</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="hljs-keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// Each logical 'route' has two components, one for the sidebar and one for the main area. We want to render both of them in different places when the path matches the current URL.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="hljs-string">'/'</span>,</span><br><span class="line">    exact: <span class="hljs-literal">true</span>,</span><br><span class="line">    sidebar: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &lt;div&gt;Home&lt;<span class="hljs-regexp">/div&gt;,</span></span><br><span class="line"><span class="hljs-regexp">    main: () =&gt; &lt;h2&gt;Home&lt;/</span>h2&gt;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    path: <span class="hljs-string">'/bubblegum'</span>,</span><br><span class="line">    sidebar: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &lt;div&gt;bubblegum&lt;<span class="hljs-regexp">/div&gt;,</span></span><br><span class="line"><span class="hljs-regexp">    main: () =&gt; &lt;h2&gt;BubbleGum&lt;/</span>div&gt;,</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    path: <span class="hljs-string">'/shoelaces'</span>,</span><br><span class="line">    sidebar: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &lt;div&gt;shoelaces&lt;<span class="hljs-regexp">/div&gt;,</span></span><br><span class="line"><span class="hljs-regexp">    main: () =&gt; &lt;h2&gt;ShoeLaces&lt;/</span>h2&gt;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> sidebarExample = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div style=&#123;&#123; <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span> &#125;&#125;&gt;</span><br><span class="line">      <span class="hljs-comment">// sidebar</span></span><br><span class="line">      &lt;div style=&#123;&#123;</span><br><span class="line">        padding: <span class="hljs-string">'10px'</span>,</span><br><span class="line">        width: <span class="hljs-string">'40%'</span>,</span><br><span class="line">        background: <span class="hljs-string">'#f0f0f0'</span>,</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/'</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span></span><br><span class="line">          &lt;li&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/bubblegum'</span>&gt;</span>Bubblegum<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span></span><br><span class="line">          &lt;li&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/shoelaces'</span>&gt;</span>ShoeLaces<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span></span><br><span class="line">        &lt;<span class="hljs-regexp">/ul&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">        &#123;routes.map((route, index) =&gt; (</span></span><br><span class="line"><span class="hljs-regexp">          /</span><span class="hljs-regexp">/ You can render a &lt;Router&gt; in as many places as you want in your app, it will render along with any other &lt;Router&gt;s that also match the URL.</span></span><br><span class="line"><span class="hljs-regexp">          /</span><span class="hljs-regexp">/ So a sidebar or breadcrumbs or anything else that requires you to render multiple things in multiple places at the same URL is nothing more than multiple &lt;Routes&gt;s</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">          &lt;Route</span></span><br><span class="line"><span class="hljs-regexp">            key=&#123;index&#125;</span></span><br><span class="line"><span class="hljs-regexp">            path=&#123;route.path&#125;</span></span><br><span class="line"><span class="hljs-regexp">            exact=&#123;route.exact&#125;</span></span><br><span class="line"><span class="hljs-regexp">            component=&#123;route.sidebar&#125;</span></span><br><span class="line"><span class="hljs-regexp">          /</span>&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;<span class="hljs-regexp">/div&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">      /</span><span class="hljs-regexp">/ main</span></span><br><span class="line"><span class="hljs-regexp">      &lt;div style=&#123;&#123; flex: 1, padding: '30px' &#125;&#125;&gt;</span></span><br><span class="line"><span class="hljs-regexp">        &#123;routes.map((route, index) =&gt; (</span></span><br><span class="line"><span class="hljs-regexp">          /</span><span class="hljs-regexp">/ Render more &lt;Route&gt;s with the same paths as above, but different components this time.</span></span><br><span class="line"><span class="hljs-regexp">          &lt;Route</span></span><br><span class="line"><span class="hljs-regexp">            key=&#123;index&#125;</span></span><br><span class="line"><span class="hljs-regexp">            path=&#123;route.path&#125;</span></span><br><span class="line"><span class="hljs-regexp">            exact=&#123;route.exact&#125;</span></span><br><span class="line"><span class="hljs-regexp">            component=&#123;route.main&#125;</span></span><br><span class="line"><span class="hljs-regexp">          /</span>&gt;</span><br><span class="line">        ))&#125;</span><br><span class="line">      &lt;<span class="hljs-regexp">/div&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">    &lt;/</span>div&gt;</span><br><span class="line">  &lt;<span class="hljs-regexp">/Router&gt;</span></span><br><span class="line"><span class="hljs-regexp">)</span></span><br><span class="line"><span class="hljs-regexp">export default sidebarExample</span></span><br></pre></td></tr></table></figure>
<h1 id="Animated-Transitions"><a href="#Animated-Transitions" class="headerlink" title="Animated Transitions"></a>Animated Transitions</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span></span><br><span class="line"><span class="hljs-keyword">import</span> ReactCSSTransitionGroup <span class="hljs-keyword">from</span> <span class="hljs-string">'react-addons-css-transition-group'</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="hljs-keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">  Redirect,</span><br><span class="line">&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'react-rotuer-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// you'll need this CSS somewhere</span></span><br><span class="line"><span class="hljs-comment">// .fade-enter &#123;</span></span><br><span class="line"><span class="hljs-comment">//   opacity: 0;</span></span><br><span class="line"><span class="hljs-comment">//   z-index: 1;</span></span><br><span class="line"><span class="hljs-comment">// &#125;</span></span><br><span class="line"><span class="hljs-comment">// .fade-enter.face-enter-active &#123;</span></span><br><span class="line"><span class="hljs-comment">//   opacity: 1;</span></span><br><span class="line"><span class="hljs-comment">//   transition: opacity 250ms ease-in;</span></span><br><span class="line"><span class="hljs-comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> AnimationExample = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;Route render=&#123;(&#123; location &#125;) =&gt; (</span><br><span class="line">      &lt;div style=&#123;style.fill&#125;&gt;</span><br><span class="line">        &lt;Route exact path=<span class="hljs-string">'/'</span> render=&#123;() =&gt; (</span><br><span class="line">          &lt;Redirect to=<span class="hljs-string">'/10/20/50'</span> /&gt;</span><br><span class="line">        )&#125;/&gt;</span><br><span class="line">        &lt;ul style=&#123;style.nav&#125;&gt;</span><br><span class="line">          &lt;NavLink to=<span class="hljs-string">'/10/90/50'</span>&gt;Red&lt;<span class="hljs-regexp">/NavLink&gt;</span></span><br><span class="line"><span class="hljs-regexp">          &lt;NavLink to='/</span><span class="hljs-number">120</span>/<span class="hljs-number">100</span>/<span class="hljs-number">40</span><span class="hljs-string">'&gt;Green&lt;/NavLink&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;NavLink to='</span>/<span class="hljs-number">200</span>/<span class="hljs-number">100</span>/<span class="hljs-number">40</span><span class="hljs-string">'&gt;Blue&lt;/NavLink&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;NavLink to='</span>/<span class="hljs-number">310</span>/<span class="hljs-number">100</span>/<span class="hljs-number">50</span><span class="hljs-string">'&gt;Pink&lt;/NavLink&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">        &lt;div style=&#123;style.content&#125;&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;ReactCSSTransitionGroup</span></span><br><span class="line"><span class="hljs-string">            transitionName='</span>fade<span class="hljs-string">'</span></span><br><span class="line"><span class="hljs-string">            transitionEnterTimeout=&#123;300&#125;</span></span><br><span class="line"><span class="hljs-string">            transitionLeaveTimeout=&#123;300&#125;</span></span><br><span class="line"><span class="hljs-string">          &gt;</span></span><br><span class="line"><span class="hljs-string">            // no different than other usage of ReactCSSTransitionGroup, just make sure to pass `location` to `Route` so it can match the old location as it animate out</span></span><br><span class="line"><span class="hljs-string">            &lt;Route</span></span><br><span class="line"><span class="hljs-string">              location=&#123;loaction&#125;</span></span><br><span class="line"><span class="hljs-string">              key=&#123;location.key&#125;</span></span><br><span class="line"><span class="hljs-string">              path="/:h/:s/:l"</span></span><br><span class="line"><span class="hljs-string">              component=&#123;HSL&#125;</span></span><br><span class="line"><span class="hljs-string">            /&gt;</span></span><br><span class="line"><span class="hljs-string">          &lt;/ReactCSSTransitionGroup&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">    )&#125;/&gt;</span></span><br><span class="line"><span class="hljs-string">  &lt;/Router&gt;</span></span><br><span class="line"><span class="hljs-string">)</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">const NavLink = (props) =&gt; (</span></span><br><span class="line"><span class="hljs-string">  &lt;li&gt;&lt;Link &#123;...props&#125; style=&#123;&#123;color: '</span>inherit<span class="hljs-string">'&#125;&#125; /&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="hljs-string">)</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">const HSL = (&#123; match: &#123; params &#125;&#125;) =&gt; (</span></span><br><span class="line"><span class="hljs-string">  &lt;div style=&#123;&#123;</span></span><br><span class="line"><span class="hljs-string">    ...style.fill,</span></span><br><span class="line"><span class="hljs-string">    ...style.hsl,</span></span><br><span class="line"><span class="hljs-string">    background: `hsl($&#123;params.h&#125;%, $&#123;params.s&#125;%, $&#123;params.l&#125;%)`</span></span><br><span class="line"><span class="hljs-string">  &#125;&#125;&gt;</span></span><br><span class="line"><span class="hljs-string">  &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">)</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">export default AnimationExample</span></span><br></pre></td></tr></table></figure>
<h1 id="Route-Config"><a href="#Route-Config" class="headerlink" title="Route Config"></a>Route Config</h1><figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span></span><br><span class="line"><span class="hljs-keyword">import</span> &#123;</span><br><span class="line">  BrowserRouter <span class="hljs-keyword">as</span> Router,</span><br><span class="line">  Route,</span><br><span class="line">  Link,</span><br><span class="line">&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// Some folks find value in a centralized route config. A route config is just data. React is great at mapping data into component, and &lt;Route&gt; is a component.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// first our route component</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> Main = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &lt;h2&gt;Main&lt;<span class="hljs-regexp">/h2&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">const Sandwiches = () =&gt; &lt;h2&gt;Sandwiches&lt;/</span>h2&gt;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> Tacos = <span class="hljs-function">(<span class="hljs-params">&#123; routes &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Tacos&lt;<span class="hljs-regexp">/h2&gt;</span></span><br><span class="line"><span class="hljs-regexp">    &lt;ul&gt;</span></span><br><span class="line"><span class="hljs-regexp">      &lt;li&gt;&lt;Link to='/</span>tacos/bus<span class="hljs-string">'&gt;Bus&lt;/Link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;li&gt;&lt;Link to='</span>/tacos/cart<span class="hljs-string">'&gt;Cart&lt;/Link&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="hljs-string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">    &#123;routes.map((route, index) =&gt; (</span></span><br><span class="line"><span class="hljs-string">      &lt;RouteWithSubRoutes key=&#123;index&#125; &#123;...route&#125;/&gt;</span></span><br><span class="line"><span class="hljs-string">    ))&#125;</span></span><br><span class="line"><span class="hljs-string">  &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">)</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">const Bus = () =&gt; &lt;div&gt;Bus&lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">const Cart = () =&gt; &lt;div&gt;Cart&lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">// then our route config</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">const routes = [</span></span><br><span class="line"><span class="hljs-string">  &#123;</span></span><br><span class="line"><span class="hljs-string">    path: '</span>/sandwiches<span class="hljs-string">',</span></span><br><span class="line"><span class="hljs-string">    component: sandwiches,</span></span><br><span class="line"><span class="hljs-string">  &#125;, &#123;</span></span><br><span class="line"><span class="hljs-string">    path: '</span>/tacos<span class="hljs-string">',</span></span><br><span class="line"><span class="hljs-string">    component: Tacos,</span></span><br><span class="line"><span class="hljs-string">    routes: [</span></span><br><span class="line"><span class="hljs-string">      &#123;</span></span><br><span class="line"><span class="hljs-string">        path: '</span>/tacos/bus<span class="hljs-string">',</span></span><br><span class="line"><span class="hljs-string">        component: Bus,</span></span><br><span class="line"><span class="hljs-string">      &#125;, &#123;</span></span><br><span class="line"><span class="hljs-string">        path: '</span>/tacos/cart<span class="hljs-string">',</span></span><br><span class="line"><span class="hljs-string">        component: Cart,</span></span><br><span class="line"><span class="hljs-string">      &#125;,</span></span><br><span class="line"><span class="hljs-string">    ],</span></span><br><span class="line"><span class="hljs-string">  &#125;,</span></span><br><span class="line"><span class="hljs-string">]</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">// wrap &lt;Route&gt; and use this everywhere instead, then when sub routes are added to any route it'</span>ll work</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> RouteWithSubRoutes = <span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> (</span><br><span class="line">  &lt;Route path=&#123;route.path&#125; render=&#123;props =&gt; (</span><br><span class="line">    <span class="hljs-comment">// pass the sub-routes down to keep nesting</span></span><br><span class="line">    &lt;route.component &#123;...props&#125; routes=&#123;route.routes&#125; /&gt;</span><br><span class="line">  )&#125;/&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> RouteConfigExample = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;Router&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/tacos'</span>&gt;</span>Tacos<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span></span><br><span class="line">        &lt;li&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">'/sandwiches'</span>&gt;</span>Sandwiches<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span></span><br><span class="line">      &lt;<span class="hljs-regexp">/ul&gt;</span></span><br><span class="line"><span class="hljs-regexp">      &#123;routes.map((route, index) =&gt; (</span></span><br><span class="line"><span class="hljs-regexp">        &lt;RouteWithSubRoutes key=&#123;index&#125; &#123;...route&#125; /</span>&gt;</span><br><span class="line">      ))&#125;</span><br><span class="line">    &lt;<span class="hljs-regexp">/div&gt;</span></span><br><span class="line"><span class="hljs-regexp">  &lt;/</span>Router&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> RouteConfigExample</span><br></pre></td></tr></table></figure>
<h1 id="Redux-Integration"><a href="#Redux-Integration" class="headerlink" title="Redux Integration"></a>Redux Integration</h1><p>Generally, React Router and Redux work just fine together. Occasionally though, an app have a component that doesn’t update when the location changes (child route or active nav links don’t update)</p>
<p>This happens if:</p>
<blockquote>
<p>The component is connected to redux via <code>connect()(Comp)</code> The component is <em>not</em> a “route component”, meaning it is not rendered like so: <code>&lt;Route component={SomeConnectedThing}/&gt;</code></p>
</blockquote>
<p>The problem is that Redux implements <code>shouldComponentUpdate</code> and there’s no indication that anything has changed if it isn’t receiving props from the router. This is straightforward to fix. Find where you connect your component and wrap it in <code>withRouter</code></p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> &#123; withRouter &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span></span><br><span class="line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> withRouter(connect(mapStateToProps)(Comp))</span><br></pre></td></tr></table></figure>
<h1 id="Code-Splitting"><a href="#Code-Splitting" class="headerlink" title="Code Splitting"></a>Code Splitting</h1><p>One great feature of the web is that we don’t have to make our visitors download the entire app before they can use it. You can think of code spliting as incrementally downloading the app. While there are other tools for the job, react-router use <code>webpack</code> and the <code>bundle loader</code>.</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> loadSomething <span class="hljs-keyword">from</span> <span class="hljs-string">'bundle-loader?lazy!./Something'</span></span><br><span class="line"></span><br><span class="line">&lt;Bundle load=&#123;loadSomething&#125;&gt;</span><br><span class="line">  &#123;(mod) =&gt; (</span><br><span class="line">    <span class="hljs-comment">// do something w/ the module</span></span><br><span class="line">  )&#125;</span><br><span class="line">&lt;<span class="hljs-regexp">/Bundle&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">&lt;Bundle load=&#123;loadSomething&#125;&gt;</span></span><br><span class="line"><span class="hljs-regexp">  &#123;</span></span><br><span class="line"><span class="hljs-regexp">    (Comp) =&gt; Comp</span></span><br><span class="line"><span class="hljs-regexp">    ? &lt;Comp/</span>&gt;</span><br><span class="line">    : <span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Loading</span>/&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="hljs-regexp">/Bundle&gt;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">import React, &#123; Component &#125; from 'react'</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">class Bundle extends Component &#123;</span></span><br><span class="line"><span class="hljs-regexp">  state = &#123;</span></span><br><span class="line"><span class="hljs-regexp">    /</span><span class="hljs-regexp">/ short for 'module' but that's a keyword in js. so 'mod'</span></span><br><span class="line"><span class="hljs-regexp">    mod: null,</span></span><br><span class="line"><span class="hljs-regexp">  &#125;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">  componentWillMount () &#123;</span></span><br><span class="line"><span class="hljs-regexp">    this.load(this.props)</span></span><br><span class="line"><span class="hljs-regexp">  &#125;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">  componentWillReceiveProps (nextProps) &#123;</span></span><br><span class="line"><span class="hljs-regexp">    if (nextProps.load !== this.props.load) &#123;</span></span><br><span class="line"><span class="hljs-regexp">      this.load(nextProps)</span></span><br><span class="line"><span class="hljs-regexp">    &#125;</span></span><br><span class="line"><span class="hljs-regexp">  &#125;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">  load (props) &#123;</span></span><br><span class="line"><span class="hljs-regexp">    this.setState(&#123;</span></span><br><span class="line"><span class="hljs-regexp">      mod: null,</span></span><br><span class="line"><span class="hljs-regexp">    &#125;)</span></span><br><span class="line"><span class="hljs-regexp">    props.load((mod) =&gt; &#123;</span></span><br><span class="line"><span class="hljs-regexp">      this.setState(&#123;</span></span><br><span class="line"><span class="hljs-regexp">        /</span><span class="hljs-regexp">/ handle both es imports and cjs</span></span><br><span class="line"><span class="hljs-regexp">        mod: mod.default ? mod.default : mod</span></span><br><span class="line"><span class="hljs-regexp">      &#125;)</span></span><br><span class="line"><span class="hljs-regexp">    &#125;)</span></span><br><span class="line"><span class="hljs-regexp">  &#125;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">  render () &#123;</span></span><br><span class="line"><span class="hljs-regexp">    return this.props.children(this.state.mod)</span></span><br><span class="line"><span class="hljs-regexp">  &#125;</span></span><br><span class="line"><span class="hljs-regexp">&#125;</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">export default Bundle</span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp"></span></span><br><span class="line"><span class="hljs-regexp">&lt;Bundle load=&#123;() =&gt; import('./</span>something<span class="hljs-string">')&#125;&gt;</span></span><br><span class="line"><span class="hljs-string">  &#123;(mod) =&gt; ()&#125;</span></span><br><span class="line"><span class="hljs-string">&lt;/Bundle&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> loadAbout <span class="hljs-keyword">from</span> <span class="hljs-string">'bundle-load?lazy!./loadAbout'</span></span><br><span class="line"><span class="hljs-keyword">import</span> loadDashboard <span class="hljs-keyword">from</span> <span class="hljs-string">'bundle-loader?lazy!./loadDashboard'</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// components load their module for initial visit</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> About = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;Bundle load=&#123;loadAbout&#125;&gt;</span><br><span class="line">    &#123;(About) =&gt; <span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">About</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="hljs-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">Bundle</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> Dashboard = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;Bundle load=&#123;loadDashboard&#125;&gt;</span><br><span class="line">    &#123;(Dashboard) =&gt; <span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Dashboard</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="hljs-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">Bundle</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;</span><br><span class="line">  componentDidMount () &#123;</span><br><span class="line">    <span class="hljs-comment">// preload the rest</span></span><br><span class="line">    loadAbout( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;&#125; )</span><br><span class="line">    loadDashboard( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;&#125; )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render () &#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Welcome&lt;<span class="hljs-regexp">/h1&gt;</span></span><br><span class="line"><span class="hljs-regexp">        &lt;Route path='/</span>about<span class="hljs-string">' component=&#123;About&#125; /&gt;</span></span><br><span class="line"><span class="hljs-string">        &lt;Route path='</span>/dashbaord<span class="hljs-string">' component=&#123;Dashboard&#125; /&gt;</span></span><br><span class="line"><span class="hljs-string">      &lt;/div&gt;</span></span><br><span class="line"><span class="hljs-string">    )</span></span><br><span class="line"><span class="hljs-string">  &#125;</span></span><br><span class="line"><span class="hljs-string">&#125;</span></span><br><span class="line"><span class="hljs-string"></span></span><br><span class="line"><span class="hljs-string">ReactDOM.render(&lt;App /&gt;, document.preloadTheRestOfTheApp)</span></span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-25T06:48:14.000Z">2017-04-25</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 206 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/25/learning-d3/">Learning D3</a>
            
        </h1>
        <div class="content">
            <h1 id="d3-array"><a href="#d3-array" class="headerlink" title="d3-array"></a>d3-array</h1><h2 id="array-methods-built-in-to-JavaScript"><a href="#array-methods-built-in-to-JavaScript" class="headerlink" title="array methods built-in to JavaScript"></a>array methods built-in to JavaScript</h2><ul>
<li>array.pop =&gt; popped element</li>
<li>array.push =&gt; array.length</li>
<li>array.reverse =&gt; change the array</li>
<li>array.shift =&gt; shifted element</li>
<li>array.unshift =&gt; array.length</li>
<li>array.sort =&gt; change the array</li>
<li><p>array.splice =&gt; change the array</p>
</li>
<li><p>array.concat =&gt; new Array</p>
</li>
<li><p>array.join =&gt; new String</p>
</li>
<li><p>array.slice =&gt; new Array</p>
</li>
<li><p>array.indexOf =&gt; number</p>
</li>
<li><p>array.lastIndexOf =&gt; number</p>
</li>
<li><p>array.fitler =&gt; new Array</p>
</li>
<li><p>array.forEach =&gt; undefined</p>
</li>
<li><p>array.every =&gt; boolean</p>
</li>
<li><p>array.map =&gt; new Array</p>
</li>
<li><p>array.some =&gt; boolean</p>
</li>
<li><p>array.reduce =&gt;</p>
</li>
<li>array.reduceRight =&gt;</li>
</ul>
<blockquote>
<p>yarn add d3-array</p>
</blockquote>
<h2 id="Statistics"><a href="#Statistics" class="headerlink" title="Statistics"></a>Statistics</h2><ul>
<li><p><code>d3.min(array[, accessor])</code></p>
<ul>
<li>Mininum value using natural order</li>
<li>Return undefined if the array is empty</li>
<li>An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array.map(accessor)</em> before computing the minumum value.</li>
</ul>
</li>
<li><p><code>d3.max(array[, accessor])</code></p>
<ul>
<li>Return maximum value</li>
<li>Return undefined. if the array is empty</li>
</ul>
</li>
<li><p><code>d3.extent(array[, accessor])</code></p>
<ul>
<li>Return <em>minumum</em> and <em>maximum</em> value in the given array.</li>
<li>Return <code>[undefined, undefined]</code> if the array is empty</li>
</ul>
</li>
<li><p><code>d3.sum(array[, accessor])</code></p>
<ul>
<li>Return the sum of the given array of numbers.</li>
<li>Return 0 if the array is empty.</li>
<li>ignores <em>undefined</em> and <em>NaN</em> values.</li>
</ul>
</li>
<li><p><code>d3.mean(array[, accessor])</code></p>
<ul>
<li>Return the mean of the given array of numbers.</li>
<li>Return undefined if the array is empty.</li>
<li>Ignore <em>undefined</em> and <em>NaN</em>.</li>
</ul>
</li>
<li><p><code>d3.median(array[, accessor])</code> -</p>
</li>
</ul>
<p>-</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-25T04:23:55.000Z">2017-04-25</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a few seconds read (About 79 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/25/node-inspector-s-crash/">Node-Inspector&#39;s Crash</a>
            
        </h1>
        <div class="content">
            <p>I had encountered a problem using <code>node-inspector</code> with info</p>
<blockquote>
<p>cb(error, NM[0].ref); Cannot read property ‘ref’ of undefined</p>
</blockquote>
<p>And one method to resolve it is to modify the packagge</p>
<blockquote>
<p>Same issue with node v6.5.0 can be solved like this :</p>
</blockquote>
<blockquote>
<p>Edit …\node_modules\node-inspector\lib\InjectorClient.js file at line 111 if(NM.length &gt; 0) cb(error, NM[0].ref);</p>
</blockquote>
<blockquote>
<p>It works</p>
</blockquote>
<p>which is hack, and another method is without side-effect</p>
<blockquote>
<p>use the local node-inspector</p>
</blockquote>
<p>hope it helps</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-21T05:22:32.000Z">2017-04-21</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 minutes read (About 704 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/21/Usage-of-Chai/">Usage of Chai</a>
            
        </h1>
        <div class="content">
            <h1 id="Chains"><a href="#Chains" class="headerlink" title="Chains"></a>Chains</h1><ul>
<li>to</li>
<li>be</li>
<li>been</li>
<li>is</li>
<li>that</li>
<li>which</li>
<li>and</li>
<li>has</li>
<li>have</li>
<li>with</li>
<li>at</li>
<li>of</li>
<li>same</li>
</ul>
<h1 id="not"><a href="#not" class="headerlink" title="not"></a>not</h1><blockquote>
<p>negative any of assertions following in the Chains</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(foo).to.not.equal(<span class="hljs-string">'bar'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="deep"><a href="#deep" class="headerlink" title="deep"></a>deep</h1><blockquote>
<p>set the <code>deep</code> flag, later used by the <code>equal</code> and <code>property</code> assertions</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(foo).to.deep.equal(&#123;<span class="hljs-attr">bar</span>: <span class="hljs-string">'bar'</span>&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="any"><a href="#any" class="headerlink" title="any"></a>any</h1><blockquote>
<p>set the <code>any</code> flag, (opposite of the <code>all</code> flag), later used in the <code>keys</code> assertion</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(foo).to.have.any.keys(<span class="hljs-string">'bar'</span>, <span class="hljs-string">'foo'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="all"><a href="#all" class="headerlink" title="all"></a>all</h1><blockquote>
<p>set the <code>all</code> flag, (opposite of the <code>any</code> flag), later used by the <code>keys</code> assertions</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(foo).to.have.all.keys(<span class="hljs-string">'bar'</span>, <span class="hljs-string">'foo'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="a-type"><a href="#a-type" class="headerlink" title="a(type)"></a>a(type)</h1><ul>
<li>@param {String} type</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>The <code>a</code> and <code>an</code> assertion are aliases that can be used either as language chains or to assert a value’s type</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">// typeof</span></span><br><span class="line">expect(<span class="hljs-string">'test'</span>).to.be.a(<span class="hljs-string">'string'</span>)</span><br><span class="line"><span class="hljs-comment">// language chain</span></span><br><span class="line">expect(foo).to.be.an.instanceof(Foo)</span><br></pre></td></tr></table></figure>
<h1 id="include-value"><a href="#include-value" class="headerlink" title="include(value)"></a>include(value)</h1><ul>
<li>@param {Object | String | Number} obj</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>The <code>include</code> and <code>contain</code> assertion can be used as either property based language chains or methods to assert the inclusion of an object in an array or a substring in a string.</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">expect([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]).to.include(<span class="hljs-number">2</span>)</span><br><span class="line">expect(<span class="hljs-string">'foobar'</span>).to.contain(<span class="hljs-string">'foo'</span>)</span><br><span class="line">expect(&#123; <span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>, <span class="hljs-attr">bar</span>: <span class="hljs-string">'bar'</span> &#125;).to.include.keys(<span class="hljs-string">'foo'</span>)</span><br></pre></td></tr></table></figure>
<h1 id="ok"><a href="#ok" class="headerlink" title="ok"></a>ok</h1><blockquote>
<p>Assert that the target is truthy</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-string">'everything'</span>).to.be.ok</span><br><span class="line">expect(<span class="hljs-literal">undefined</span>).to.not.be.ok</span><br></pre></td></tr></table></figure>
<h1 id="true"><a href="#true" class="headerlink" title="true"></a>true</h1><blockquote>
<p>Assert that the target is <code>true</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-literal">true</span>).to.be.true</span><br><span class="line">expect(<span class="hljs-number">1</span>).to.be.true</span><br></pre></td></tr></table></figure>
<h1 id="false"><a href="#false" class="headerlink" title="false"></a>false</h1><blockquote>
<p>Assert that the target is <code>false</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-literal">false</span>).to.be.false</span><br><span class="line">expect(<span class="hljs-number">0</span>).to.be.false</span><br></pre></td></tr></table></figure>
<h1 id="null"><a href="#null" class="headerlink" title="null"></a>null</h1><blockquote>
<p>Assert that the target to be <code>null</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-literal">null</span>).to.be.null</span><br></pre></td></tr></table></figure>
<h1 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h1><blockquote>
<p>Assert that the target is <code>undefined</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-literal">undefined</span>).to.be.undefined</span><br></pre></td></tr></table></figure>
<h1 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h1><blockquote>
<p>Assert that the target is <code>NaN</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-string">'foo'</span>).to.be.NaN</span><br></pre></td></tr></table></figure>
<h1 id="exist"><a href="#exist" class="headerlink" title="exist"></a>exist</h1><blockquote>
<p>Assert that the target is neither <code>null</code> nor <code>undefined</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-string">'foo'</span>).to.be.exist</span><br></pre></td></tr></table></figure>
<h1 id="empty"><a href="#empty" class="headerlink" title="empty"></a>empty</h1><blockquote>
<p>Assert that the target’s length is 0. For Array and String, it will check the length of propertes. For Object, it will check the length of enumerable keys</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect([]).to.be.empty</span><br></pre></td></tr></table></figure>
<h1 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h1><blockquote>
<p>Assert that the target is an arguments object</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  expect(<span class="hljs-built_in">arguments</span>).to.be.arguments</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="equal-value"><a href="#equal-value" class="headerlink" title="equal(value)"></a>equal(value)</h1><ul>
<li>@param {Mixed} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is strictly equal(===) to <code>value</code>. Alternately, if the <code>.deep</code> flag is set, assert that the target is deeply equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-string">'hello'</span>).to.equal(<span class="hljs-string">'hello'</span>)</span><br><span class="line">expect(&#123;<span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>&#125;).to.deep.equal(&#123;<span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="eql-value"><a href="#eql-value" class="headerlink" title="eql(value)"></a>eql(value)</h1><ul>
<li>@param {Mixed} value</li>
<li>@param {String} message [optional]</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(&#123;<span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>&#125;).to.eql(&#123;<span class="hljs-attr">foo</span>: <span class="hljs-string">'foo'</span>&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="above-value"><a href="#above-value" class="headerlink" title="above(value)"></a>above(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is greater than <code>value</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-number">10</span>).to.be.above(<span class="hljs-number">5</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Can also be used in conjunction with <code>length</code> to assert a minimum length.</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-string">'foo'</span>).to.have.length.above(<span class="hljs-number">2</span>)</span><br></pre></td></tr></table></figure>
<h1 id="least-value"><a href="#least-value" class="headerlink" title="least(value)"></a>least(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is greater than or equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-number">10</span>).to.be.at.least(<span class="hljs-number">10</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="below-value"><a href="#below-value" class="headerlink" title="below(value)"></a>below(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optinal]</li>
</ul>
<blockquote>
<p>Assert that the target is less than <code>value</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-number">5</span>).to.be.below(<span class="hljs-number">10</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="most-value"><a href="#most-value" class="headerlink" title="most(value)"></a>most(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optinal]</li>
</ul>
<blockquote>
<p>Assert that the target is less than or equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-number">5</span>).to.be.at.most(<span class="hljs-number">5</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>used for length o</p>
</blockquote>
<h1 id="within-start-finish"><a href="#within-start-finish" class="headerlink" title="within(start, finish)"></a>within(start, finish)</h1><ul>
<li>@param {Number} start lowerbound inclusive</li>
<li>@param {Number} finish upperbound inclusive</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is within a range</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expect(<span class="hljs-number">28</span>).to.be.within(<span class="hljs-number">2</span>, <span class="hljs-number">30</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="instanceof-constructor"><a href="#instanceof-constructor" class="headerlink" title="instanceof(constructor)"></a>instanceof(constructor)</h1><ul>
<li>@param {Constructor} constructor</li>
<li>@param {String} message [optional]</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">var</span> Tea = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">this</span>.name = name,</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-keyword">var</span> Chai = <span class="hljs-keyword">new</span> Tea(<span class="hljs-string">'chai'</span>)</span><br><span class="line"></span><br><span class="line">expect(Chai).to.be.an.instanceof(Tea)</span><br><span class="line">expect([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]).to.be.an.instanceof(<span class="hljs-built_in">Array</span>)</span><br></pre></td></tr></table></figure>
<h1 id="property-name-value"><a href="#property-name-value" class="headerlink" title="property(name[, value])"></a>property(name[, value])</h1><ul>
<li>@param {String} name</li>
<li>@param {Mixed} value [optional]</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target has a property <code>name</code>, optionally asserting that the value of that property is strictly equal to <code>value</code>. If the <code>deep</code> flag is set, you can use dot- and bracket-notation for deep reference into objects and arrays.</p>
</blockquote>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expect(obj).to.have.property(<span class="hljs-string">'foo'</span>)</span><br><span class="line">expect(obj).to.have.property(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="to-be-continued"><a href="#to-be-continued" class="headerlink" title="to be continued"></a>to be continued</h2>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-20T15:50:43.000Z">2017-04-20</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a few seconds read (About 8 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/20/AVA-Usage/">AVA Usage</a>
            
        </h1>
        <div class="content">
            <h1 id="测试语法"><a href="#测试语法" class="headerlink" title="测试语法"></a>测试语法</h1><p><code>`</code> import test from ‘ava’</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-20T15:47:12.000Z">2017-04-20</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a few seconds read (About 0 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/20/Usage/">Usage</a>
            
        </h1>
        <div class="content">
            
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-16T17:27:41.000Z">2017-04-17</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 194 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/17/用-javascript-实现选中粘贴/">用 Javascript 实现选中粘贴</a>
            
        </h1>
        <div class="content">
            <p>为了对付单位愚蠢的每日工作总结的要求, 写了一个小脚本来导出任务管理器里的内容到剪贴板, 于是接触了一下纯 javascript 实现复制到剪贴板功能</p>
<p>代码先行贴出</p>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line"><span class="hljs-meta">    'use strict'</span>;</span><br><span class="line">    <span class="hljs-keyword">if</span> (<span class="hljs-string">'your_url'</span>)&#123;</span><br><span class="line">        <span class="hljs-keyword">var</span> issueList = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.issue-list li'</span>);</span><br><span class="line">        <span class="hljs-keyword">var</span> taskList = [];</span><br><span class="line">        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = issueList.length; i &lt; len; i++)&#123;</span><br><span class="line">            <span class="hljs-keyword">var</span> key = issueList[i].getAttribute(<span class="hljs-string">'data-key'</span>);</span><br><span class="line">            <span class="hljs-keyword">var</span> title = issueList[i].getAttribute(<span class="hljs-string">'title'</span>);</span><br><span class="line">            <span class="hljs-keyword">var</span> task = <span class="hljs-string">'已完成: '</span>+key+<span class="hljs-string">'-'</span>+title;</span><br><span class="line">            taskList.push(task);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">var</span> text = taskList.join(<span class="hljs-string">'\n'</span>);</span><br><span class="line">        <span class="hljs-keyword">var</span> clipboard = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'textarea'</span>);</span><br><span class="line">        clipboard.style.width = <span class="hljs-string">'100%'</span>;</span><br><span class="line">        clipboard.style.height = <span class="hljs-string">'300px'</span>;</span><br><span class="line">        clipboard.value = text;</span><br><span class="line">        <span class="hljs-keyword">var</span> listPanel = <span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">'list-panel'</span>)[<span class="hljs-number">0</span>];</span><br><span class="line">        listPanel.appendChild(clipboard);</span><br><span class="line">        <span class="hljs-keyword">var</span> today = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>);</span><br><span class="line">        today.style.width = <span class="hljs-string">'100%'</span>;</span><br><span class="line">        today.innerText = <span class="hljs-string">'Today'</span>;</span><br><span class="line">        listPanel.appendChild(today);</span><br><span class="line">        today.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">          <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'url_to_today'</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="hljs-keyword">var</span> button = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>);</span><br><span class="line">        button.style.width = <span class="hljs-string">'100%'</span>;</span><br><span class="line">        button.innerText = <span class="hljs-string">'copy to clipboard'</span>;</span><br><span class="line">        listPanel.appendChild(button);</span><br><span class="line">        button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">          clipboard.select();</span><br><span class="line">          <span class="hljs-built_in">document</span>.execCommand(<span class="hljs-string">'copy'</span>);</span><br><span class="line">          clipboard.blur();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-03-19T21:53:35.000Z">2017-03-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 minutes read (About 503 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/03/20/baisc-usage-of-redux-observable/">Baisc Usage of Redux-Observable</a>
            
        </h1>
        <div class="content">
            <h2 id="First-of-All"><a href="#First-of-All" class="headerlink" title="First of All"></a>First of All</h2><h3 id="createEpicMiddleware-rootEpic"><a href="#createEpicMiddleware-rootEpic" class="headerlink" title="createEpicMiddleware(rootEpic)"></a><code>createEpicMiddleware(rootEpic)</code></h3><p><code>createEpicMiddleware</code> is used to create an instance of the actual redux-observable middleware, and you should provide a single, root Epic</p>
<h4 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h4><ol>
<li><code>rootEpic: Epic</code>: The root Epic<p></p></li>
<li><code>[options: Object]</code>: The optional configuration.</li>
</ol>
<ul>
<li><p><code>dependencies</code>: If given, it will be injected as the 3rd argument to all Epics,</p>
</li>
<li><p><code>adapter</code>: An adapter object which can transform the input/output streams provided to your epics, Usually used to adapt a stream library other than RxJS v5, like adapter-rxjs-v4 or adapter-most Options:</p>
<pre><code>*   `input: ActionsObservable =&amp;gt; Any`: Transforms the input stream of actions, `ActionsObservable` that is passed to your root Epic(transformation takes place before it is passed to the root Epix)

*   `output: any =&amp;gt; Observable`: Transforms the return value of root Epic(transform takes place after the root epic returned it)
</code></pre></li>
</ul>
<h4 id="Returns"><a href="#Returns" class="headerlink" title="Returns"></a>Returns</h4><p></p><p><code>MiddlewareAPI</code>: An instance of the redux-observable middleware</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><pre><code>import { createStore, applyMiddleware, compose } from &apos;redux&apos;
import { createEpicMiddleware } from &apos;redux-observable&apos;
import { rootEpic, rootRotuer } from &apos;./modules/root&apos;

const epicMiddleware = createEpicMiddleware(rootEpic)

export default function configureStore () {
  const store = createStore(
    rootRotuer,
    applyMiddleware(epicMiddleware)
  )
  return store
}
`&lt;/pre&gt;

### `combineEpics(...epic)`

`combineEpics` allows you to take multiple epics and combine them into a single one

#### Arguments

`...epics: Epic[]`: The epics to combine

#### Return

`(Epic)`: An Epic that merges the output of every Epic provided and passes along the `ActionObservable` and redux store as arguments

### Example

&lt;pre&gt;`import { combineEpics } from &apos;redux-observable&apos;
import pingEpic from &apos;./ping&apos;
import fetchUserEpic from &apos;./fetchUser&apos;

export default combineEpics(
  pingEpic,
  fetchUser
)
`&lt;/pre&gt;

### `EpicMiddleware`

An instance of the redux-observable middleware

To create it, pass your root Epic to `createEpicMiddleware`

`replaceEpic(nextEpic)`: Replaces the epic currently by the middleware, it is an advanced API. You might need this if your app implement code splitting and you want to load some of the epics dynamically or you&apos;re using hot reloading.

### Create Epic

&lt;pre&gt;`const pingEpic = action$ =&amp;gt; action$.ofType(&apos;PING&apos;).mapTo({type: &apos;PONG&apos;})
`&lt;/pre&gt;

### Cancellation

&lt;pre&gt;`import { ajax } from &apos;rxjs/observable/dom/ajax&apos;

const fetchUserEpic = action$ =&amp;gt; action$.ofType(&apos;FETCH_USER&apos;).mergeMap(
  action =&amp;gt; ajax.getJSON(`/api/user/${action.payload}`)
    .map(res =&amp;gt; fetchUserFulfilled(res))
    .takeUntil(action$.ofType(&apos;FETCH_USER_CANCELLED&apos;))
)
`&lt;/pre&gt;

### Handling Error

&lt;pre&gt;`import { ajax } from &apos;rxjs/observable/dom/ajax&apos;

const fetchUserEpic = action$ =&amp;gt; action.ofType(&apos;FETCH_USER&apos;).mergeMap(
  action =&amp;gt; ajax.getJSON(`/api/users/${action.payload}`)
  .map(res =&amp;gt; fetchUserFulfilled(res))
  .catch(err =&amp;gt; Observable.of({
    type: &apos;FETCH_USER_REJECTED&apos;,
    payload: err.xhr.response,
    error: true,
  }))
)
`&lt;/pre&gt;

### dependencies Injecting

&lt;pre&gt;`import { createEpicMiddleware, combineEpics } from &apos;redux-observable&apos;
import { ajax } from &apos;rxjs/observable/dom/ajax&apos;
import rootEpic from &apos;./somewhere&apos;

const epicMiddleware = createEpicMiddleware(rootEpic, {
  dependencies: { getJSON: ajax.getJSON }
})

const fetchUserEpic= (action$, store, { getJSON }) =&amp;gt; action$.ofType(&apos;FETCH_USER&apos;).mergeMap(
  (action) =&amp;gt; getJSON(`/api/users/${action.payload}`)
    .map(res =&amp;gt; ({
      type: &apos;FETCH_USER_REJECTED&apos;,
      payload: res
    }))
)
`&lt;/pre&gt;

### Adding New Epics Asynchronously/Lazily

&lt;pre&gt;`import { BehaviorSubject } from &apos;rxjs/BehaviorSubject&apos;
import { combineEpics } from &apos;redux-observable&apos;

const epic$ = new BehaviorSubject(combineEpics(epic1, epic2))
const rootEpic = (action$, store) =&amp;gt; epic$.mergeMap(epic =&amp;gt; epic(action$, store))

// sometime later ... add another Epic, keeping the state of the old ones...
epic$.next(asyncEpic1)
// and again later add another
epic$.next(asyncEpic2)
</code></pre>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-27T07:28:42.000Z">2017-02-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a few seconds read (About 57 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/27/functor-e5-87-bd-e5-ad-90/">Functor 函子</a>
            
        </h1>
        <div class="content">
            <pre><code>class Functor {
  constructor (val) {
    this.__val = val
  }

  map (fn) {
    return new Functor(fn(__this.value))
  }
}
</code></pre><p>即将范畴 <code>Functor@val</code> 通过 fn 映射为范畴 <code>Function@fn(val)</code></p>
<p>Functor 本身具有 map 方法, 通过各种函数作为运算符, 映射成新的Functor</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-21T21:53:41.000Z">2017-02-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 197 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/22/throttle-e5-87-bd-e6-95-b0/">Throttle 函数</a>
            
        </h1>
        <div class="content">
            <pre><code>function throttle (fn, threshold, scope) {
  threshold || threshold = 250
  var last, timer
  return function () {
    var ctx = scope || this
    var now = +new Date()
    var args = arguments
    if (last &amp;amp;&amp;amp; now - last - threshold &amp;lt; 0) {
      // hold on it
      clearTimeout(timer)
      timer = setTimeout(function () {
        last = now
        fn.apply(ctx, args)
      }, threshold)
    } else {
      last = now
      fn.apply(ctx, args)
    }
  }
}
`&lt;/pre&gt;

&lt;pre&gt;`Elm.addEventListener(&apos;click&apos;, throttle(function(event){
  // ...
}, 1000))
</code></pre><p>假设第一次执行 throttle(fn0), fn0会立即执行, 并记录 throttle 开启的时间last</p>
<p>第二次执行, 假设为 throttle(fn1), 如果距离 now 未超出时限 threshold, 则开启定时器, threshold 后执行 fn1, 并设置 last</p>
<p>如果在开启定时器后, threshold 时限内执行 throttle(fn2) 则用于执行 fn1 的定时器会被清空, 开启 fn2 的定时器, 并设置 last</p>
<p>简而言之, 执行 throttle 的时候, 如果上一次的定时器未被执行, 则会被清除, 并重新开始计时</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-21T21:41:05.000Z">2017-02-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 121 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/22/debounce-e5-87-bd-e6-95-b0/">Debounce 函数</a>
            
        </h1>
        <div class="content">
            <pre><code>function debounce (fn, delay) {
  var timer = null
  return function () {
    var context = this, args = arguments
    clearTimeout(timer)
    timer = setTimeout(function () {
      fn.apply(context, args)
    }, delay)
  }
}
`&lt;/pre&gt;

Example:

&lt;pre&gt;`Elm.addEventListener(&apos;click&apos;, debounce(function(event){
  ...
}, 250))
</code></pre><p>可以看出, 传入 debounce 的所有函数共享计时器 timer, 因此如果在 delay 时间内再次调用 debounce(fn), 即上一次 fn 为执行而新的 fn 传入时, 上一次的 fn 的 timer 会清空, 对新传入的 fn 进行计时</p>
<p>其结果即是,</p>
<p>在 delay 时限内复数次调用 debounce 会刷新计时器</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-07T02:16:16.000Z">2017-02-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a few seconds read (About 44 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/07/react-router-e4-b8-ad-props-e7-9a-84-e4-bc-a0-e9-80-92/">React-Router 中 Props 的传递</a>
            
        </h1>
        <div class="content">
            <p>原本写</p>
<pre><code>{children}
`&lt;/pre&gt;

的地方改写为

&lt;pre&gt;`{children &amp;amp;&amp;amp; React.cloneElement(children, {
  prop, // 需要传入的 props
})}
</code></pre><p>即可</p>
<p><a href="https://github.com/ReactTraining/react-router/blob/master/examples/passing-props-to-children/app.js" target="_blank" rel="noopener">官方案例</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-03T22:28:06.000Z">2017-02-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 179 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/04/babel-polyfill-e5-85-a5-e9-97-a8/">Babel-Polyfill 入门</a>
            
        </h1>
        <div class="content">
            <pre><code>yarn add babel-polyfill

import &apos;babel-polyfill&apos;
`&lt;/pre&gt;

babel-polyfill 提供了全局访问 API, 如 Promise, Set 以及 Map, 但是 polyfill 提供的 api 可能会污染到全局作用域, 特别在你把代码导报为第三方库给其他人用时, 或者你无法控制代码运行环境时, 都可能存在问题

`babel` 提供了 `transform-runtime` 插件来解决此问题, `transform-runtime` 提供一个沙盒机制来组织全局变量的污染

&gt; 需要注意, transform-runtime 依赖于 babel-runtime

&lt;pre&gt;`# transform-runtime 只应用于开发环境
yarn add --dev babel-plugin-transform-runtime 

# 其依赖包 babel-runtime 需要打包到生产环境
yarn add babel-runtime
`&lt;/pre&gt;

&lt;pre&gt;`// .babelrc
{
  &quot;plugins&quot;: [&quot;transform-runtime&quot;]
}

or

{
  &quot;plugins&quot;: [
    [&quot;transform&quot;, {
      &quot;helpers&quot;: false,
      &quot;polyfill&quot;: false,
      &quot;regenerator&quot;: true,
      &quot;moduleName&quot;: &quot;babel-runtime&quot;,
      }]
  ]
}
</code></pre>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-02-01T09:32:28.000Z">2017-02-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 325 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/02/01/e8-a7-a3-e5-86-b3-commonschunkplugin-e7-9a-84-hash-e5-8f-98-e5-8c-96-e9-97-ae-e9-a2-98/">解决 CommonsChunkPlugin 的 Hash 变化问题</a>
            
        </h1>
        <div class="content">
            <h3 id="原文"><a href="#原文" class="headerlink" title="原文:"></a>原文:</h3><blockquote>
<p>Manifest File<br>  But, if we change application code and run webpack again, we see that the hash for the vendor file changes. Even though we achieved separate bundles for vendor and main bundles, we see that the vendor bundle changes when the application code changes. This means that we still don’t reap the benefits of browser caching because the hash for vendor file changes on every build and the browser will have to reload the file.</p>
<p>  The issue here is that on every build, webpack generates some webpack runtime code, which helps webpack do it’s job. When there is a single bundle, the runtime code resides in it. But when multiple bundles are generated, the runtime code is extracted into the common module, here the vendor file.</p>
</blockquote>
<p>To prevent this, we need extract out the runtime into a separate manifest file. Even though we are creating another bundle, the overhead is offset by the long term caching benefits that we obtain on the vendor file.</p>
<h3 id="非翻译"><a href="#非翻译" class="headerlink" title="非翻译:"></a>非翻译:</h3><p>每次打包时 vendor 文件的 hash 也会变化的原因在于, webpack 打包时必定会产生 runtime code.</p>
<p>当我们需要打包出 vendor.js 的时候, 尽管公共代码没有变化, 但是 webpack 会生成新的 runtime code 并注入 vendor.js, 导致其 hash 变化.</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法:"></a>解决方法:</h3><p>将 vendor.js 中的 runtime code 单独打包出来, 这样只有 bundle.js 和 runtime code 的 hash 会变化, vendor.js 的代码不会变化.</p>
<h3 id="具体做法"><a href="#具体做法" class="headerlink" title="具体做法:"></a>具体做法:</h3><pre><code>new webpack.optimize.CommonsChunkPlugin({
  name: [&apos;vendor&apos;, &apos;manifest&apos;],
}
</code></pre><p>这样就可以把 runtime code 打包进 manifest.js, 此后该类操作不会改变 vendor.js 的 hash 了</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-01-29T03:57:13.000Z">2017-01-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    19 minutes read (About 2865 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/01/29/webpack-2-config-e6-96-87-e4-bb-b6-e5-85-a5-e9-97-a8/">Webpack 2 Config 文件入门</a>
            
        </h1>
        <div class="content">
            <p>webpack 2 config 文件入门</p>
<h3 id="webpack-config-js-的基本结构"><a href="#webpack-config-js-的基本结构" class="headerlink" title="webpack.config.js 的基本结构"></a>webpack.config.js 的基本结构</h3><pre><code>var path = require(&apos;path&apos;)

module.exports = {
  entry:  {
    home: &apos;./home.js&apos;,
    about: &apos;./about.js&apos;,
    contact: &apos;./contact.js&apos;,
  }, // 入口文件
  // string | [string] | object {&amp;lt;key&amp;gt;: string | [string] }
  // 一个页面搭配一个入口文件
  output: {
    // output 包含一系列关于打包后文件的配置
    // output.chunkFilename: string, 这个参数确定了加载 chunk 的名称
    // output.crossOriginLoading: boolean | string, 只在 target 参数指定为 web 的时候使用, 因为此时通过 jsonp 加载模块
    // crossOriginLoading: false(default) , 禁止跨域加载
    // crossOriginLoading: &apos;anonymous&apos;, 允许无 credential 的跨域加载
    // crossOriginLoading: &apos;use-credentials&apos;, 允许有 credential 的跨域加载
    // 
    // output.devtoolFallbackModuleFilenameTemplate: string | function(info)
    // output.hotUpdateChunkFilename: string, 指定热刷新的 chunk 的名称, 仅支持 id 和 hash 占位符
    // hotUpdateChunkFilename: &apos;[id].[hash].hot-update.js&apos;
    // output.sourceMapFilename: string, 仅当 devtool 使用 source map 时生效, 默认为[ file].map, 可选占位符有[name], [id], [hash], [chunkhash]

    path: path.resolve(__dirname, &apos;dist&apos;), // 打包后文件存储路径, 必须是绝对路径, 可以用 path 模块生成

    publicPath: /assert/, // 解析文件中相对路径时依赖的根目录
    // 该字段设定了输出文件的 public Url
    // 
    // 默认的, 相对路径会基于 html 文件位置或&amp;lt;base&amp;gt;标签进行解析, 添加 publicPath 后, 各个 loaders 会在每个相对路径前添加 publicPath, 即相对路径基于 publicPath 进行解析
    // 该值一般以&apos;/&apos;结尾
    // 默认值为&apos;&apos;
    // simple rule: 该参数的值为html 页面到 output.path 的相对值
    // path: path.resolve(__dirname, &apos;public/assets&apos;),
    // publicPath: &apos;https://cdn.example.com/assets/&apos;,
    // publicPath 也会对 webpack-dev-server 生效
    // publicPath: &apos;https://cdn.example.com/assets/&apos; cdn, 并且应该使用 https
    // publicPath: &apos;//cdn.example.com/assets/&apos;, cdn, 使用相同协议
    // publicPath: &apos;/assets/&apos;, 相对于服务器根路径
    // publicPath: &apos;assets/&apos;, 相对于 html 页面
    // publicPath: &apos;../assets/&apos;, 相对于 html 页面
    // publicPath: &apos;&apos;, 相对于 html 页面(同一路径)

    filename: &apos;bundle.js&apos;, // 打包后的文件名称
    // 对于单一入口文件, filename 可以为静态名称&apos;bundle.js&apos;
    // 对于多入口文件, 可以使用参数生成特定名称
    // [name], [id], [hash], [chunkhash]
    // 可以为文件添加路径: &apos;js/[name]/bundle.js&apos;

    library: &apos;MyLibrary&apos;, // 输出库的名称

    libraryTarget: &apos;umd&apos;, // 输出库的类型
  },
  module: {
    // module.noParse: RegExp | [RegExp], 符合正则的字段被 import, require, define 后不会被处理, 可以提高打包速度
    // noParse: /jquery|lodash/
    //
    rules: [
      // 模块应用规则(loaders, parser 的设定等)
      // module.rules: array
      // 一条 Rule 可以分为三部分, Conditions, Results, Nested Rules

      // Conditions, 有两个输入值, 
      // 1\. The resource: 文件引用的绝对路径经过 resolve 规则解析后的结果
      // 2\. The issuer: 引用 resource 的模块到文件的绝对路径
      // 比如, &apos;app.js&apos; 中 &apos;import ./style.css&apos;, resource 是 &apos;/path/to/style.css&apos;, issuer 是 &apos;/path/to/app.js&apos;
      // 在 rule 中, test, include, exclude 和 resource 作用于resource, 而 issuer 族谱用于 issuer

      // Results
      // Rule Results 仅在 Rule Conditions 满足时起作用
      // Rule Results 有二种输出值
      // Applied Loaders: 一个数组, 其元素是应用于 resource 的 loaders
      // Parser options: 一个 options 对象, 作为当前 module 的 parser
      // loader, options, use 用于 loaders,
      // query, loaders 用于提高兼容性
      // enforce 属性指定 loader 类型, 可选值有: normal, pre, post
      // parser 属性影响 parser options

      // Nested Rules
      // 在 rules 和 oneOf 属性中可以指定 nested rules

      // Rule.enforce: &apos;pre&apos; | &apos;post&apos;, 指定 loader 的类型, 默认为 normal
      // 还有一种 inline loader 应用于 inline import/require, 
      // 所有 loaders 按照 post, inline, normal, pre 排序并依次执行
      // 所有 normal loaders 可以通过在 request 中添加前缀 &apos;!&apos; 进行忽略
      // 所有 normal 和 pre loaders 可以通过在 request 中添加前缀 &apos;-!&apos; 进行忽略
      // 所有 normal, post 和 pre loaders 可以通过在 request 前添加 &apos;!!&apos; 进行忽略

      // Rule.exclude
      // Rule.exclude 是 Rule.resource.exclude 的缩写
      // 
      // Rule.include
      // Rule.include 是 Rule.resource.include 的缩写
      //
      // Rule.issuer
      //
      // Rule.loader
      // Rule.loader 是 Rule.use: [{loader}] 的别名
      // 
      // Rule.loaders
      // Rule.loaders 是 Rule.use 的别名, 他的存在仅为了兼容 webpack1, 应使用 Rule.use
      // 
      // Rule.oneOf
      // 一个数组, 其元素为一系列 rules, 仅第一个符合条件的 rule 会起作用
      // 
      // Rule.options/ Rule.query
      // Rule.options 和 Rule.query 都是 Rule.use: [{options}] 的缩写
      // Rule.query 的存在仅为了兼容 webpack1, 应使用 Rule.options
      // 
      // Rule.parser
      // 一个 parser options 的对象, 所有要使用的 parser options 都集中在此
      // 每个不同的 parser options 都会创建对应 parser, 并且 plugins 可以根据 parser options 应用.  当 parser options 中没有设置或设置为 true 时, 大部分 plugins 默认只应用他们自己的 parser plugins
      // parser: {
      // amd: false, // disable AMD
      // commonjs: false, // disable CommonJS
      // harmony: false, // disable ES6 Harmony import/exports
      // requireInclude: false, // disable require.include
      // requreEnsure: false, // disable require.ensure
      // }

      // Rule.resource
      // Rule.rules, 一个 Rules 组成 的数组
      // Rule.test, Rule.resource.test 的缩写
      // Rule.use, 一系列应用于 modules 的 UseEntries, 每一个 entry 指定一个 loader
      // use: [&apos;style-loader&apos;] 是 use: [{loader: &apos;style-loader&apos;}] 的缩写
      // 可以链式传入多个 loaders, 从右向左依次执行
      // use: [
      //   {loader: &apos;style-loader&apos;},
      //   {loader: &apos;css-loader&apos;, options: { importLoader: 1}},
      //   {loader: &apos;less-loader&apos;, options: { noIeCompat: true}},
      // ]

      // Condition
      // Condition 可以为以下之一:
      // String: 比如 exclude: &apos;node_modules&apos;
      // RegExp: 比如 test: /\.js$/, exclude: /node_modules/
      // function: 返回 true 或 false
      // Condition Array: 至少有一个满足时刻认为满足 condition
      // Object: 所有属性都满足时可认为满足
      // 
      // {test: Condition}, {include: Condition}, {exclude: Condition}, {and: [Condition]}, {or: [Condition]}, {not: Condition}
      // 
      // UseEntry: object
      // 该属性必须有一个字符串 loader.
      // 该属性相对 context 的值解析 loader
      // 该属性拥有 options 属性, 该属性为 string 或 object, 该属性会作为 loader options 被传给 loader
      // 考虑到兼容性, 目前仍支持 query 作为 options 的别名
      // 

      {
        test: /\.jsx?$/, // 通过正则表达式选择要处理的文件
        include: [ // 限定文件范围
          path.resolve(__dirname, &apos;app&apos;)
        ],
        exclude: [ // 排除文件范围
          path.resolve(__dirname, &apos;demo&apos;)
        ]
        // 最佳实践
        // test 中使用正则表达式
        // include 和 exclude 中使用绝对路径
        // 优先使用 include 而不是 exclude
        issuer: { test, include, exclude },
        // issuer 的应用范围
        enforce: &apos;pre&apos;,
        enforce: &apos;post&apos;,
        loader: &apos;babel-loader&apos;,
        // 使用 babel-loader 处理符合条件的文件
        // webpack2 中 -loader 不再可以省略
        options: {
          presets: [&apos;es2015&apos;]
        }
        // babel-loader 的配置
      },
      {
        test: /\.html$/,
        use: [
          // 应用多个 loader 及相关配置
          &apos;htmllint-loader&apos;,
          {
            loader: &apos;html-loader&apos;,
            options: {
              // ...
            }
          }
        ]
      },

      {
         oneOf: [ /* rules */ ],
         // 仅应用 rules 数组中的一条规则
      },

      {
        rules: [ /* rules */ ],
        // 应用所有 rules
      },

      {
        resource: { and: [ /* conditions */ ]}
        // 当所有 conditions 都满足时才认为符合条件
      },

      { resource: { or: [ /* conditions */ ]}, },
      { resource: [ /* conditions */] },
      // 当某一 condition 满足时即可认为符合条件

      {
        resource: { not: /* condition */ }
        // 当某一 condition 不满足时可认为符合条件
      }
    ],
    // rules 结束
  },
  resolve: {
    // 解析模块 request 时的配置
    // (不会应用于解析 loader )
    modules: [
      &apos;node_modules&apos;,
      path.resolve(__dirname, &apos;app&apos;)
    ],
    // 解析 modules 时的路径
    extensions: [&apos;.js&apos;, &apos;.json&apos;, &apos;.jsx&apos;, &apos;.css&apos;],
    // 可以省略的扩展名
    alias: {
      // 模块别名
      // 为 import 或 require 创建别名
      // Utilities: path.resolve(__dirname, &apos;src/utilities&apos;)
      // import Utility from &apos;../../utilities/utility&apos; 可以缩写为 
      // import Utility from &apos;Utilities/utility&apos;
      // 末尾添加$可以进行精确匹配, 类似正则
      // 
      &apos;module&apos;: &apos;new-module&apos;,
      // 别名 module 可以表示 new-module, 包括文件与路径, 比如 module/path/file 会被解析为 new-module/path/file
      &apos;only-module$&apos;: &apos;new-module&apos;,
      // 别名 only-module(处于尾部) 会被解析成 new-module, 因此 module/path/file 不会被解析
    },
    // aliasFields: string
    // 指定一个 field, 比如 browser, 来执行特定的 alias
    // aliasFields: [&apos;browser&apos;]
    // 
    // resolve.descriptionFiles: array
    // 用于描述的 JSON 文件, 默认为
    // descriptionFiles: [&apos;package.json&apos;]
    // 
    // resolve.enforceExtension: boolean
    // 如果为 true, webpack 不会处理没有扩展名的文件, 默认为 false, 及允许 require(&apos;./foo&apos;) 这种写法
    //
    //resolve.enforceModuleExtension: boolean
    //默认为 false, 是否允许 modules(loaders) 省略扩展名
    //
    //resolve.extensions: array, 自动解析指定的扩展名
    //默认为
    // extensions: [&apos;.js&apos;, &apos;.json&apos;]
    // 因此可以使用 import File from (&apos;../path/to/file&apos;) 这种写法
    // 
    // resolve.mainFields: array
    // 当 import 一个包时, 比如 import * as D3 from &apos;d3&apos;, 这个设置决定package.json中的哪个 field 对应的包的会被检索, 默认值基于 target 的值
    // 当 target 指定为 webworker, web 或不指定
    // mainFields: [&apos;browser&apos;, &apos;module&apos;, &apos;main&apos;]
    // 对于其他 target, 
    // mainFields [&apos;module&apos;, &apos;main&apos;]
    // 例如, D3的 package 包括这些 fields
    // {
    // ...
    // main: &apos;build/d3.Node.js&apos;,
    // browser: &apos;build/d3.js&apos;,
    // module: &apos;index&apos;
    // ...
    // }
    // 
    // resolve.mainFiles: array
    // 这里的 filename 会在解析路径的时候用到, 默认为
    // mainFiles: [&apos;index&apos;]
    // 
    // resolve.modules: array
    // 限定 webpack 搜索与解析的范围
    // 可以使用绝对路径偶相对路径, 但是他们的行为有少许不同.
    // 相对路径的检索方式与 Node 检索 module 相近, 首先检索当前路径及父路径
    // 绝对路径则只会检索给定路径
    // 默认值为 modules: [&apos;node_modules&apos;]
    //
    // 如果要添加路径, 应当添加在 node_modules 前面
    // modules: [path.resolve(__dirname, &apos;src&apos;), &apos;node_modules&apos;]
    // 
    // resolve.unsafeCache: regex | array | boolean
    // 默认为 true, 即允许模块缓存, 即使这种行为是不安全的
    // 
  },

  performance: {
    // 此配置决定 webpack 的通知功能
    // 主要用于对文件尺寸的控制
    hints: &apos;warning&apos;, // enum
    // hints: boolean | &apos;error&apos; | &apos;warning&apos;
    // 设定 webpack 何时显示通知
    // 默认为 warning

    maxAssetSize: 200000, // int (in bytes)
    // maxAssetSize: int, 这个选项限制了单个 asset 的尺寸, 默认为250000

    maxEntrypointSize: 400000, // int (in bytes)
    // maxEntrypointSize: int, 限制初始加载时单个 entry 的最大请求数, 默认为250000

    assetFilter: function (assetFilename) {
      return assetFilename.endsWith(&apos;.css&apos;) || assetFilename.endsWith(&apos;.js&apos;)
    }
    // assetFilter: function, 这个属性允许 webpack 控制使用哪些文件来计算 performance hint, 默认为
    // function (assertFilename) {
    //   return !(/\.map$/.test(assetFilename))
    // }
    //
    // 可以自己设定 filter function
    // assetFilter: function(assetFilename) {
    //   return assetFilename.endsWith(&apos;.js&apos;)
    // }
  },

  devtool: &apos;source-map&apos;, // enum, string | false
  // 可以提高 debug 的便利性, 但是会影响打包速度
  // 面向开发有: eval, inline-source-map, eval-source-map, cheap-module-eval-source-map
  // 面向生产有: source-map, hidden-source-map, cheap-source-map, nosources-source-map

  context: __dirname, // 使用绝对路径
  // webpack 的根路径, loaders 的配置文件(.babelrc, postcss.config.js)和 entry 都是基于 context 来解析的
  // 该属性值默认为当前目录, 但是强烈建议书写这一字段, 可以使你的配置文件独立于当前工作目录

  target: &apos;web&apos;, // enum
  // 打包文件运行环境
  // webpack 可以针对多个 environment 或 target 编译
  // target: string, (async-node|electron|electron-renderer|node|node-webkit|web|webworker)

  externals: [&apos;react&apos;, /^@angular\//],
  // 不必打包的内容
  // externals: string| RegExp | function | array | object
  // 例如要使用 jquery 的 cdn, 则可以这样配置
  // externals: {
  //   jquery: &apos;jQuery&apos;
  // }
  // import $ from &apos;jquery&apos;
  // 
  // externals: {
  //   substract: [&apos;./math&apos;, &apos;substract&apos;]
  // }
  // 会形成一个负责结构, ./math 是父模块, 而你的 bundle 仅请求其子模块 substract
  // 
  // externals: {
  //   react: &apos;react&apos;,
  //   lodash: {
  //     commonjs: &apos;lodash&apos;,
  //     amd: &apos;lodash&apos;,
  //     root: &apos;_&apos;
  //   }
  // }
  // 

  watch: boolean
  // webpack 可以监控文件并在他们变化时进行重新编译
  // 默认为 false

  watchOptions: object, 
  // 配置 watch 的模式
  // {
  //   aggregateTimeout: number, 从第一次检测到文件变化到进行重新编译的延迟时间, 这个段时间内的其他变化会被整合进此次编译
  //   ignored: string | RegExp, 忽视某些文件的变化, 减轻 CPU 负担
  //   poll: boolean | number, 每隔1000ms 进行一次检测
  // }

  stats: {
    // 待补充
  },

  devServer: {
    // 这一部分的设置会被 webpack-dev-server 采用
    contentBase: path.resolve(__dirname, &apos;dist&apos;), // 指定 serve 目录为 dist
    compress: true, // 开启 gzip 压缩
    port: 9000, // 指定端口
    // 当 devServer 启动时, 控制台会打印
    // http://localhost:9000
    // webpack result is served from /build/
    // content is served from dist/
    // 这几行指出了 server 的位置和 served 内容
    // 如果你使用了 Node.js API, 那么这部分会被忽略
    // 
    // devServer.filename: string, 这个选项可以减少 lazy mode 下的编译次数
    // 默认的, 在 lazy mode 下, 每一个请求会进行一次新的编译 
    // 添加 filename 后, devServer 仅在请求 filename 时进行编译, 比如
    // lazy: true,
    // filename: bundle.js
    // 此时, devServer 仅在请求/ bundle.js 时进行编译
    // filename 仅在 lazy mode 中起作用
    // devServer.headers: object, 在所有 request 中添加请求头
    // headers: {
    //   &apos;X-Custom-Foo&apos;: &apos;bar&apos;
    // }
    // 
    // devServer.historyApiFallback: boolean, object
    // 当使用 Html5 History Api 时, index.html 可能得到404响应
    // 
    // devServer.hot: boolean, 开启 webpack 模块热替换
    // 
    // devServer.host - CLI only
    // 指定 host
    // 
    // devServer.https: boolean | object, devServer 默认false, 即使用 http
    // 
    // devServer.inline - CLI only
    // 切换 devServer 的模式, 默认使用 inline 模式, 即脚本会直接注入到你的 bundle 以实现重载, 设置 devServer.inline: false 可以启用 iframe 模式
    // 
    // 
  },

  plugins: [
    // 待补充
  ]
}
</code></pre>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-01-28T23:25:10.000Z">2017-01-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 248 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/01/29/webpack-2-e8-b5-b7-e6-ad-a5/">Webpack 2 起步</a>
            
        </h1>
        <div class="content">
            <p>虽然和 webpack1 一样, 还是过一遍</p>
<h3 id="创建一个-bundle"><a href="#创建一个-bundle" class="headerlink" title="创建一个 bundle"></a>创建一个 bundle</h3><pre><code>mkdir webpack-demo &amp;amp;&amp;amp; webpack-demo

npm init -y

yarn add --dev webpack@beta

yarn add lodash
`&lt;/pre&gt;

#### 创建 app/index.js

&lt;pre&gt;`// app/index.js
import _ from &apos;lodash&apos;
function component () {
  let element = document.createElement(&apos;div&apos;);

// use lodash
  element.innerHtml = _.join([&apos;Hello&apos;, &apos;webpack&apos;], &apos; &apos;)

  return element
}

document.body.appendChild(component())
`&lt;/pre&gt;

#### 创建 index.html

&lt;pre&gt;`&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;webpack 2 demo&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;script src=&quot;public/bundle.js&quot;&amp;gt;&amp;gt;/script&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
`&lt;/pre&gt;

#### 创建打包后文件

&lt;pre&gt;`./node_modules/.bin/webpack app/index.js public/bundle.js
`&lt;/pre&gt;

webpack 会自动处理包的依赖关系

### 添加配置文件

&lt;pre&gt;`var path = require(&apos;path&apos;)

module.exports = {
  entry: &apos;./app/index.js&apos;,
  output: {
    path: path.resolve(__dirname, &apos;public&apos;),
    filename: &apos;bundle.js&apos;
  }
}
`&lt;/pre&gt;

通过 webpack 命令行进行打包

&lt;pre&gt;`webpack --config webpack.config.js
`&lt;/pre&gt;

`webpack` 会默认执行名为 `webpack.config.js` 的配置文件, 因此仅输入`webpack` 即可进行打包

### 通过 yarn 执行打包

在 `yarn init` 生成的 `package.json` 中添加

&lt;pre&gt;`{
  ...
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;webpack&quot;
  }
  ...
}
</code></pre><p>即可将<code>webpack</code>指令添加进 yarn 的快捷方式, 此时执行 <code>yarn build</code> 即可打包</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-01-18T01:18:57.000Z">2017-01-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/note/">note</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 minutes read (About 240 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/01/18/stacking-context-e6-88-90-e5-9b-a0-e5-8f-8a-e7-89-b9-e6-80-a7/">Stacking Context 成因及特性</a>
            
        </h1>
        <div class="content">
            <h3 id="会形成Stacking-Context-的元素"><a href="#会形成Stacking-Context-的元素" class="headerlink" title="会形成Stacking Context 的元素"></a>会形成Stacking Context 的元素</h3><ul>
<li>root 元素( html )<p></p></li>
<li><p>position 不是 static 且 z-index 不是 auto 的元素</p>
</li>
<li><p>flex item 且 z-index 不是 auto 的元素</p>
</li>
<li><p>opacity 小于 1 的元素</p>
</li>
<li><p>transform 不是 none 的元素</p>
</li>
<li><p>mix-blend-mode 不是 normal 的元素</p>
</li>
<li><p>filter 不是 none 的元素</p>
</li>
<li><p>isolation 为 isolate 的元素</p>
</li>
<li><p>mobile webkit 和 chrome 22+ 上的 fixed 元素</p>
</li>
<li><p>在 will-change 属性上指定值为上述任意属性的元素</p>
</li>
<li><p>指定 -webkit-overflow-scrolling 为 touch 的元素</p>
</li>
</ul>
<h3 id="Stacking-Context-的特性"><a href="#Stacking-Context-的特性" class="headerlink" title="Stacking Context 的特性"></a>Stacking Context 的特性</h3><ul>
<li><p>stacking context 可以嵌套</p>
</li>
<li><p>每个 Stacking context 相对于兄弟元素都是完全独立的, 其内部规则不会影响到外部</p>
</li>
<li><p>每个 stacking context 元素都会被父级 stacking context 视为一个 stacking 规则</p>
</li>
</ul>
<p></p><p>为已经定位的元素( absolute 或 relative) 指定 z-index 可以改变其 parent stacking context 中 z 的偏移量</p>
<p>一个值得注意的坑: 如果一个元素不是通过absolute 或 relative 实现 stacking context, 那么他的 z-index 为 0 , 仅高于 auto, 且无法改变.</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/7/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/9/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/7/">7</a></li>
            
            <li><a class="pagination-link is-current" href="/page/8/">8</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/9/">9</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/16/">16</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.jpg" alt="Keith Chen">
                    
                    
                    <p class="is-size-4 is-block">
                        Keith Chen
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        FE Engineer on Blockchain
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>30°17&#39;37N, 120°9&#39;41E</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        303
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        7
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        88
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/keith-CY" target="_blank">
                Follow</a>
        </div>
        
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/keith-CY" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Keith CY</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.linkedin.com/in/宇-陈-644b61ba" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Yu Chen</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.linkedin.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Soup/">
            <span class="level-start">
                <span class="level-item">Soup</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Uncategorized/">
            <span class="level-start">
                <span class="level-item">Uncategorized</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/github/">
            <span class="level-start">
                <span class="level-item">github</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/github/note/">
            <span class="level-start">
                <span class="level-item">note</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/note/">
            <span class="level-start">
                <span class="level-item">note</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">141</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/note/workNote/">
            <span class="level-start">
                <span class="level-item">workNote</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">19</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/workNote/">
            <span class="level-start">
                <span class="level-item">workNote</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AJAX/" style="font-size: 10.91px;">AJAX</a> <a href="/tags/BOOTSTRAP/" style="font-size: 10px;">BOOTSTRAP</a> <a href="/tags/Bash/" style="font-size: 11.82px;">Bash</a> <a href="/tags/BlockChain/" style="font-size: 10px;">BlockChain</a> <a href="/tags/Blockchain/" style="font-size: 10px;">Blockchain</a> <a href="/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/tags/CSS/" style="font-size: 10.91px;">CSS</a> <a href="/tags/CSS3/" style="font-size: 20px;">CSS3</a> <a href="/tags/Closure/" style="font-size: 10px;">Closure</a> <a href="/tags/CommonJS/" style="font-size: 10px;">CommonJS</a> <a href="/tags/Contract-Ethereum-Web3/" style="font-size: 10px;">Contract, Ethereum, Web3</a> <a href="/tags/Contract-Solidity/" style="font-size: 10px;">Contract, Solidity</a> <a href="/tags/D3-Example/" style="font-size: 10px;">D3, Example</a> <a href="/tags/DAPP-Solidity/" style="font-size: 10px;">DAPP, Solidity</a> <a href="/tags/DApp-Solidity/" style="font-size: 10px;">DApp, Solidity</a> <a href="/tags/DOM/" style="font-size: 12.73px;">DOM</a> <a href="/tags/DevTools/" style="font-size: 10px;">DevTools</a> <a href="/tags/Drizzle-Ethereum-BlockChain/" style="font-size: 10px;">Drizzle, Ethereum, BlockChain</a> <a href="/tags/ES6/" style="font-size: 10.91px;">ES6</a> <a href="/tags/ESLint/" style="font-size: 10px;">ESLint</a> <a href="/tags/ETH-Wallet/" style="font-size: 10px;">ETH, Wallet</a> <a href="/tags/Elixir-Phoenix-SCSS/" style="font-size: 10px;">Elixir, Phoenix, SCSS</a> <a href="/tags/Erlang-Elixir-GenServer/" style="font-size: 10px;">Erlang, Elixir, GenServer</a> <a href="/tags/Ethereum/" style="font-size: 10px;">Ethereum</a> <a href="/tags/Ethereum-IPFS/" style="font-size: 10px;">Ethereum, IPFS</a> <a href="/tags/FP/" style="font-size: 10px;">FP</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Go-Http-Web/" style="font-size: 10px;">Go, Http, Web</a> <a href="/tags/GraphQL-Apollo-TypeScript/" style="font-size: 10px;">GraphQL, Apollo, TypeScript</a> <a href="/tags/Gulp/" style="font-size: 11.82px;">Gulp</a> <a href="/tags/HTML5/" style="font-size: 15.45px;">HTML5</a> <a href="/tags/HTTP2-Node/" style="font-size: 10px;">HTTP2, Node</a> <a href="/tags/Html-Picture/" style="font-size: 10px;">Html, Picture</a> <a href="/tags/Immutable/" style="font-size: 10px;">Immutable</a> <a href="/tags/Int8Array/" style="font-size: 10px;">Int8Array</a> <a href="/tags/JSON-RPC/" style="font-size: 10px;">JSON-RPC</a> <a href="/tags/Javascript/" style="font-size: 19.09px;">Javascript</a> <a href="/tags/Koa/" style="font-size: 10.91px;">Koa</a> <a href="/tags/Koa-NPM-Package/" style="font-size: 10px;">Koa, NPM, Package</a> <a href="/tags/MDL/" style="font-size: 16.36px;">MDL</a> <a href="/tags/Material-Design/" style="font-size: 17.27px;">Material Design</a> <a href="/tags/Mock-JavaScript/" style="font-size: 10px;">Mock, JavaScript</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NODE/" style="font-size: 13.64px;">NODE</a> <a href="/tags/NPM/" style="font-size: 10.91px;">NPM</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Nock/" style="font-size: 10px;">Nock</a> <a href="/tags/Node-CLI/" style="font-size: 10.91px;">Node, CLI</a> <a href="/tags/Node-Fastify/" style="font-size: 10.91px;">Node, Fastify</a> <a href="/tags/Node-Graphql-Koa/" style="font-size: 10px;">Node, Graphql, Koa</a> <a href="/tags/Node-js/" style="font-size: 10.91px;">Node.js</a> <a href="/tags/Phoenix-Elixir-Ecto/" style="font-size: 10px;">Phoenix, Elixir, Ecto</a> <a href="/tags/Promise/" style="font-size: 11.82px;">Promise</a> <a href="/tags/Protobuf/" style="font-size: 10px;">Protobuf</a> <a href="/tags/Pug-HTML/" style="font-size: 10px;">Pug, HTML</a> <a href="/tags/React/" style="font-size: 18.18px;">React</a> <a href="/tags/React-Docker/" style="font-size: 10px;">React, Docker</a> <a href="/tags/React-Router-Code-splitting/" style="font-size: 10px;">React, Router, Code-splitting</a> <a href="/tags/React-Native/" style="font-size: 10px;">React-Native</a> <a href="/tags/React-Redux/" style="font-size: 10px;">React-Redux</a> <a href="/tags/React-Router/" style="font-size: 10.91px;">React-Router</a> <a href="/tags/Redux/" style="font-size: 14.55px;">Redux</a> <a href="/tags/RegExp/" style="font-size: 10px;">RegExp</a> <a href="/tags/Ruby-Rails/" style="font-size: 10px;">Ruby, Rails</a> <a href="/tags/Ruby-Rails-RoR-Mina/" style="font-size: 10px;">Ruby, Rails, RoR, Mina</a> <a href="/tags/Rust-Rocket/" style="font-size: 10px;">Rust, Rocket</a> <a href="/tags/RxJS/" style="font-size: 10px;">RxJS</a> <a href="/tags/Smart-Contract-Web3/" style="font-size: 10px;">Smart Contract, Web3</a> <a href="/tags/Solidity/" style="font-size: 12.73px;">Solidity</a> <a href="/tags/Solidity-Error-Handling/" style="font-size: 10px;">Solidity, Error Handling</a> <a href="/tags/Solidity-Public-External/" style="font-size: 10px;">Solidity, Public, External</a> <a href="/tags/Solidity-Smart-Contract/" style="font-size: 10px;">Solidity, Smart Contract</a> <a href="/tags/Thunk/" style="font-size: 10.91px;">Thunk</a> <a href="/tags/Trick/" style="font-size: 11.82px;">Trick</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/Webpack/" style="font-size: 10px;">Webpack</a> <a href="/tags/Webpack-DLL/" style="font-size: 10px;">Webpack, DLL</a> <a href="/tags/automatic/" style="font-size: 10px;">automatic</a> <a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/babel-polyfill/" style="font-size: 10px;">babel-polyfill</a> <a href="/tags/commandline/" style="font-size: 10px;">commandline</a> <a href="/tags/github/" style="font-size: 10.91px;">github</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/precache/" style="font-size: 10px;">precache</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/webpack/" style="font-size: 17.27px;">webpack</a> <a href="/tags/webpack2/" style="font-size: 11.82px;">webpack2</a> <a href="/tags/测试/" style="font-size: 11.82px;">测试</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/03/05/note-on-bip32/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Note on Bip32">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-05T05:54:32.000Z">2019-03-05</time></div>
                    <a href="/2019/03/05/note-on-bip32/" class="has-link-black-ter is-size-6">Note on Bip32</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/20/React-Hooks/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="React Hooks">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-20T09:41:39.000Z">2018-11-20</time></div>
                    <a href="/2018/11/20/React-Hooks/" class="has-link-black-ter is-size-6">React Hooks</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/11/5-tips-in-CRA-2-0/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="5 Tips in CRA@2.0">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-11T15:52:25.000Z">2018-11-11</time></div>
                    <a href="/2018/11/11/5-tips-in-CRA-2-0/" class="has-link-black-ter is-size-6">5 Tips in CRA@2.0</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/08/Assembly-in-Solidity/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Assembly in Solidity">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-08T03:30:30.000Z">2018-11-08</time></div>
                    <a href="/2018/11/08/Assembly-in-Solidity/" class="has-link-black-ter is-size-6">Assembly in Solidity</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/09/10/Analysis-of-Ujo/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Analysis of Ujo">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-09-10T05:26:39.000Z">2018-09-10</time></div>
                    <a href="/2018/09/10/Analysis-of-Ujo/" class="has-link-black-ter is-size-6">Analysis of Ujo</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">March 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">February 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">January 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">December 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">November 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">12</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">October 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">August 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">31</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">July 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">19</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">June 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">May 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">15</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">April 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">March 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">January 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">December 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">November 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">October 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">September 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">16</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">30</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">July 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">43</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">June 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">25</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">May 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">24</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2019/03/05/note-on-bip32/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Note on Bip32">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-03-05T05:54:32.000Z">2019-03-05</time></div>
                    <a href="/2019/03/05/note-on-bip32/" class="has-link-black-ter is-size-6">Note on Bip32</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/20/React-Hooks/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="React Hooks">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-20T09:41:39.000Z">2018-11-20</time></div>
                    <a href="/2018/11/20/React-Hooks/" class="has-link-black-ter is-size-6">React Hooks</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/11/5-tips-in-CRA-2-0/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="5 Tips in CRA@2.0">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-11T15:52:25.000Z">2018-11-11</time></div>
                    <a href="/2018/11/11/5-tips-in-CRA-2-0/" class="has-link-black-ter is-size-6">5 Tips in CRA@2.0</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/11/08/Assembly-in-Solidity/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Assembly in Solidity">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-11-08T03:30:30.000Z">2018-11-08</time></div>
                    <a href="/2018/11/08/Assembly-in-Solidity/" class="has-link-black-ter is-size-6">Assembly in Solidity</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/09/10/Analysis-of-Ujo/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Analysis of Ujo">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-09-10T05:26:39.000Z">2018-09-10</time></div>
                    <a href="/2018/09/10/Analysis-of-Ujo/" class="has-link-black-ter is-size-6">Analysis of Ujo</a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">March 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">February 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">January 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">December 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">November 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">12</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">October 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">September 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">August 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">31</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">July 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">19</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">June 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">May 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">15</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">April 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">March 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">February 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">January 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">December 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">November 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">October 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">September 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">16</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">August 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">30</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">July 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">43</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">June 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">25</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">May 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">24</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.png" alt="EzCook" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 Chen Yu&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                Visited by <span id="busuanzi_value_site_uv">0</span> users
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>