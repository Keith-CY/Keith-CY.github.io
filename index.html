<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Front-End, JavaScript, Html, Css, React, Vue, Rxjs" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="EzCook">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="EzCook">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="EzCook">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> EzCook </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">EzCook</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code Elegantly</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/17/simple-usage-of-scp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/17/simple-usage-of-scp/" itemprop="url">
                  simple usage of scp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-17T19:51:26+08:00">
                2017-05-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.tecmint.com/scp-commands-examples/" target="_blank" rel="external">origin</a></p>
<h1 id="Basic-Syntax-of-SCP"><a href="#Basic-Syntax-of-SCP" class="headerlink" title="Basic Syntax of SCP"></a>Basic Syntax of SCP</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp source_file_name username@destination_host:destination_folder</div></pre></td></tr></table></figure>
<h1 id="Provider-the-detail-information-of-SCP-process-using-v-parameter"><a href="#Provider-the-detail-information-of-SCP-process-using-v-parameter" class="headerlink" title="Provider the detail information of SCP process using -v parameter"></a>Provider the detail information of SCP process using <code>-v</code> parameter</h1><p>Baisc SCP command without parameter will copy the files in background. User will see nothing unless the process is done or something error appears.</p>
<p>You can use <code>-v</code> parameter to print debug information into screen.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># verbose</span></div><div class="line">scp -v source_file_name username@destination_host:destination_folder</div></pre></td></tr></table></figure>
<h1 id="Provider-modification-times-access-times-and-modes-from-original-files"><a href="#Provider-modification-times-access-times-and-modes-from-original-files" class="headerlink" title="Provider modification times, access times, and modes from original files"></a>Provider modification times, access times, and modes from original files</h1><p>The <code>-p</code> (lowercase) parameter will help you on this. An estimated time and the connection speed will apear on the screen.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># process</span></div><div class="line">scp -p source_file_name username@destination_host:destination_folder</div></pre></td></tr></table></figure>
<h1 id="Make-file-transfer-faster-using-C-parameter"><a href="#Make-file-transfer-faster-using-C-parameter" class="headerlink" title="Make file transfer faster using -C parameter"></a>Make file transfer faster using <code>-C</code> parameter</h1><p>One of parameter that can faster your file transfer is <code>-C</code> parameter. The <code>-C</code> parameter will compress your file on the go. The unique thing is the compression is only happen in the network. When the file is arrived to the destination server, it will returning into the original size as before the compression happen.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Compression</span></div><div class="line">scp -Cpv source_file_name username@destination_host:destination_folder</div></pre></td></tr></table></figure>
<h1 id="Specify-specific-port-to-use-with-SCP"><a href="#Specify-specific-port-to-use-with-SCP" class="headerlink" title="Specify specific port to use with SCP"></a>Specify specific port to use with SCP</h1><p>Usually SCP is using port 22 as a default port. But for security reason, you may change the port into another port.</p>
<p>Use <code>-P</code> (uppercase) to specify the port.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp -P 2212 source_file_name username@destination_host:destination_folder</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/08/Rxjs-API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/08/Rxjs-API/" itemprop="url">
                  Rxjs API
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-08T12:49:30+08:00">
                2017-05-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h1><p>You can create an Observable from scratch by using the <code>Create</code> operator. You pass this operator a function that accepts the observer as its parameter. Write this function so that it behaves as an Observable – by calling the observer’s <code>onNext</code>, <code>onError</code>, and <code>onCompleted</code> methods appropraitely.</p>
<p>A well-formed finite Observable must attempt to call either the observer’s <code>onCompleted</code> method exactly once or its <code>onError</code> method exactly once, and must not thereafter attempt to call any of the observer’s other methods.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.create(<span class="function"><span class="keyword">function</span>(<span class="params">observer</span>) </span>&#123;</div><div class="line">  observer.onNext(<span class="number">32</span>)</div><div class="line">  observer.onCompleted()</div><div class="line">  <span class="comment">// this is optional.</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'disposed'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> subscription = source.subscribe(</div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Next: '</span> + x)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Completed'</span>)</div><div class="line">  &#125;</div><div class="line">)</div></pre></td></tr></table></figure>
<h1 id="Defer"><a href="#Defer" class="headerlink" title="Defer"></a>Defer</h1><p>Do not create the Observable until the observer subscribes, and create a fresh Observable for each observer.</p>
<p>The <code>Defer</code> operator waits until an observer subscribes to it, and then it generates an Observable, typically with an Observable factory function. It does this afresh for each subsciber, so although each subscriber may think it is subscribing to the same Observable, in fact each subscriber gets its own individual sequence.</p>
<p>In some circumstances, waiting until the last minute to generate the Observable can ensure that this Observable contains the freshest data.]</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.defer(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> Rx.Observable.return(<span class="number">42</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> subscription = source.subscribe(</div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Next: '</span> + x)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Completed'</span>)</div><div class="line">  &#125;</div><div class="line">)</div></pre></td></tr></table></figure>
<h1 id="Empty-Never-Throw"><a href="#Empty-Never-Throw" class="headerlink" title="Empty/Never/Throw"></a>Empty/Never/Throw</h1><p><code>Empty</code> create an Observable that emits no items but terminates normally</p>
<p><code>Never</code> create an Observable that emits no items and does not terminates</p>
<p><code>Throw</code> create an Observable that emits no items and terminates with an error</p>
<p>The <code>Empty</code>, <code>Never</code>, <code>Throw</code> operators generate Observables with very specific and limited behavior. These are useful for testing purposes, and sometimes also for combining with other Observables or as parameters to operators that expect other Observables as parameters.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.empty()</div><div class="line"></div><div class="line"><span class="keyword">var</span> source = Rx.Observable.never()</div><div class="line"></div><div class="line"><span class="keyword">var</span> source = Rx.Observable.return(<span class="number">52</span>).selectMany(Rx.Observable.throw(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'error'</span>)))</div></pre></td></tr></table></figure>
<h1 id="From"><a href="#From" class="headerlink" title="From"></a>From</h1><p>Convert various other objects and data types into Observables.</p>
<p>When you work with Observables, it can be more convenient if all of the data you mean to work with can be represented as Observables, rather than as a mixture of Observables and other types. This allows you to use a single set of operators to govern the entire lifespan of the data stream.</p>
<p>Iterables, for example, can be thought of as a sort of synchronous Observable; Futures, as a sort of Observable that always emits only a single item. By explicitly converting such objects to Observables, you allow them to interact as peers with other Observale.</p>
<p>In RxJS, the <code>from</code> operator converts an <em>array-like</em> or <em>iterable</em> object into an Observable that emits the items in that array or iterable. A String, in this context, is treated as an array of characters.</p>
<p>The operator also takes three additional, optional parameters:</p>
<ul>
<li><p>a transforming function that takes an item from the array or iterable as input and produces an item to be emmited by the resulting Observable as output</p>
</li>
<li><p>a second argument to pass into</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/02/detail-of-node-cluster/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/05/02/detail-of-node-cluster/" itemprop="url">
                  detail of node cluster
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-02T09:33:21+08:00">
                2017-05-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cluster"><a href="#Cluster" class="headerlink" title="Cluster"></a>Cluster</h1><p>A single instance of Node.js runs in a single tread. To take advantage of multi-core systems the user will sometimes want to launch a cluster of Node.js processes to handle the load.</p>
<p>The cluster module allows you to easily create child processes that all share <strong>server port</strong>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> cluster = <span class="built_in">require</span>(<span class="string">'cluster'</span>)</div><div class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</div><div class="line"><span class="keyword">const</span> numCPUs = <span class="built_in">require</span>(<span class="string">'os'</span>).cpus().length</div><div class="line"></div><div class="line"><span class="keyword">if</span> (cluster.isMaster) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Master <span class="subst">$&#123;process.pid&#125;</span> is running`</span>)</div><div class="line"></div><div class="line">  <span class="comment">// Fork workers</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numCPUs; i++) &#123;</div><div class="line">    cluster.fork()</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  cluster.on(<span class="string">'exit'</span>, (worker, code, signal) =&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`worker <span class="subst">$&#123;worker.process.pid&#125;</span> died`</span>)</div><div class="line">  &#125;)</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">  <span class="comment">// Workers can share any TCP connection</span></div><div class="line">  <span class="comment">// In this case it is an HTTP Server</span></div><div class="line"></div><div class="line">  http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</div><div class="line">    res.writeHead(<span class="number">200</span>)</div><div class="line">    res.end(<span class="string">'hello world\n'</span>)</div><div class="line">  &#125;).listen(<span class="number">8000</span>)</div><div class="line"></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Worker <span class="subst">$&#123;process.pid&#125;</span> started`</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Running Node.js will now share port 8000 between the workers.</p>
<h1 id="How-it-works"><a href="#How-it-works" class="headerlink" title="How it works"></a>How it works</h1><p>The workder processes are spawned using the <code>child_process.fort()</code> method, so that they can communicate with the parent via IPC and pass server handles back and forth.</p>
<p>The cluster module supports two methods of distributing incoming connections.</p>
<p>The first one (and the default one on all platform except Windows), is the <strong>round-robin</strong> approch, where the master process listens on a port, accepts new connections and distributes them across the workers in a round-robin fashion, with some built-in smarts to avoid overloading a worker process.</p>
<p>The second approach is where the master process <strong>creates the listen socket and sends it to interested workers</strong>. The workers then accept incoming connection directly.</p>
<p>The second approach should, in theory, give the best performance. In practice however, distribution tends to be <strong>very unbalanced due to operating system scheduler vagaries</strong>. Loads have been observed where over 70% of all connections ended up in just two process, out of a total of eight.</p>
<p>Because <code>server.listen()</code> hands off most of the worker to the master process, there are three case where the behavior between a normal Node.js process and a cluster worker differs:</p>
<blockquote>
<p><code>server.listen({fd: 7})</code> Because the message is passed to the master, file descriptor 7 <strong>in the parent</strong> will be listened on, and the handle passed to the worker, rather than listening to the worker’s idea of what the number 7 file descriptor reference. (the fd will be used up sooner)</p>
<p><code>server.listen(handle)</code> Listening on handles explicitly wil cause the worker to use the supplied handle, rather than talk to the master process. If the worker already has the handle, then it’s presumed that you know what you are doing.</p>
<p><code>server.listen(0)</code> Normally, this will cause servers to listen on a random port. However, in a cluster, each worker will receive the same ‘random’ port each time they do <code>listen(0)</code>. In essence, the port is random the first time, but predicatable thereafter. If you want to listen on a unique port, generate a port number based on the cluster worker ID.</p>
</blockquote>
<p>There is no routing logic in Node.js, or in your program, and no shared state between the workers. Therefore, it is important to design your program such that it does not rely on heavily on in-memory data object for things like sessions and login.</p>
<p>Because workers are all separate processes, they can be killed or re-spawned depending on your program’s needs, without affecting other workers. As long as there are some workers still alive, the server will continue to accept connections. If no workers are alive, existing connections will be dropped and new connections will be refused. Node.js does not automatically manage the number of worker for you, however. It is yoru responsibility to manage the worker pool for your application’s needs.</p>
<h1 id="Class-worker"><a href="#Class-worker" class="headerlink" title="Class: worker"></a>Class: worker</h1><p>A Worder Object contains all public information and method about a worker. In the master it can be obtained using <code>cluster.workers</code>. In a worker it can be obtained using <code>cluster.worker</code></p>
<h2 id="Event-‘disconnect’"><a href="#Event-‘disconnect’" class="headerlink" title="Event: ‘disconnect’"></a>Event: ‘disconnect’</h2><p>Similar to the <code>cluster.on(&#39;disconnect&#39;)</code> event, but specific to this worker.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cluster.fork().on(<span class="string">'disconnect'</span>, () =&gt; &#123;</div><div class="line">  <span class="comment">// Worker has disconnected</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Event-‘error’"><a href="#Event-‘error’" class="headerlink" title="Event: ‘error’"></a>Event: ‘error’</h2><p>This event is the same as the one provided by <code>child_process.fork()</code></p>
<p>In a worker you can alse use <code>process.on(&#39;error&#39;)</code></p>
<h2 id="Event-‘exit’"><a href="#Event-‘exit’" class="headerlink" title="Event: ‘exit’"></a>Event: ‘exit’</h2><blockquote>
<p><code>code</code></p>
<number> the exit code, if it exited Normally</number>

<p><code>signal</code></p>
<string> the name of the signal(e.g. <strong>SIGHUP</strong>) that caused the process to be killed.</string>

</blockquote>
<p>Similar to the <code>cluster.on(&#39;exit&#39;)</code> event, but specific to this worker</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> worker = cluster.fork()</div><div class="line">worker.on(<span class="string">'exit'</span>, (code, signal) =&gt; &#123;</div><div class="line">  <span class="keyword">if</span> (signal) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`worker was killed by signal: <span class="subst">$&#123;signal&#125;</span>`</span>)</div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (code !== <span class="number">0</span>) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`worker exited with error code: <span class="subst">$&#123;code&#125;</span>`</span>)</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'worker success'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="Event-‘listening’"><a href="#Event-‘listening’" class="headerlink" title="Event: ‘listening’"></a>Event: ‘listening’</h2><blockquote>
<p><code>address</code></p>
<object><br>  <p><br></p><br>  <p>Similar to the <code>cluster.on(‘listening’)</code> event, but specific to this worker.</p><br>  <pre><br><br>  <code class="lang-javascript">cluster.fork().on(‘listening’, (address) =&gt; {<br>  // Worker is listening<br>})<br></code><br></pre><br>  <p>It is not emitted in the worker</p><br>  <h4 id="event-message-">Event: ‘message’</h4><br>  <blockquote><br>  <p><code>message</code> <object><br>  <p><br></p><br>  <p><code>handle</code> <undefined> | <object><br>  <p></p><br>  <p>Similar to the <code>cluster.on(‘message’)</code> event, but specific to this worker. In a worker you can also use <code>process.on(‘message’)</code></p><br>  <p>As an example, here is a cluster that keeps count of the number of requests in the master process using the message system:</p><br>  <pre><code class="lang-javascript">const cluster = require(‘cluster’)<br>const http = require(‘http’)<br><br>if (cluster.isMaster) {<br><br>  let numReqs = 0<br><br>  setInterval(() =&gt; {<br>    console.log(<code>numReqs = ${numReqs}</code>)<br>  }, 1000)<br><br>  // Count requests<br>  function messageHandler(msg) {<br>    if (msg.cmd &amp;&amp; msg.cmd === ‘notifyRequest’) {<br>      numReqs++<br>    }<br>  }<br><br>  // Start workers and listen for messages containing notifyRequest<br><br>  const numCPUs = require(‘os’).cpus().length<br><br>  for (let i = 0; i &lt; numCPUs; i++) {<br>    cluster.fork()<br>  }<br><br>  for (const id in cluster.workers) {<br>    cluster.workers[id].on(‘message’, messageHandler)<br>  }<br><br>} else {<br>  // Worker processes have a http server<br>  http.Server((req, res) =&gt; {<br>    res.writeHead(200)<br>    res.end(‘hello world’)<br>    process.send({ cmd: ‘notifyRequest’ })<br>  }).listen(8000)<br>}<br></code></pre><br>  <h4 id="event-online-">Event: ‘online’</h4><br>  <p>Similar to the <code>cluster.on(‘online’)</code> event, but specific to this worker</p><br>  <pre><code class="lang-javascript">cluster.fork().on(‘online’, () =&gt; {<br>  // Worker is online<br>})<br></code></pre><br>  <p>It is not emitted in the worker</p><br>  <h4 id="worker-disconnect-">worker.disconnect()</h4><br>  <blockquote><p>Return: <worker> A reference to <code>worker</code></worker></p></blockquote><br>  <p>In a worker, this function will close all server, wait for the <code>close</code> event on those servers, and disconnect the IPC channel.</p><br>  <p>In the master, an internal message is sent to the worker causing it to call <code>.disconnect()</code> on itself</p><br>  <p>Cause <code>.exitedAfterDisconnect</code> to be set.</p><br>  <p>Note that after a server is closed, it will no longer accept new connections, but connections may be accepted by any other listening worker. Existing connections will be allowed to close as usual. When no more connections exist, see <code>server.close()</code>, the IPC channel to the worker will close allowing it to die gracefully.</p><br>  <p>Note that in a worker, <code>process.disconnect</code> exists, but it is not this function.</p><br>  <p>Because long living server connections may block workers from disconnecting, it may be useful to send a message, so application specific actions may be taken to close them. It also may be useful to implement a timeout, killing a worker if the <code>disconnect</code> event has not been emiited after some time.</p><br>  <pre><code class="lang-javascript">if (cluster.isMaster) {<br>  const worker = cluster.fork()<br>  let timeout<br><br>  worker.on(‘listening’, (address) =&gt; {<br>    worker.send(‘shutdown’)<br>    worker.disconnect()<br>    timeout = setTimeout(() =&gt; {<br>      worker.kill()<br>    }, 2000);<br>  })<br><br>  worker.on(‘disconnect’, () =&gt; {<br>    clearTimeout(timeout)<br>  })<br>} else if (cluster.isWorker){<br>  const net = require(‘net’)<br>  const server = net.createServer((socket) =&gt; {<br>    // connections never end<br>  })<br>  server.listen(8000)<br><br>  process.on(‘messaage’, (msg) =&gt; {<br>    if (msg === ‘shutdown’) {<br>      // initiate graceful close of any connections to server<br>    }<br>  })<br>}<br></code></pre><br>  <h4 id="worker-exitedafterdisconnect">worker.exitedAfterDisconnect</h4><br>  <blockquote><boolean><br></boolean></blockquote><br>  <p>Set by calling <code>.kill()</code> or <code>.disconnect()</code>. Until then, it is <code>undefined</code></p><br>  <p>The boolean <code>worker.exitedAfterDisconnect</code> lets you distinguish between voluntary and accidental exit, the master may choose not to respawn a worker based on this value.</p><br>  <pre><code class="lang-javascript">cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  if (worker.exitedAfterDisconnect === true) {<br>    console.log(‘Oh, it was just voluntary - no need to worry’)<br>  }<br>})<br><br>// kill worker<br>worker.kill()<br></code></pre><br>  <h4 id="worker-id">worker.id</h4><br>  <blockquote><number><br></number></blockquote><br>  <p>Each new worker is given its own unique id, this id is stored in the <code>id</code></p><br>  <p>While a worker is alive, this is the key that indixes it in cluster.workers.</p><br>  <h4 id="worker-isconnected-">worker.isConnected()</h4><br>  <p>This function returns <code>true</code> if the worker is connected to its master via its IPC channel. <code>false</code> otherwise. A worker is connected to its master after it’s been created. It is disconnected after the <code>disconnect</code> event is emitted.</p><br>  <h4 id="worker-isdead-">worker.isDead()</h4><br>  <p>This function returns <code>true</code> if the worker’s process has terminated (either because of exiting or being signaled). Otherwise, it returns <code>false</code></p><br>  <h4 id="worker-kill-signal-sigterm-">worker.kill([signal=’SIGTERM’])</h4><br>  <blockquote><p><code>signal</code> <string> Name of the kill signal to send to the worker process.</string></p></blockquote><br>  <p>This function will kill the worker. In the master it does this by disconnecting the <code>worker.process</code> and once disconnected, killing with <code>signal</code>. In the worker, it does it by disconnecting the channel and exiting with code <code>0</code></p><br>  <p>Causes <code>.exitedAfterDisconnect</code> ot be set</p><br>  <p>This method is aliased as <code>worker.destroy()</code> for backwords compatibility.</p><br>  <p>Note that ina worker, <code>process.kill()</code> exists, but it is not the function.</p><br>  <h4 id="worker-process">worker.process</h4><br>  <blockquote><childprocess><br></childprocess></blockquote><br>  <p>All Workers are created using <code>child_process.fork()</code>, the returned object from this function is stored as <code>.process</code>. In a worker, the global <code>process</code> is stored</p><br>  <p>Note that the workers will call <code>process.exit(0)</code> if the <code>disconnect</code> event occurs on <code>process</code> and <code>.exitedAfterDisconnect</code> is not <code>true</code>. This protects against accidental disconnection.</p><br>  <h4 id="worker-send-message-sendhandle-callback-">worker.send(message[, sendHandle, [callback]])</h4><br>  <blockquote><p><code>message</code> <object><br>  <p><br></p><br>  <p><code>sendHandle</code> <handle><br></handle></p><br>  <p><code>callback</code> <function><br></function></p><br>  <p>Send a message to a worker or master, optinally with a handle.</p><br>  <p>In the master this sends a message to a specific worker. It is identical to <code>ChildProcess.send()</code></p><br>  <p>In a worker this sends a message to the master. It is identical to <code>process.send()</code></p><br>  <p>This example will echo back all messages from the master</p><br>  <pre><br><br>  <code class="lang-javascript">if (cluster.isMaster) {<br>  const worker = cluster.fork()<br>  worker.send(‘hi there’)<br>} else if (cluster.isWorker) {<br>  process.on(‘message’, (msg) =&gt; {<br>    process.send(msg)<br>  })<br>}<br></code><br></pre><br>  <h4 id="event-disconnect-">Event: ‘disconnect’</h4><br>  <blockquote><br>  <p><code>worker</code> <cluster.worker><br></cluster.worker></p><br></blockquote><br>  <p>Emitted after the worker IPC channel has disconnected. This can occur when a worker exits gracefully, is killed, or is disconnected manually(such as with worker.disconnected())</p><br>  <p>There may be a delay between the <code>disconnect</code> and <code>exit</code> events. These events can be used to detect if the process is stuck in a cleanup or if there are long-living connections.</p><br>  <pre><br><br>  <code class="lang-javascript">cluster.on(‘disconnect’, (worker) =&gt; {<br>  console.log(<code>The worker #${worker.id} has disconnected</code>)<br>})<br></code><br></pre><br>  <h4 id="event-exit-">Event: ‘exit’</h4><br>  <blockquote><br>  <p><code>worker</code> <cluster.worker><br></cluster.worker></p><br>  <p><code>code</code> <number> the exit code, if it exited normally</number></p><br>  <p><code>signal</code> <string> the name of the signal (e.g. ‘SIGHUP’) that caused the process to be killed.</string></p><br></blockquote><br>  <p>When any of the workers die the cluster module will emit the ‘exit’ events</p><br>  <p>This can be used to restart the worker by calling <code>.fork()</code> again.</p><br>  <pre><br><br>  <code class="lang-javascript">cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  console.log(‘worker %d died (%s), restarting…’, worker.process.pid, signal || code)<br>  cluster.fork()<br>})<br></code><br></pre><br>  <h4 id="event-fork-">Event: ‘fork’</h4><br>  <blockquote><br>  <p><code>worker</code> <cluster.worker><br></cluster.worker></p><br></blockquote><br>  <p>When a new worker is forked the cluster module will emit a <code>fork</code> event. This can be used to log worker activity, and create your own timeout.</p><br>  <pre><br><br>  <code class="lang-javascript">const timeouts = []<br>function errorMsg () {<br>  console.error(‘Something must be wrong with the connection…’)<br>}<br><br>cluster.on(‘fork’, (worker) =&gt; {<br>  timeouts[worker.id] = setTimeout(errorMsg, 2000)<br>})<br><br>cluster.on(‘listening’, (worker, address) =&gt; {<br>  clearTimeout(timeouts[worker.id])<br>})<br><br>cluster.on(‘exit’, (worker, code, signal) =&gt; {<br>  clearTimeout(timeouts[worker.id])<br>})<br></code><br></pre><br>  <h4 id="event-listening-">Event: ‘listening’</h4><br>  <blockquote><br>  <p><code>worker</code> <cluster.worker><br></cluster.worker></p><br>  <p><code>address</code> <object><br>  <p><br></p><br>  <p>After calling <code>listen()</code> from  a worker. when the <code>listening</code> event it emitted on the server, a <code>listening</code> event will also be emitted on <code>cluster</code> in the master</p><br>  <p>The event handler is executed with two arguments, the <code>worker</code> contains the worker object and the <code>address</code> object contains the following connection properties: <code>address</code>, <code>port</code> and <code>addressType</code>. This is very useful if the worker is listening on more than one address.</p><br>  <pre><br><br>  <code class="lang-javascript">cluster.on(‘listening’, (worker, address) =&gt; {<br>  console.log(<code>A worker is now connected to ${address.address}: ${address.port}</code>)<br>})<br></code><br></pre><br>  <p>The <code>addressType</code> is one of:</p><br>  <ul><br>  <li><code>4</code>: (TCPv4)</li><br>  <li><code>6</code>: (TCPv6)</li><br>  <li><code>-1</code>: (unix domain socket)</li><br>  <li><code>“udp4”</code> or <code>“udp6”</code> (UDP v4 or v6)</li><br></ul><br>  <h4 id="event-message-">Event: ‘message’</h4><br>  <blockquote><br>  <p><code>worker</code> <cluster.worker><br></cluster.worker></p><br>  <p><code>message</code> <object><br>  <p><br></p><br>  <p><code>handle</code> <undefined> | <object><br>  <p></p><br>  <p>Emitted when the cluster master receives a message from any worker.</p><br>  <h4 id="event-online-">Event: ‘online’</h4><br>  <blockquote><p><code>worker</code> <cluster.worker><br></cluster.worker></p></blockquote><br>  <p>After forking a new worker, the worker should respond with an online message. When the master receives an online message it will emit this event. The difference between <code>fork</code> and <code>online</code> is that fork is emitted when the master forks a worker and <code>online</code> is emitted when the worker is running.</p><br>  <h4 id="event-setup-">Event: ‘setup’</h4><br>  <blockquote><p><code>settings</code> <object><br>  <p><br></p><br>  <p>Emitted every time <code>.setupMaster()</code> is called.</p><br>  <p>The <code>settings</code> object is the <code>cluster.settings</code> object at the time <code>.setupMaster()</code> was called and is advisory only. since multiple calls to <code>.setupMaster()</code> can be made in a single tick.</p><br>  <p>If accuracy is important, use <code>cluster.settings</code></p><br>  <h4 id="cluster-disconnect-callback-">cluster.disconnect([callback])</h4><br>  <p><code>callback</code> called when <strong>all</strong> workers are disconnected and handles are closed Calls <code>.disconnect()</code> on each worker in <code>cluster.workers</code></p><br>  <p>When they are disconnected all internal handles will be closed, allowing the master process to die gracefully if no other event is waiting.</p><br>  <p>The method takes an optional callback argument which will be called when finished.</p><br>  <p>This can only be called from the master process.</p><br>  <h4 id="cluster-fork-env-">cluster.fork([env])</h4><br>  <blockquote><br>  <p><code>env</code> <object> Key/Value pairs to add to worker process environment<p><br></p><p>return <cluster.worker><br></cluster.worker></p><p>Spawn a new worker process.</p><p>This can only be called from the master process.</p><h4 id="cluster-ismaster">cluster.isMaster</h4><blockquote><br>  <boolean><br></boolean><br></blockquote><p>True if the process is a master. This is determined by the <code>process.env.NODE_UNIQUE_ID</code>. If <code>process.env.NODE_UNIQUE_ID</code> is undefined, then <code>.isMaster</code> is <code>true</code></p><h4 id="cluster-isworker">cluster.isWorker</h4><blockquote><br>  <boolean><br></boolean><br></blockquote><p>True if the process is not a master (it is the negation of <code>cluster.isMaster</code>)</p><h4 id="cluster-schedulingpolicy">cluster.schedulingPolicy</h4><p>The scheduling policy, either <code>cluster.SCHED_RR</code> for round-robin or <code>cluster.SCHED_NONE</code> to leave it to the operating system. This is a global setting and effectively frozen once you spawn the first worker or call cluster <code>cluster.setupMaster()</code>, whatever comes first.</p><p><code>SCHED_RR</code> is the default on all operating systems except Windows. Windows will change to <code>SCHED_RR</code> once libuv is able to effectively distribute IOCP handles without incurring a large performance hit.</p><p><code>cluster.schedulingPolicy</code> can also be set through the <code>NODE_CLUSTER_SCHED_POLICY</code> environment variable. Valid values are <code>‘rr’</code> and <code>‘none’</code></p><h4 id="cluster-settings">cluster.settings</h4><blockquote><br>  <p><object><br>  <p><br></p><br>  <ul><br>  <li><code>execArgv</code></li><br>  <li><code>exec</code></li><br>  <li><code>args</code></li><br>  <li><code>silent</code></li><br>  <li><code>stdio</code></li><br>  <li><code>uid</code></li><br>  <li><code>gid</code></li><br></ul><br>  <h4 id="cluster-setupmaster-settings-">cluster.setupMaster([settings])</h4><br>  <blockquote><br>  <p><code>settings</code></p><br>  <ul><li><code>exec</code></li><li><code>args</code></li><li><code>silent</code></li><li><code>stdio</code></li></ul><br></blockquote><br>  <pre><br><br>  <code class="lang-javascript">const cluster = require(‘cluster’)<br>cluster.setupMaster({<br>  exec: ‘worker.js’,<br>  args: [‘–use’, ‘https’],<br>  silent: true,<br>})<br><br>cluster.fork() // https worker<br></code><br></pre><br>  <h4 id="cluster-worker">cluster.worker</h4><br>  <blockquote><br>  <object><br>  <p>A reference to the current worker object. Not available in the master process.</p><br>  <pre><br><br>  <code class="lang-javascript">const cluster = require(‘cluster’)<br><br>if (cluster.isMaster) {<br>  console.log(‘I am master’)<br>  cluster.fork()<br>  cluster.fork()<br>} else if (cluster.isWorker) {<br>  console.log(<code>I am worker #${cluster.worker.id}</code>)<br>}<br></code><br></pre><br>  <h4 id="cluster-workers">cluster.workers</h4><br>  <blockquote><br>  <object><br>  <p>A hash that stores the active worker objects, keyed by <code>id</code> field. Makes it easy to loop through all the workers. It is only available in the master process.</p><br>  <p>A worker is removed from <code>cluster.workers</code> after the worker has disconnected <strong>and</strong> exit. <strong>The order between two events cannot be determined in advance</strong>. However it is guaranteed that the removal from the cluster.workers list happens before last <code>disconnect</code> or <code>exit</code> event is emitted.</p><br>  <pre><br><br>  <code class="lang-javascript">// Go through all workers<br>function eachWorker(callback) {<br>  for (const id in cluster.workers) {<br>    callback(cluster.worker[id])<br>  }<br>}<br><br>eachWorker((worker) =&gt; {<br>  worker.send(‘big announcement to all workers’)<br>})<br></code><br></pre><br>  <p>Should you wish to reference a worker over a communication channel, using the worker’s unique id is the easiest way to find the worker.</p><br>  <pre><br><br>  <code class="lang-javascript">socket.on(‘data’, (id) =&gt; {<br>  const worker = cluster.workers[id]<br>})<br></code><br></pre><br></object><br></blockquote><br></object><br></blockquote><br></object></p><br></blockquote></object></p><br></blockquote><br></object></p></blockquote><br></object></undefined></p><br></object></p><br></blockquote><br></object></p><br></blockquote><br></object></p></blockquote><br></object></undefined></p><br></object></p><br></blockquote><br></object>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/29/api-of-axios/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/29/api-of-axios/" itemprop="url">
                  api of axios
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-29T15:23:40+08:00">
                2017-04-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="alias"><a href="#alias" class="headerlink" title="alias"></a>alias</h1><blockquote>
<p>axios.request(config) axios.get(url[, config]) axios.delete(url[, config]) axios.head(url[, config]) axios.options(url[, config]) axios.post(url[, data[, config]]) axios.put(url[, data[, config]]) axios.patch(url[, data[, config]])</p>
</blockquote>
<h1 id="Config-Options"><a href="#Config-Options" class="headerlink" title="Config Options"></a>Config Options</h1><p><code>url</code> is required, and <code>get</code> is the default method</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">url</span>: <span class="string">'string'</span>,</div><div class="line">  <span class="attr">method</span>: <span class="string">'get'</span>,</div><div class="line">  <span class="attr">baseUrl</span>: <span class="string">'https://some-domain.com/api/'</span>, <span class="comment">// prepended to url unless url is absolute,</span></div><div class="line">  transformRequest: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> data</div><div class="line">  &#125;],</div><div class="line">  <span class="attr">transformResponse</span>: [<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> data</div><div class="line">  &#125;],</div><div class="line">  <span class="attr">headers</span>: &#123;</div><div class="line">    <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">params</span>: &#123; <span class="comment">// url params to be sent with the request, plain object or URLSearchParams Object</span></div><div class="line">    ID: <span class="number">12345</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">paramsSerializer</span>: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> Qs.stringify(params, &#123; <span class="attr">arrayFormat</span>: <span class="string">'brackets'</span> &#125;)</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">data</span>: &#123; <span class="comment">// the data sent as request body, only applicable for request method 'PUT', 'POST', 'PATCH'. When no transformRequest is set, must be one of the following types: string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams, FormData(Browser only), File(browser only), Blob(browser only), Stream(Node only), Buffer(Node only)</span></div><div class="line">    firstName: <span class="string">'fred'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">timeout</span>: <span class="number">1000</span>,</div><div class="line">  <span class="attr">withCredentials</span>: <span class="literal">false</span> <span class="comment">// default</span></div><div class="line">  adapter: <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123; <span class="comment">// allows custom handling of requests which makes testing easier.</span></div><div class="line"></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">auth</span>: &#123;</div><div class="line">    <span class="attr">username</span>: <span class="string">'janedoe'</span>,</div><div class="line">    <span class="attr">password</span>: <span class="string">'...'</span>,</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">responseType</span>: <span class="string">'json'</span>, <span class="comment">// default</span></div><div class="line">  xsrfCookieName: <span class="string">'XSRF-TOKEN'</span>, <span class="comment">// defualt</span></div><div class="line">  onUploadProgress: <span class="function"><span class="keyword">function</span> (<span class="params">progressEvent</span>) </span>&#123;</div><div class="line"></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">onDownloadProgress</span>: <span class="function"><span class="keyword">function</span>(<span class="params">progressEvent</span>) </span>&#123;</div><div class="line"></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">maxContentLength</span>: <span class="number">2000</span>,</div><div class="line">  <span class="attr">validateStatus</span>: <span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span> <span class="comment">// default</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">maxRedirects</span>: <span class="number">5</span>, <span class="comment">// default</span></div><div class="line">  httpAgent: <span class="keyword">new</span> http.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</div><div class="line">  <span class="attr">httpsAgent</span>: <span class="keyword">new</span> http.Agent(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</div><div class="line">  <span class="attr">proxy</span>: &#123; <span class="comment">// defines the hostname and port of the proxy server</span></div><div class="line">    host: <span class="string">'127.0.0.1'</span>,</div><div class="line">    <span class="attr">port</span>: <span class="number">9000</span>,</div><div class="line">    <span class="attr">auth</span>: &#123;</div><div class="line">      <span class="attr">username</span>: <span class="string">'...'</span>,</div><div class="line">      <span class="attr">password</span>: <span class="string">'...'</span>,</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">cancelToken</span>: <span class="keyword">new</span> CancelToken(<span class="function"><span class="keyword">function</span> (<span class="params">cancel</span>) </span>&#123;</div><div class="line"></div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="response-Schema"><a href="#response-Schema" class="headerlink" title="response Schema"></a>response Schema</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">data</span>: &#123;&#125;,</div><div class="line">  <span class="attr">status</span>: <span class="number">200</span>,</div><div class="line">  <span class="attr">statusText</span>: <span class="string">'OK'</span>,</div><div class="line">  <span class="attr">headers</span>: &#123;&#125;,</div><div class="line">  <span class="attr">config</span>: &#123;&#125;,</div><div class="line">  <span class="attr">request</span>: &#123;&#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="errors"><a href="#errors" class="headerlink" title="errors"></a>errors</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">axios.get(<span class="string">'/user/123'</span>)</div><div class="line">.catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (err.response) &#123;</div><div class="line">    <span class="comment">// err.response.data</span></div><div class="line">    <span class="comment">// err.response.status</span></div><div class="line">    <span class="comment">// err.response.headers</span></div><div class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.request) &#123;</div><div class="line"></div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="get"><a href="#get" class="headerlink" title="get"></a>get</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</div><div class="line">.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res)</div><div class="line">&#125;)</div><div class="line">.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(err)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">axios.get(<span class="string">'/user'</span>, &#123;</div><div class="line">  <span class="attr">params</span>: &#123;</div><div class="line">    <span class="attr">ID</span>: <span class="number">12345</span>,</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res)</div><div class="line">&#125;)</div><div class="line">.catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(err)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="post"><a href="#post" class="headerlink" title="post"></a>post</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">axios.post(<span class="string">'/user'</span>, &#123;</div><div class="line">  <span class="attr">firstName</span>: <span class="string">'Fred'</span>,</div><div class="line">  <span class="attr">lastName</span>: <span class="string">'Flintstrong'</span>,</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res)</div><div class="line">&#125;)</div><div class="line">.catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(err)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="concurrency"><a href="#concurrency" class="headerlink" title="concurrency"></a>concurrency</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> axios.get(<span class="string">'/user/12345/permissions'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">axios.all([getUserAccount(), getUserPermissions()])</div><div class="line">.then(axios.spread(<span class="function"><span class="keyword">function</span> (<span class="params">acct, perms</span>) </span>&#123;</div><div class="line">  <span class="comment">// Both request are now complete</span></div><div class="line">&#125;))</div></pre></td></tr></table></figure>
<h1 id="config"><a href="#config" class="headerlink" title="config"></a>config</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">axios(&#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'post'</span>,</div><div class="line">  <span class="attr">url</span>: <span class="string">'/user/12345'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">firstName</span>: <span class="string">'Fred'</span>,</div><div class="line">    <span class="attr">lastName</span>: <span class="string">'Flintstone'</span>,</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">axios(&#123;</div><div class="line">  <span class="attr">method</span>: <span class="string">'get'</span>,</div><div class="line">  <span class="attr">url</span>: <span class="string">'http://bit.ly/2mTM3n'</span>,</div><div class="line">  <span class="attr">responseType</span>: <span class="string">'stream'</span>,</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  res.data.pipe(fs.createWriteStream(<span class="string">'ada_lovelace.jpg'</span>))</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/27/webpackDevServer-Proxy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/27/webpackDevServer-Proxy/" itemprop="url">
                  webpackDevServer Proxy
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-27T23:23:45+08:00">
                2017-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>devServer.proxy</code>: <code>object</code></p>
<p>Proxying some URLs can be useful when you have a separate API backend development server and you want to send API requests on the same domain.</p>
<p>The dev-server makes use of the powerful <code>http-proxy-middleware</code> package.</p>
<p>With a backend on <code>localhost:3000</code>, you can use this to enable proxying:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proxy: &#123;</div><div class="line">  &apos;/api&apos;: &apos;http://localhost:3000&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>A request to <code>/api/users</code> will now proxy to the request to <code>http://localhost:3000/api/users</code></p>
<p>If you don’t want <code>/api</code> to be passed along, we need to rewrite the path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">proxy: &#123;</div><div class="line">  &apos;/api&apos;: &#123;</div><div class="line">    target: &apos;http://localhost:3000&apos;,</div><div class="line">    pathRewrite: &#123;</div><div class="line">      &apos;^/api&apos;: &apos;&apos;,</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>A backend server running on HTTPS with an invalid certificate will not be accepted by default. If you want to, modify config like this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">proxy: &#123;</div><div class="line">  &apos;/api&apos;: &#123;</div><div class="line">    target: &apos;https://other-server.example.com&apos;,</div><div class="line">    secure: false,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/26/notes-in-migrating-from-React-Router-3-to-React-Router-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/26/notes-in-migrating-from-React-Router-3-to-React-Router-4/" itemprop="url">
                  notes in migrating from React-Router-3 to React-Router-4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-26T10:39:13+08:00">
                2017-04-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HashRouter"><a href="#HashRouter" class="headerlink" title="HashRouter"></a>HashRouter</h1><p>Version 4 of React-Router seperate top level router element for the different history type. If you’re using version 4 you should be able to replace <code>&lt;Router hisotry={hashHistory}&gt;</code> with <code>&lt;HashRouter&gt;</code></p>
<h1 id="Multiple-Routes-at-same-URL"><a href="#Multiple-Routes-at-same-URL" class="headerlink" title="Multiple Routes at same URL"></a>Multiple Routes at same URL</h1><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">import React from 'react'</div><div class="line">import &#123;</div><div class="line">  BrowserRouter as Router,</div><div class="line">  Route,</div><div class="line">  Link,</div><div class="line">&#125; from 'react-router-dom'</div><div class="line"></div><div class="line">// Each logical 'route' has two components, one for the sidebar and one for the main area. We want to render both of them in different places when the path matches the current URL.</div><div class="line"></div><div class="line">const routes = [</div><div class="line">  &#123;</div><div class="line">    path: '/',</div><div class="line">    exact: true,</div><div class="line">    sidebar: () =&gt; &lt;div&gt;Home&lt;/div&gt;,</div><div class="line">    main: () =&gt; &lt;h2&gt;Home&lt;/h2&gt;,</div><div class="line">  &#125;, &#123;</div><div class="line">    path: '/bubblegum',</div><div class="line">    sidebar: () =&gt; &lt;div&gt;bubblegum&lt;/div&gt;,</div><div class="line">    main: () =&gt; &lt;h2&gt;BubbleGum&lt;/div&gt;,</div><div class="line">  &#125;, &#123;</div><div class="line">    path: '/shoelaces',</div><div class="line">    sidebar: () =&gt; &lt;div&gt;shoelaces&lt;/div&gt;,</div><div class="line">    main: () =&gt; &lt;h2&gt;ShoeLaces&lt;/h2&gt;,</div><div class="line">  &#125;,</div><div class="line">]</div><div class="line"></div><div class="line">const sidebarExample = () =&gt; (</div><div class="line">  &lt;Router&gt;</div><div class="line">    &lt;div style=&#123;&#123; display: 'flex' &#125;&#125;&gt;</div><div class="line">      // sidebar</div><div class="line">      &lt;div style=&#123;&#123;</div><div class="line">        padding: '10px',</div><div class="line">        width: '40%',</div><div class="line">        background: '#f0f0f0',</div><div class="line">        &#125;&#125;</div><div class="line">      &gt;</div><div class="line">        &lt;ul&gt;</div><div class="line">          &lt;li&gt;&lt;Link to='/'&gt;Home&lt;/Link&gt;&lt;/li&gt;</div><div class="line">          &lt;li&gt;&lt;Link to='/bubblegum'&gt;Bubblegum&lt;/Link&gt;&lt;/li&gt;</div><div class="line">          &lt;li&gt;&lt;Link to='/shoelaces'&gt;ShoeLaces&lt;/Link&gt;&lt;/li&gt;</div><div class="line">        &lt;/ul&gt;</div><div class="line"></div><div class="line">        &#123;routes.map((route, index) =&gt; (</div><div class="line">          // You can render a &lt;Router&gt; in as many places as you want in your app, it will render along with any other &lt;Router&gt;s that also match the URL.</div><div class="line">          // So a sidebar or breadcrumbs or anything else that requires you to render multiple things in multiple places at the same URL is nothing more than multiple &lt;Routes&gt;s</div><div class="line"></div><div class="line">          &lt;Route</div><div class="line">            key=&#123;index&#125;</div><div class="line">            path=&#123;route.path&#125;</div><div class="line">            exact=&#123;route.exact&#125;</div><div class="line">            component=&#123;route.sidebar&#125;</div><div class="line">          /&gt;</div><div class="line">        ))&#125;</div><div class="line">      &lt;/div&gt;</div><div class="line"></div><div class="line">      // main</div><div class="line">      &lt;div style=&#123;&#123; flex: 1, padding: '30px' &#125;&#125;&gt;</div><div class="line">        &#123;routes.map((route, index) =&gt; (</div><div class="line">          // Render more &lt;Route&gt;s with the same paths as above, but different components this time.</div><div class="line">          &lt;Route</div><div class="line">            key=&#123;index&#125;</div><div class="line">            path=&#123;route.path&#125;</div><div class="line">            exact=&#123;route.exact&#125;</div><div class="line">            component=&#123;route.main&#125;</div><div class="line">          /&gt;</div><div class="line">        ))&#125;</div><div class="line">      &lt;/div&gt;</div><div class="line"></div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/Router&gt;</div><div class="line">)</div><div class="line">export default sidebarExample</div></pre></td></tr></table></figure>
<h1 id="Animated-Transitions"><a href="#Animated-Transitions" class="headerlink" title="Animated Transitions"></a>Animated Transitions</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> ReactCSSTransitionGroup <span class="keyword">from</span> <span class="string">'react-addons-css-transition-group'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  BrowserRouter <span class="keyword">as</span> Router,</div><div class="line">  Route,</div><div class="line">  Link,</div><div class="line">  Redirect,</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-rotuer-dom'</span></div><div class="line"></div><div class="line"><span class="comment">// you'll need this CSS somewhere</span></div><div class="line"><span class="comment">// .fade-enter &#123;</span></div><div class="line"><span class="comment">//   opacity: 0;</span></div><div class="line"><span class="comment">//   z-index: 1;</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"><span class="comment">// .fade-enter.face-enter-active &#123;</span></div><div class="line"><span class="comment">//   opacity: 1;</span></div><div class="line"><span class="comment">//   transition: opacity 250ms ease-in;</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> AnimationExample = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;Router&gt;</div><div class="line">    &lt;Route render=&#123;(&#123; location &#125;) =&gt; (</div><div class="line">      &lt;div style=&#123;style.fill&#125;&gt;</div><div class="line">        &lt;Route exact path='/' render=&#123;() =&gt; (</div><div class="line">          &lt;Redirect to='/10/20/50' /&gt;</div><div class="line">        )&#125;/&gt;</div><div class="line">        &lt;ul style=&#123;style.nav&#125;&gt;</div><div class="line">          &lt;NavLink to='/10/90/50'&gt;Red&lt;/NavLink&gt;</div><div class="line">          &lt;NavLink to='/120/100/40'&gt;Green&lt;/NavLink&gt;</div><div class="line">          &lt;NavLink to='/200/100/40'&gt;Blue&lt;/NavLink&gt;</div><div class="line">          &lt;NavLink to='/310/100/50'&gt;Pink&lt;/NavLink&gt;</div><div class="line">        &lt;/ul&gt;</div><div class="line"></div><div class="line">        &lt;div style=&#123;style.content&#125;&gt;</div><div class="line">          &lt;ReactCSSTransitionGroup</div><div class="line">            transitionName='fade'</div><div class="line">            transitionEnterTimeout=&#123;300&#125;</div><div class="line">            transitionLeaveTimeout=&#123;300&#125;</div><div class="line">          &gt;</div><div class="line">            // no different than other usage of ReactCSSTransitionGroup, just make sure to pass `location` to `Route` so it can match the old location as it animate out</div><div class="line">            &lt;Route</div><div class="line">              location=&#123;loaction&#125;</div><div class="line">              key=&#123;location.key&#125;</div><div class="line">              path="/:h/:s/:l"</div><div class="line">              component=&#123;HSL&#125;</div><div class="line">            /&gt;</div><div class="line">          &lt;/ReactCSSTransitionGroup&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    )&#125;/&gt;</div><div class="line">  &lt;/Router&gt;</div><div class="line">)</div><div class="line"></div><div class="line">const NavLink = (props) =&gt; (</div><div class="line">  &lt;li&gt;&lt;Link &#123;...props&#125; style=&#123;&#123;color: 'inherit'&#125;&#125; /&gt;&lt;/li&gt;</div><div class="line">)</div><div class="line"></div><div class="line">const HSL = (&#123; match: &#123; params &#125;&#125;) =&gt; (</div><div class="line">  &lt;div style=&#123;&#123;</div><div class="line">    ...style.fill,</div><div class="line">    ...style.hsl,</div><div class="line">    background: `hsl($&#123;params.h&#125;%, $&#123;params.s&#125;%, $&#123;params.l&#125;%)`</div><div class="line">  &#125;&#125;&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">)</div><div class="line"></div><div class="line">export default AnimationExample</div></pre></td></tr></table></figure>
<h1 id="Route-Config"><a href="#Route-Config" class="headerlink" title="Route Config"></a>Route Config</h1><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line">import React from 'react'</div><div class="line">import &#123;</div><div class="line">  BrowserRouter as Router,</div><div class="line">  Route,</div><div class="line">  Link,</div><div class="line">&#125; from 'react-router-dom'</div><div class="line"></div><div class="line">// Some folks find value in a centralized route config. A route config is just data. React is great at mapping data into component, and &lt;Route&gt; is a component.</div><div class="line"></div><div class="line">// first our route component</div><div class="line"></div><div class="line">const Main = () =&gt; &lt;h2&gt;Main&lt;/h2&gt;</div><div class="line"></div><div class="line">const Sandwiches = () =&gt; &lt;h2&gt;Sandwiches&lt;/h2&gt;</div><div class="line"></div><div class="line">const Tacos = (&#123; routes &#125;) =&gt; (</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;h2&gt;Tacos&lt;/h2&gt;</div><div class="line">    &lt;ul&gt;</div><div class="line">      &lt;li&gt;&lt;Link to='/tacos/bus'&gt;Bus&lt;/Link&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;Link to='/tacos/cart'&gt;Cart&lt;/Link&gt;&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line"></div><div class="line">    &#123;routes.map((route, index) =&gt; (</div><div class="line">      &lt;RouteWithSubRoutes key=&#123;index&#125; &#123;...route&#125;/&gt;</div><div class="line">    ))&#125;</div><div class="line">  &lt;/div&gt;</div><div class="line">)</div><div class="line"></div><div class="line">const Bus = () =&gt; &lt;div&gt;Bus&lt;/div&gt;</div><div class="line">const Cart = () =&gt; &lt;div&gt;Cart&lt;/div&gt;</div><div class="line"></div><div class="line">// then our route config</div><div class="line"></div><div class="line">const routes = [</div><div class="line">  &#123;</div><div class="line">    path: '/sandwiches',</div><div class="line">    component: sandwiches,</div><div class="line">  &#125;, &#123;</div><div class="line">    path: '/tacos',</div><div class="line">    component: Tacos,</div><div class="line">    routes: [</div><div class="line">      &#123;</div><div class="line">        path: '/tacos/bus',</div><div class="line">        component: Bus,</div><div class="line">      &#125;, &#123;</div><div class="line">        path: '/tacos/cart',</div><div class="line">        component: Cart,</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">]</div><div class="line"></div><div class="line">// wrap &lt;Route&gt; and use this everywhere instead, then when sub routes are added to any route it'll work</div><div class="line"></div><div class="line">const RouteWithSubRoutes = (route) =&gt; (</div><div class="line">  &lt;Route path=&#123;route.path&#125; render=&#123;props =&gt; (</div><div class="line">    // pass the sub-routes down to keep nesting</div><div class="line">    &lt;route.component &#123;...props&#125; routes=&#123;route.routes&#125; /&gt;</div><div class="line">  )&#125;/&gt;</div><div class="line">)</div><div class="line"></div><div class="line">const RouteConfigExample = () =&gt; (</div><div class="line">  &lt;Router&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &lt;li&gt;&lt;Link to='/tacos'&gt;Tacos&lt;/Link&gt;&lt;/li&gt;</div><div class="line">        &lt;li&gt;&lt;Link to='/sandwiches'&gt;Sandwiches&lt;/Link&gt;&lt;/li&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">      &#123;routes.map((route, index) =&gt; (</div><div class="line">        &lt;RouteWithSubRoutes key=&#123;index&#125; &#123;...route&#125; /&gt;</div><div class="line">      ))&#125;</div><div class="line">    &lt;/div&gt;</div><div class="line">  &lt;/Router&gt;</div><div class="line">)</div><div class="line"></div><div class="line">export default RouteConfigExample</div></pre></td></tr></table></figure>
<h1 id="Redux-Integration"><a href="#Redux-Integration" class="headerlink" title="Redux Integration"></a>Redux Integration</h1><p>Generally, React Router and Redux work just fine together. Occasionally though, an app have a component that doesn’t update when the location changes (child route or active nav links don’t update)</p>
<p>This happens if:</p>
<blockquote>
<p>The component is connected to redux via <code>connect()(Comp)</code> The component is <em>not</em> a “route component”, meaning it is not rendered like so: <code>&lt;Route component={SomeConnectedThing}/&gt;</code></p>
</blockquote>
<p>The problem is that Redux implements <code>shouldComponentUpdate</code> and there’s no indication that anything has changed if it isn’t receiving props from the router. This is straightforward to fix. Find where you connect your component and wrap it in <code>withRouter</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; withRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> withRouter(connect(mapStateToProps)(Comp))</div></pre></td></tr></table></figure>
<h1 id="Code-Splitting"><a href="#Code-Splitting" class="headerlink" title="Code Splitting"></a>Code Splitting</h1><p>One great feature of the web is that we don’t have to make our visitors download the entire app before they can use it. You can think of code spliting as incrementally downloading the app. While there are other tools for the job, react-router use <code>webpack</code> and the <code>bundle loader</code>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">import loadSomething from 'bundle-loader?lazy!./Something'</div><div class="line"></div><div class="line">&lt;Bundle load=&#123;loadSomething&#125;&gt;</div><div class="line">  &#123;(mod) =&gt; (</div><div class="line">    // do something w/ the module</div><div class="line">  )&#125;</div><div class="line">&lt;/Bundle&gt;</div><div class="line"></div><div class="line">&lt;Bundle load=&#123;loadSomething&#125;&gt;</div><div class="line">  &#123;</div><div class="line">    (Comp) =&gt; Comp</div><div class="line">    ? &lt;Comp/&gt;</div><div class="line">    : &lt;Loading/&gt;</div><div class="line">  &#125;</div><div class="line">&lt;/Bundle&gt;</div><div class="line"></div><div class="line">import React, &#123; Component &#125; from 'react'</div><div class="line"></div><div class="line">class Bundle extends Component &#123;</div><div class="line">  state = &#123;</div><div class="line">    // short for 'module' but that's a keyword in js. so 'mod'</div><div class="line">    mod: null,</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  componentWillMount () &#123;</div><div class="line">    this.load(this.props)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  componentWillReceiveProps (nextProps) &#123;</div><div class="line">    if (nextProps.load !== this.props.load) &#123;</div><div class="line">      this.load(nextProps)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  load (props) &#123;</div><div class="line">    this.setState(&#123;</div><div class="line">      mod: null,</div><div class="line">    &#125;)</div><div class="line">    props.load((mod) =&gt; &#123;</div><div class="line">      this.setState(&#123;</div><div class="line">        // handle both es imports and cjs</div><div class="line">        mod: mod.default ? mod.default : mod</div><div class="line">      &#125;)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render () &#123;</div><div class="line">    return this.props.children(this.state.mod)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">export default Bundle</div><div class="line"></div><div class="line"></div><div class="line">&lt;Bundle load=&#123;() =&gt; import('./something')&#125;&gt;</div><div class="line">  &#123;(mod) =&gt; ()&#125;</div><div class="line">&lt;/Bundle&gt;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> loadAbout <span class="keyword">from</span> <span class="string">'bundle-load?lazy!./loadAbout'</span></div><div class="line"><span class="keyword">import</span> loadDashboard <span class="keyword">from</span> <span class="string">'bundle-loader?lazy!./loadDashboard'</span></div><div class="line"></div><div class="line"><span class="comment">// components load their module for initial visit</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;Bundle load=&#123;loadAbout&#125;&gt;</div><div class="line">    &#123;(About) =&gt; &lt;About /&gt;&#125;</div><div class="line">  &lt;/Bundle&gt;</div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">const</span> Dashboard = <span class="function"><span class="params">()</span> =&gt;</span> (</div><div class="line">  &lt;Bundle load=&#123;loadDashboard&#125;&gt;</div><div class="line">    &#123;(Dashboard) =&gt; &lt;Dashboard /&gt;&#125;</div><div class="line">  &lt;/Bundle&gt;</div><div class="line">)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</div><div class="line">  componentDidMount () &#123;</div><div class="line">    <span class="comment">// preload the rest</span></div><div class="line">    loadAbout( <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125; )</div><div class="line">    loadDashboard( <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125; )</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  render () &#123;</div><div class="line">    <span class="keyword">return</span> (</div><div class="line">      &lt;div&gt;</div><div class="line">        &lt;h1&gt;Welcome&lt;/h1&gt;</div><div class="line">        &lt;Route path='/about' component=&#123;About&#125; /&gt;</div><div class="line">        &lt;Route path='/dashbaord' component=&#123;Dashboard&#125; /&gt;</div><div class="line">      &lt;/div&gt;</div><div class="line">    )</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">ReactDOM.render(&lt;App /&gt;, document.preloadTheRestOfTheApp)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/25/learning-d3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/25/learning-d3/" itemprop="url">
                  learning d3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-25T14:48:14+08:00">
                2017-04-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="d3-array"><a href="#d3-array" class="headerlink" title="d3-array"></a>d3-array</h1><h2 id="array-methods-built-in-to-JavaScript"><a href="#array-methods-built-in-to-JavaScript" class="headerlink" title="array methods built-in to JavaScript"></a>array methods built-in to JavaScript</h2><ul>
<li>array.pop =&gt; popped element</li>
<li>array.push =&gt; array.length</li>
<li>array.reverse =&gt; change the array</li>
<li>array.shift =&gt; shifted element</li>
<li>array.unshift =&gt; array.length</li>
<li>array.sort =&gt; change the array</li>
<li><p>array.splice =&gt; change the array</p>
</li>
<li><p>array.concat =&gt; new Array</p>
</li>
<li><p>array.join =&gt; new String</p>
</li>
<li><p>array.slice =&gt; new Array</p>
</li>
<li><p>array.indexOf =&gt; number</p>
</li>
<li><p>array.lastIndexOf =&gt; number</p>
</li>
<li><p>array.fitler =&gt; new Array</p>
</li>
<li><p>array.forEach =&gt; undefined</p>
</li>
<li><p>array.every =&gt; boolean</p>
</li>
<li><p>array.map =&gt; new Array</p>
</li>
<li><p>array.some =&gt; boolean</p>
</li>
<li><p>array.reduce =&gt;</p>
</li>
<li>array.reduceRight =&gt;</li>
</ul>
<blockquote>
<p>yarn add d3-array</p>
</blockquote>
<h2 id="Statistics"><a href="#Statistics" class="headerlink" title="Statistics"></a>Statistics</h2><ul>
<li><p><code>d3.min(array[, accessor])</code></p>
<ul>
<li>Mininum value using natural order</li>
<li>Return undefined if the array is empty</li>
<li>An optional <em>accessor</em> function may be specified, which is equivalent to calling <em>array.map(accessor)</em> before computing the minumum value.</li>
</ul>
</li>
<li><p><code>d3.max(array[, accessor])</code></p>
<ul>
<li>Return maximum value</li>
<li>Return undefined. if the array is empty</li>
</ul>
</li>
<li><p><code>d3.extent(array[, accessor])</code></p>
<ul>
<li>Return <em>minumum</em> and <em>maximum</em> value in the given array.</li>
<li>Return <code>[undefined, undefined]</code> if the array is empty</li>
</ul>
</li>
<li><p><code>d3.sum(array[, accessor])</code></p>
<ul>
<li>Return the sum of the given array of numbers.</li>
<li>Return 0 if the array is empty.</li>
<li>ignores <em>undefined</em> and <em>NaN</em> values.</li>
</ul>
</li>
<li><p><code>d3.mean(array[, accessor])</code></p>
<ul>
<li>Return the mean of the given array of numbers.</li>
<li>Return undefined if the array is empty.</li>
<li>Ignore <em>undefined</em> and <em>NaN</em>.</li>
</ul>
</li>
<li><p><code>d3.median(array[, accessor])</code> -</p>
</li>
</ul>
<p>-</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/25/node-inspector-s-crash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/25/node-inspector-s-crash/" itemprop="url">
                  node-inspector's crash
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-25T12:23:55+08:00">
                2017-04-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I had encountered a problem using <code>node-inspector</code> with info</p>
<blockquote>
<p>cb(error, NM[0].ref); Cannot read property ‘ref’ of undefined</p>
</blockquote>
<p>And one method to resolve it is to modify the packagge</p>
<blockquote>
<p>Same issue with node v6.5.0 can be solved like this :</p>
<p>Edit …\node_modules\node-inspector\lib\InjectorClient.js file at line 111 if(NM.length &gt; 0) cb(error, NM[0].ref);</p>
<p>It works</p>
</blockquote>
<p>which is hack, and another method is without side-effect</p>
<blockquote>
<p>use the local node-inspector</p>
</blockquote>
<p>hope it helps</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/21/Usage-of-Chai/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/21/Usage-of-Chai/" itemprop="url">
                  Usage of Chai
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-21T13:22:32+08:00">
                2017-04-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Chains"><a href="#Chains" class="headerlink" title="Chains"></a>Chains</h1><ul>
<li>to</li>
<li>be</li>
<li>been</li>
<li>is</li>
<li>that</li>
<li>which</li>
<li>and</li>
<li>has</li>
<li>have</li>
<li>with</li>
<li>at</li>
<li>of</li>
<li>same</li>
</ul>
<h1 id="not"><a href="#not" class="headerlink" title="not"></a>not</h1><blockquote>
<p>negative any of assertions following in the Chains</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(foo).to.not.equal(<span class="string">'bar'</span>)</div></pre></td></tr></table></figure>
<h1 id="deep"><a href="#deep" class="headerlink" title="deep"></a>deep</h1><blockquote>
<p>set the <code>deep</code> flag, later used by the <code>equal</code> and <code>property</code> assertions</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(foo).to.deep.equal(&#123;<span class="attr">bar</span>: <span class="string">'bar'</span>&#125;)</div></pre></td></tr></table></figure>
<h1 id="any"><a href="#any" class="headerlink" title="any"></a>any</h1><blockquote>
<p>set the <code>any</code> flag, (opposite of the <code>all</code> flag), later used in the <code>keys</code> assertion</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(foo).to.have.any.keys(<span class="string">'bar'</span>, <span class="string">'foo'</span>)</div></pre></td></tr></table></figure>
<h1 id="all"><a href="#all" class="headerlink" title="all"></a>all</h1><blockquote>
<p>set the <code>all</code> flag, (opposite of the <code>any</code> flag), later used by the <code>keys</code> assertions</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(foo).to.have.all.keys(<span class="string">'bar'</span>, <span class="string">'foo'</span>)</div></pre></td></tr></table></figure>
<h1 id="a-type"><a href="#a-type" class="headerlink" title="a(type)"></a>a(type)</h1><ul>
<li>@param {String} type</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>The <code>a</code> and <code>an</code> assertion are aliases that can be used either as language chains or to assert a value’s type</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// typeof</span></div><div class="line">expect(<span class="string">'test'</span>).to.be.a(<span class="string">'string'</span>)</div><div class="line"><span class="comment">// language chain</span></div><div class="line">expect(foo).to.be.an.instanceof(Foo)</div></pre></td></tr></table></figure>
<h1 id="include-value"><a href="#include-value" class="headerlink" title="include(value)"></a>include(value)</h1><ul>
<li>@param {Object | String | Number} obj</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>The <code>include</code> and <code>contain</code> assertion can be used as either property based language chains or methods to assert the inclusion of an object in an array or a substring in a string.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">expect([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]).to.include(<span class="number">2</span>)</div><div class="line">expect(<span class="string">'foobar'</span>).to.contain(<span class="string">'foo'</span>)</div><div class="line">expect(&#123; <span class="attr">foo</span>: <span class="string">'foo'</span>, <span class="attr">bar</span>: <span class="string">'bar'</span> &#125;).to.include.keys(<span class="string">'foo'</span>)</div></pre></td></tr></table></figure>
<h1 id="ok"><a href="#ok" class="headerlink" title="ok"></a>ok</h1><blockquote>
<p>Assert that the target is truthy</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">expect(<span class="string">'everything'</span>).to.be.ok</div><div class="line">expect(<span class="literal">undefined</span>).to.not.be.ok</div></pre></td></tr></table></figure>
<h1 id="true"><a href="#true" class="headerlink" title="true"></a>true</h1><blockquote>
<p>Assert that the target is <code>true</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">expect(<span class="literal">true</span>).to.be.true</div><div class="line">expect(<span class="number">1</span>).to.be.true</div></pre></td></tr></table></figure>
<h1 id="false"><a href="#false" class="headerlink" title="false"></a>false</h1><blockquote>
<p>Assert that the target is <code>false</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">expect(<span class="literal">false</span>).to.be.false</div><div class="line">expect(<span class="number">0</span>).to.be.false</div></pre></td></tr></table></figure>
<h1 id="null"><a href="#null" class="headerlink" title="null"></a>null</h1><blockquote>
<p>Assert that the target to be <code>null</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="literal">null</span>).to.be.null</div></pre></td></tr></table></figure>
<h1 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h1><blockquote>
<p>Assert that the target is <code>undefined</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="literal">undefined</span>).to.be.undefined</div></pre></td></tr></table></figure>
<h1 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h1><blockquote>
<p>Assert that the target is <code>NaN</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="string">'foo'</span>).to.be.NaN</div></pre></td></tr></table></figure>
<h1 id="exist"><a href="#exist" class="headerlink" title="exist"></a>exist</h1><blockquote>
<p>Assert that the target is neither <code>null</code> nor <code>undefined</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="string">'foo'</span>).to.be.exist</div></pre></td></tr></table></figure>
<h1 id="empty"><a href="#empty" class="headerlink" title="empty"></a>empty</h1><blockquote>
<p>Assert that the target’s length is 0. For Array and String, it will check the length of propertes. For Object, it will check the length of enumerable keys</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect([]).to.be.empty</div></pre></td></tr></table></figure>
<h1 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h1><blockquote>
<p>Assert that the target is an arguments object</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  expect(<span class="built_in">arguments</span>).to.be.arguments</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="equal-value"><a href="#equal-value" class="headerlink" title="equal(value)"></a>equal(value)</h1><ul>
<li>@param {Mixed} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is strictly equal(===) to <code>value</code>. Alternately, if the <code>.deep</code> flag is set, assert that the target is deeply equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">expect(<span class="string">'hello'</span>).to.equal(<span class="string">'hello'</span>)</div><div class="line">expect(&#123;<span class="attr">foo</span>: <span class="string">'foo'</span>&#125;).to.deep.equal(&#123;<span class="attr">foo</span>: <span class="string">'foo'</span>&#125;)</div></pre></td></tr></table></figure>
<h1 id="eql-value"><a href="#eql-value" class="headerlink" title="eql(value)"></a>eql(value)</h1><ul>
<li>@param {Mixed} value</li>
<li>@param {String} message [optional]</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(&#123;<span class="attr">foo</span>: <span class="string">'foo'</span>&#125;).to.eql(&#123;<span class="attr">foo</span>: <span class="string">'foo'</span>&#125;)</div></pre></td></tr></table></figure>
<h1 id="above-value"><a href="#above-value" class="headerlink" title="above(value)"></a>above(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is greater than <code>value</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="number">10</span>).to.be.above(<span class="number">5</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>Can also be used in conjunction with <code>length</code> to assert a minimum length.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="string">'foo'</span>).to.have.length.above(<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h1 id="least-value"><a href="#least-value" class="headerlink" title="least(value)"></a>least(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is greater than or equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="number">10</span>).to.be.at.least(<span class="number">10</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="below-value"><a href="#below-value" class="headerlink" title="below(value)"></a>below(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optinal]</li>
</ul>
<blockquote>
<p>Assert that the target is less than <code>value</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="number">5</span>).to.be.below(<span class="number">10</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="most-value"><a href="#most-value" class="headerlink" title="most(value)"></a>most(value)</h1><ul>
<li>@param {Number} value</li>
<li>@param {String} message [optinal]</li>
</ul>
<blockquote>
<p>Assert that the target is less than or equal to <code>value</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="number">5</span>).to.be.at.most(<span class="number">5</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>used for length o</p>
</blockquote>
<h1 id="within-start-finish"><a href="#within-start-finish" class="headerlink" title="within(start, finish)"></a>within(start, finish)</h1><ul>
<li>@param {Number} start lowerbound inclusive</li>
<li>@param {Number} finish upperbound inclusive</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target is within a range</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">expect(<span class="number">28</span>).to.be.within(<span class="number">2</span>, <span class="number">30</span>)</div></pre></td></tr></table></figure>
<blockquote>
<p>used for length too</p>
</blockquote>
<h1 id="instanceof-constructor"><a href="#instanceof-constructor" class="headerlink" title="instanceof(constructor)"></a>instanceof(constructor)</h1><ul>
<li>@param {Constructor} constructor</li>
<li>@param {String} message [optional]</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Tea = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name,</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> Chai = <span class="keyword">new</span> Tea(<span class="string">'chai'</span>)</div><div class="line"></div><div class="line">expect(Chai).to.be.an.instanceof(Tea)</div><div class="line">expect([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]).to.be.an.instanceof(<span class="built_in">Array</span>)</div></pre></td></tr></table></figure>
<h1 id="property-name-value"><a href="#property-name-value" class="headerlink" title="property(name[, value])"></a>property(name[, value])</h1><ul>
<li>@param {String} name</li>
<li>@param {Mixed} value [optional]</li>
<li>@param {String} message [optional]</li>
</ul>
<blockquote>
<p>Assert that the target has a property <code>name</code>, optionally asserting that the value of that property is strictly equal to <code>value</code>. If the <code>deep</code> flag is set, you can use dot- and bracket-notation for deep reference into objects and arrays.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">expect(obj).to.have.property(<span class="string">'foo'</span>)</div><div class="line">expect(obj).to.have.property(<span class="string">'foo'</span>, <span class="string">'bar'</span>)</div></pre></td></tr></table></figure>
<h2 id="to-be-continued"><a href="#to-be-continued" class="headerlink" title="to be continued"></a>to be continued</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/20/AVA-Usage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/20/AVA-Usage/" itemprop="url">
                  AVA Usage
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-20T23:50:43+08:00">
                2017-04-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="测试语法"><a href="#测试语法" class="headerlink" title="测试语法"></a>测试语法</h1><p>``` import test from ‘ava’</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Chen Yu" />
          <p class="site-author-name" itemprop="name">Chen Yu</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">165</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen Yu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
