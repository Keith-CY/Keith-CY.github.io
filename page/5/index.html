<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Front-End, JavaScript, Html, Css, React, Vue, Rxjs" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="EzCook">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="EzCook">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="EzCook">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title> EzCook </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">EzCook</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Code Elegantly</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/16/react-native-basic-component/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/16/react-native-basic-component/" itemprop="url">
                  React-Native Basic Component
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-16T12:54:28+08:00">
                2016-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><pre><code>import React, { Component } from &apos;react&apos;
import { AppRegistry, Text } from &apos;react-native&apos;
 const App = () =&amp;gt; &amp;lt;Text&amp;gt;Hello World&amp;lt;/Text&amp;gt;

 AppRegistry.registerComponent(&quot;Project&quot;, () =&amp;gt; App)
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### Image</div></pre></td></tr></table></figure>

import React, { Component } from &apos;react&apos;
import { AppRegistry, Image } from &apos;react-native&apos;

const App = () =&amp;gt; &amp;lt;Image source = {require(&apos;./img/sample.png&apos;)} /&amp;gt;

AppRegistry.registerComponent(&quot;Project&quot;, () =&amp;gt; App)
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### View</div></pre></td></tr></table></figure>

import React, { Component } from &apos;react&apos;
import { AppRegistry, Text, View } from &apos;react-native&apos;

const App = () =&amp;gt; (
  &amp;lt;View style={{alignItems: 'center'}} &amp;gt;
    &amp;lt;Text&amp;gt;Hello World&amp;lt;/Text&amp;gt;
  &amp;lt;/View&amp;gt;
)

AppRegistry.registerComponent(&quot;Project&quot;, () =&amp;gt; App)
`&lt;/pre&gt;

### TextInput

&lt;pre&gt;`import React from &apos;react&apos;
import { AppRegistry, TextInput, View } from &apos;react-native&apos;

const App = () =&amp;gt; (
  &amp;lt;View&amp;gt;
    &amp;lt;TextInput placeholder = &quot;Hello&quot; /&amp;gt;
  &amp;lt;/View&amp;gt;
)

AppRegistry.registerComponent(&apos;Project&apos;, () =&amp;gt; App)
`&lt;/pre&gt;

### ListView

&lt;pre&gt;`import React, { Component } from &apos;react&apos;
import { AppRegistry, Text, View, ListView } from &apos;react-native&apos;

class SimpleList extends Component {
  constructor(){
    super(props)
    var ds = new ListView.DataSource({
      rowHasChanged: (r1,r2) =&amp;gt; r1!==r2
    })

    this.state = {
      dataSource: ds.cloneWithRows([&apos;john&apos;, &apos;joel&apos;,&apos;james&apos;,&apos;jimmy&apos;,&apos;jackson&apos;])
    }

  }

  render(){
    return (
      &amp;lt;View&amp;gt;
        &amp;lt;ListView dataSource={this.state.dataSource} renderRow={(rowData) =&amp;gt; &amp;lt;Text&amp;gt;{rowData}&amp;lt;/Text&amp;gt;}
      &amp;lt;/View&amp;gt;
    )
  }
}

AppRegistry.registerComponent(&quot;Project&quot;, () =&amp;gt; SimpleList)
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/16/e7-90-86-e8-a7-a3-restful-e6-9e-b6-e6-9e-84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/16/e7-90-86-e8-a7-a3-restful-e6-9e-b6-e6-9e-84/" itemprop="url">
                  理解 RESTFul 架构
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-16T11:59:53+08:00">
                2016-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>REST 全称 Representational State Transfer(表述性状态转移), 十一组架构约束条件和原则. 如果一个架构符合 REST 的约束条件, 那么可以称为 RESTFul 架构</p>
<p>要理解 REST 原则, 就要从资源的定义, 获取, 表述, 关联, 状态变迁等角度入手</p>
<ul>
<li>资源与 URI</li>
<li>统一资源接口</li>
<li>资源的表述</li>
<li>资源的链接</li>
<li>状态的转移</li>
</ul>
<h3 id="资源与-URI"><a href="#资源与-URI" class="headerlink" title="资源与 URI"></a>资源与 URI</h3><p>任何事物, 只要有被引用到的必要, 他就是一个资源.</p>
<p>要让一个资源可以被识别, 需要添加一个唯一标识, 在 Web 中这个唯一标识就是 URI(Uniform Resource Identifier).</p>
<p>URI 既可以看成资源的地址, 也可以看成资源的名称.</p>
<p>如果一些信息没有使用 URI 来标识, 说明他不是一个资源</p>
<p>URI 的设计应该遵循可寻址原则, 具有自描述性, 需要在形式上给人以直觉上的关联</p>
<h4 id="URI-设计上的一些技巧"><a href="#URI-设计上的一些技巧" class="headerlink" title="URI 设计上的一些技巧"></a>URI 设计上的一些技巧</h4><ol>
<li>使用 <code>_</code> 或 <code>-</code> 提高 URI 的可读性</li>
<li>使用 <code>/</code> 表示资源的层级关系</li>
<li>使用 <code>?</code> 过滤资源</li>
</ol>
<h4 id="统一资源接口"><a href="#统一资源接口" class="headerlink" title="统一资源接口"></a>统一资源接口</h4><p>RESTFul 结构应该遵循统一接口原则, 统一接口包含了一组受限的预定义操作, 不论什么样的资源, 都是通过使用相同接口进行资源访问. 接口应该使用标准 HTTP 方法如 GET, PUT, POST, 并遵循这些方法的语义</p>
<ul>
<li>POST 和 PUT 用于创建资源时的区别: 所创建的资源的 URI 是否由客户端决定.</li>
</ul>
<h3 id="资源的表述"><a href="#资源的表述" class="headerlink" title="资源的表述"></a>资源的表述</h3><p>客户端通过 HTTP 方法获取资源的表述, 而不是资源本身.</p>
<p>所谓资源的表述, 即是资源的展现, 而非其本质. 以文本为例, 可以通过 JSON, STRING 等形式表述出来, 而通过客户端获取的即是 JSON 形式的表述, 或 STRING 形式的表述.</p>
<p>客户端通过 HTTP 内容协商, 即 Accept 头请求一种特定个事的表述, 服务器则通过 Content-Type 通知客户端资源的表述形式</p>
<h3 id="资源的连接"><a href="#资源的连接" class="headerlink" title="资源的连接"></a>资源的连接</h3><p>REST 使用 HTTP 方法操作资源, 在表述格式中添加链接来引导客户端, 这种具有连接的特性称为连通</p>
<h3 id="状态的转移"><a href="#状态的转移" class="headerlink" title="状态的转移"></a>状态的转移</h3><p>无状态通信原则: 服务端不应该保存客户端的状态</p>
<h4 id="应用状态与资源状态"><a href="#应用状态与资源状态" class="headerlink" title="应用状态与资源状态"></a>应用状态与资源状态</h4><p>应该区分应用状态和资源状态, 客户端负责维护应用状态, 服务端维护资源状态. 客户端与服务端的交互应当是无状态的, 并且在每一次请求中包含处理该请求所需要的一切信息. 服务端不需要在请求间保留应用状态, 只有在接收到实际请求的时候, 服务端才会关注应用状态. 这种无状态通信原则, 使得服务端和中介能够理解独立的请求和相应. 多次请求中, 同一客户端也不再需要依赖同一服务器, 方便实现高可扩展和高可用性的服务端.</p>
<h4 id="应用状态的转移"><a href="#应用状态的转移" class="headerlink" title="应用状态的转移"></a>应用状态的转移</h4><p>“会话状态”不是作为资源状态被保存在服务端, 而是被客户端做为应用状态进行跟踪. 客户端应用状态在服务端提供的超媒体的指引下发生变迁, 服务端通过超媒体告诉客户端当前状态有哪些后续状态可以进入. 类似于网页中的’下一些’的连接.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/08/e7-a7-bb-e5-8a-a8-e7-ab-af-border-radius-e6-ba-a2-e5-87-ba-e5-a4-84-e7-90-86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/08/e7-a7-bb-e5-8a-a8-e7-ab-af-border-radius-e6-ba-a2-e5-87-ba-e5-a4-84-e7-90-86/" itemprop="url">
                  移动端 Border-radius 溢出处理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-08T10:21:25+08:00">
                2016-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>问题1: 部分机型下, 设置 border-radius 以及 overflow:hidden 会造成背景颜色溢出</p>
<p>解决: background-clip: padding-box</p>
<p>原理: background-clip 是颜色颜色显示区域, 设置为 padding-box</p>
<p>问题2: transform 的子元素在父元素 overflow:hidden 之后还是会溢出</p>
<p>解决办法: 在父元素加上一段 css</p>
<pre><code>-webkit-mask-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==&apos;);
</code></pre><p>这是一张1px 的纯黑色图片</p>
<p>原理: -webkit-mask-image:url(‘’), 会在图片上添加蒙版(黑色表示将内容透明, 白色表示将内容显示, 介于中间表示半透明)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/08/e6-b5-8b-e8-af-95-e5-b0-8f-e6-8a-80-e5-b7-a7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/08/e6-b5-8b-e8-af-95-e5-b0-8f-e6-8a-80-e5-b7-a7/" itemprop="url">
                  测试小技巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-08T10:00:52+08:00">
                2016-09-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>每一个测试都要引入 expect, 可以创建一个<code>test_helper.js</code><br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> import &#123; expect &#125; from &apos;expect&apos;</div><div class="line"> import sinon from &apos;sinon&apos;</div><div class="line"></div><div class="line">global.expect = expect</div><div class="line"> global.sinon = sinon</div><div class="line"> `然后在`mocha.opt`中添加`</div><div class="line"> --require ./test/test_helper.js</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/07/command-line-cheat-sheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/07/command-line-cheat-sheet/" itemprop="url">
                  Command Line Cheat Sheet
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-07T03:02:48+08:00">
                2016-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Directories"><a href="#Directories" class="headerlink" title="Directories"></a>Directories</h3><p>pwd: print working directory</p>
<p>cd &lt;directory&gt;: change directory to &lt;directory&gt;</p>
<p>cd ..: change directory to parent one</p>
<p>ls: list directory  contents</p>
<p>ls -la: list detailed directory contents, including hidden files</p>
<p>mkdir &lt;directory&gt;: create new directory named &lt;directory&gt;</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>cat &lt;file&gt;: output the contents of &lt;file&gt;</p>
<p>less &lt;file&gt;: output the contents of &lt;file&gt; using the less command(which supports paginations etc.)</p>
<p>head &lt;file&gt;: output the first 10 lines of &lt;file&gt;</p>
<p>&lt;cmd&gt; &lt;file&gt;: impose &lt;cmd&gt; on &lt;file&gt;</p>
<p>clear: clear the command line window</p>
<h3 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h3><p>rm &lt;file&gt;: delete &lt;file&gt;</p>
<p>rm -r &lt;directory&gt;: clear contents of &lt;directory&gt;</p>
<p>rm -f &lt;file&gt;: force-delete &lt;file&gt;</p>
<p>rm -rf &lt;directory&gt;: force clear &lt;directory&gt;</p>
<p>mv &lt;file-old&gt; &lt;file-new&gt;: rename &lt;file-old&gt;</p>
<p>mv &lt;file&gt; &lt;directory&gt;: move file to &lt;directory&gt;</p>
<p>cp &lt;file&gt; &lt;directory&gt;: copy &lt;file&gt; to &lt;directory&gt;</p>
<p>cp -r &lt;directory1&gt; &lt;directory2&gt;:  copy whole &lt;directory1&gt; to &lt;directory2&gt;(overwrit)</p>
<p>touch &lt;file&gt;: Update file or create file</p>
<h3 id="Permissions"><a href="#Permissions" class="headerlink" title="Permissions"></a>Permissions</h3><p>chmod 755 &lt;file&gt;: change permission of &lt;file&gt; to 755</p>
<p>chmod -R 600 &lt;directory&gt;: change permission of &lt;directory&gt; and its content to 600</p>
<p>chown &lt;user&gt;:&lt;group&gt; &lt;file&gt;: Change ownership of &lt;file&gt; to &lt;user&gt; and &lt;group&gt;</p>
<h3 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h3><p>find &lt;dir&gt; -name ‘&lt;file&gt;’: find all files named &lt;file&gt; inside &lt;dir&gt;(support regex)</p>
<p>grep ‘&lt;text&gt;’ &lt;file&gt;: output all occurrence of &lt;text&gt; inside &lt;file&gt;(add -i for case-insensitivity)</p>
<p>grep -rl ‘text’ &lt;dir&gt;: search for all files container &lt;text&gt; inside &lt;dir&gt;</p>
<h3 id="Network"><a href="#Network" class="headerlink" title="Network"></a>Network</h3><p>ping &lt;host&gt;: ping &lt;host&gt; and display status</p>
<p>whois &lt;domain&gt;: output whois information for &lt;domain&gt;</p>
<p>curl -O &lt;url/to/file&gt;: download &lt;file&gt;(via HTTP[S] or FTP)</p>
<p>ssh &lt;username&gt;@&lt;host&gt;: establish an SSH connection to &lt;host&gt; with user &lt;username&gt;</p>
<p>scp &lt;file&gt; &lt;user&gt;@&lt;host&gt;:/remote/path: Copy &lt;file&gt; to a remote &lt;host&gt;</p>
<h3 id="Processes"><a href="#Processes" class="headerlink" title="Processes"></a>Processes</h3><p>ps ax: output currently running process</p>
<p>top: display live information about currently running processes</p>
<p>kill &lt;pid&gt;: Quit process with ID</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/06/redux-form-e7-9a-84-e6-b7-b1-e5-9d-91-e6-85-a2-e6-85-a2-e7-a7-af-e7-b4-af/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/06/redux-form-e7-9a-84-e6-b7-b1-e5-9d-91-e6-85-a2-e6-85-a2-e7-a7-af-e7-b4-af/" itemprop="url">
                  Redux-Form 的深坑...慢慢积累
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-06T09:56:38+08:00">
                2016-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>如果 Field 无法输入, 注意 state 是否是 immutable 的, 如果是, 则需要</p>
<pre><code>import { Field, reduxForm } from &apos;redux-form/immutable&apos;
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/05/e7-bc-96-e5-86-99-e6-b5-8b-e8-af-95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/05/e7-bc-96-e5-86-99-e6-b5-8b-e8-af-95/" itemprop="url">
                  编写测试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-05T07:21:37+08:00">
                2016-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>使用 Mocha 作为测试引擎<br>注意因为是在 node 环境下运行, 所以不能访问 DOM</p>
<pre><code>npm install --save-dev mocha
`&lt;/pre&gt;

若想要结合 Babel 使用, 需要在 package.json 的 script 中加入一段

&lt;pre&gt;`{
  &quot;scripts&quot;: {
    ...
    &quot;test&quot;: &quot;mocha --compilers js:babel/register --recursive&quot;,
    &quot;test:watch&quot;: &quot;npm test -- --watch&quot;
  }
}
`&lt;/pre&gt;

### Action Creators

Redux 里的 action creators 会返回普通对象, 在测试 action creators 的时候我们要测试的不仅是调用了正确的action creators, 还有是否返回了正确的 action

实例

&lt;pre&gt;`export function addTodo(text){
  return {
    type: &apos;ADD_TODO&apos;,
    text
  };
}
`&lt;/pre&gt;

可以这样测试

&lt;pre&gt;`import expect form &apos;expect&apos;
import * as actions from &apos;../../actions/TodoActions&apos;;
import * as types from &apos;../../constants/ActionTypes&apos;;

describe(&apos;actions&apos;, () =&amp;gt; {
  it(&apos;should create an action to add a todo&apos;, () =&amp;gt; {
    const text = &apos;Finish docs&apos;;
    const expectedAction = {
      type: &apos;ADD_TODO&apos;,
      text
    };

    expect(actions.addTodo(text)).toEqual(&apos;expectedAction&apos;);
  })
})
`&lt;/pre&gt;

### 异步 Action Creators

对于使用Redux Thunk 或其他 middleware 的异步 Action Creator, 最好完全模拟 Redux Store 来测试.

可以使用 applyMiddleware() 和一个 mock store, 与可以用 nock 来模拟 HTTP 请求

实例:

&lt;pre&gt;`function fetchTodosRequest () {
  return {
    type: FETCH_TODOS_REQUEST
  }
}

function fetchTodosSuccess(body) {
  return {
    type: FETCH_TODOS_SUCCESS,
    body
  }
}

function fetchTodosFailure(ex) {
  return {
    type: FETCH_TODOS_FAILURE,
    ex
  }
}

export function fetchTodo () {
  return dispatch =&amp;gt; {
    dispatch(fetchTodosRequest())
    return fetch(&apos;http://example.com/todos&apos;)
      .then(res =&amp;gt; res.json())
      .then(json =&amp;gt; dispatch(fetchTodosSuccess(json.body)))
      .catch(ex =&amp;gt; dispatch(fetchTodosFailure(ex)))
  }
}
`&lt;/pre&gt;

可以这样测试

&lt;pre&gt;`import expect from &apos;expect&apos;
import { applyMiddleware } from &apos;redux&apos;
import thunk from &apos;redux-thunk&apos;
import * as actions from &apos;../../actions/counter&apos;
import * as types from &apos;../../constants/ActionTypes&apos;
import nock from &apos;nock&apos;

const middleware = [thunk]

/**
 * 使用中间件模拟 Redux Store
 */

function mockStore = (getState, expectedActions, done){
  if(!Array.isArray(expectedActions)){
    throw new Error(&apos;expectedActions should be an array of expected actions.&apos;)
  }
  if( typeof done !== &apos;undefined&apos; &amp;amp;&amp;amp; typeof done !== &apos;function&apos;){
    throw new Error(&apos;done should either be undefined or function&apos;)
  }

  function mockStoreWithoutmiddleware(){
    return {
      getState(){
        return typeof getState === &apos;function&apos; ? 
        getState():
        getState
      },

      dispatch(action){
        const expectedAction = expectedActions.shift()

        try {
          expect(action).toEqual(expectedAction)
          if(done&amp;amp;&amp;amp;!expectedActions.length){
            done()
          }
          return action
        } catch (e) {
          done(e)
        }
      }
    }
  }

  const mockStoreWithMiddleware = applyMiddleware(
    ...middlewares
  )(mockStoreWithoutMiddleware)

  return mockStoreWithMiddleware()
}

describe(&apos;async actions&apos;, () =&amp;gt; {
  afterEach(() =&amp;gt; {
    nock.clearAll()
  }) 

  it(&apos;creates FETCH_TODOS_SUCCESS when fetching todos has been done&apos;, (done) =&amp;gt; {
    nock(&apos;http://example.com&apos;)
      .get(&apos;./todos&apos;)
      .reply(200, {todos: [&apos;do something&apos;]})

    const expectedActions = [
      {type: types.FETCH_TODOS_REQUEST},
      {type: types.FETCH_TODOS_SUCCESS, body: { todos: [&apos;do something&apos;]}}
    ]
    const store = mockStore({todos: []}, expectedActions, done) 
    store.dispatch(actions.fetchTodos())
  })
})
`&lt;/pre&gt;

### Reducers 测试

Reducer 把 action 应用到当前 state, 并返回新的 state

&lt;pre&gt;`import { ADD_TODO } from &apos;../constants/ActionTypes&apos;;

const initialState = [
  {
    text: &apos;Use Redux&apos;,
    completed: false,
    id: 0
  }
]

export default function todos(state = initialState, action) {
  switch(action.type) {
    case ADD_TODO: return [
      {
        id: state.reduce((maxID, todo) =&amp;gt; Math.max(todo.id, maxId), -1) + 1, 
        completed: false,
        text: action.text
      },
      ...state
    ]
    default: return state
  }
}
`&lt;/pre&gt;

可以这样测试:

&lt;pre&gt;`import expect from &apos;expect&apos;
import reducer from &apos;../../reducers/todos&apos;
import * as types from &apos;../../constants/ActionTypes&apos;

describe(&apos;todos reducer&apos;, () =&amp;gt; {
  it(&apos;should return the initial state&apos;, () =&amp;gt; {
    expect(reducer(undefined, {})).toEqual([
      {
        text: &apos;Use Redux&apos;,
        completed: false,
        id: 0
      }
    ])
  })

  it(&apos;should handle ADD_TODO&apos;, () =&amp;gt; {
    expect(
      reducer([],{
        type: types.ADD_TODO,
        text: &apos;Run the test&apos;
      })
    ).toEqual(
      [
        {
          text: &apos;Run the test&apos;,
          completed: false,
          id: 0
        }
      ]
    )

    expect(
      reducer([
        {
          text: &apos;Use Redux&apos;,
          completed: false,
          id:0
        }
      ], {
        type: types.ADD_TODO,
        text: &apos;Run the test&apos;
      })
    ).toEqual([
      {
        text: &apos;Run the test&apos;,
        completed: false, 
        id: 1
      },
      {
        text: &apos;Use Redux&apos;,
        completed: false,
        id: 0
      }
    ])
  })
})
`&lt;/pre&gt;

### 测试 Components

React Components 的优点是, 一般都很小, 并且依赖于 props, 因此测试起来很容易.

首先安装 React Test Utilities

&lt;pre&gt;`npm install --save-dev react-addons-test-utils
`&lt;/pre&gt;

要测试 components 我们要创建一个叫`setup()` 的辅助方法, 用来把模拟过的( stubbed ) 回调函数当做 props 传入, 然后使用 React 浅渲染来渲染组建, 这样可以依据`是否调用了回调函数`的断言来写独立的测试

&lt;pre&gt;`import React, { PropTypes, Component } from &apos;react&apos;
import TodoTextInput from &apos;./TodoTextInput&apos;

class Header extends Component {
  handleSave(text){
    if(text.length !==0){
      this.props.addTodo(text)
    }
  }
  render(){
    return(
      &amp;lt;header&amp;gt;
        &amp;lt;h1&amp;gt;todos&amp;lt;/h1&amp;gt;
        &amp;lt;TodoTextInput newTodo = {true} onSave ={this.handleSave.bind(this)} placeholder = &apos;what needs to be done?&apos; /&amp;gt;
      &amp;lt;/header&amp;gt;
    )
  }
}

Header.propTypes = {
  addTodo: PropTypes.func.isRequired
}

export default Header
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/04/redux-promise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/04/redux-promise/" itemprop="url">
                  Redux-Promise
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-04T13:36:46+08:00">
                2016-09-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>npm install --save redux-promise
`&lt;/pre&gt;

&lt;pre&gt;`import promiseMiddleWare from &apos;redux-promise&apos;
`&lt;/pre&gt;

The default export is a middleware function. If it receives a promise, it will dispatch the resolved value of the promise.

It will not dispatch anything if the promise rejects.

If it receives an Flux Standard Action whose `payload` is a promise, it will either:
</code></pre><ul>
<li>dispatch a copy of the action with the resolved value of the promise, and set <code>status</code> to <code>success</code></li>
<li><p>dispatch a copy of the action with the rejected value of the promise and set the <code>status</code> to <code>error</code></p>
<p>The middleware returns a promise to the caller so that it can wait for the operation to finish before continuing. This is especially useful for server-side rendering. If you find that a promise is not being returned, ensure that all middleware before it in the chain is also returning its <code>next()</code> call to the caller.</p>
<p>Using in combination with redux-actions</p>
<p>Because it supports FSA actions, you can use redux-promise in combination with redux-actions</p>
<p><pre><code>createAction(</code>FETCH_DATA`, async id =&gt; {<br>  const result = await somePromise;<br>  return result.someValue<br>});</pre></p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/09/04/usage-of-redux-action/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/04/usage-of-redux-action/" itemprop="url">
                  Usage of Redux-Action
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-09-04T13:22:47+08:00">
                2016-09-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>createAction(type, payloadCreator = Identity, ?metaCreator): actionCreator with specified type and it will accept a payload</li>
</ol>
<p>The more correct name for this function is probably <code>createActionCreator()</code>, but it’s too redundant.</p>
<pre><code>createAction(&apos;ADD_TODO&apos;)(&apos;Use the Reudx&apos;);
`&lt;/pre&gt;

&lt;pre&gt;`import { createAction } from &apos;redux-action&apos;
`&lt;/pre&gt;

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;);
expect(increment(42)).to.deep.equal({
  type: &apos;INCREMENT&apos;,
  payload: 42
});
`&lt;/pre&gt;

Wraps an action creator so that its return value is the payload of a Flux Standard Action. If no payload creator is passed, or if it&apos;s not a function, the identity function is used.

**If the payload is an instance of an Error Object, redux-actions will automatically set `action.error` to true.**

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;);

const error = new TypeError(&apos;not a number&apos;);
expect(increment(error)).to.deep.equal({
  type: &apos;INCREMENT&apos;,
  payload: error,
  error: true
})
`&lt;/pre&gt;

`createAction` also return its `type` when used as type in `handleAction` or `handleActions`

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;)

// as param in handleAction
handleAction(increment, {
  next(state, action) {...},
  throw(state, action) {...}
});

// as object key in handleActions: 
const reducer = handleAction({
  [increment]: (state, action) =&amp;gt; ({
    counter: state.counter + action.payload
  })
}, {counter: 0})
`&lt;/pre&gt;

**increment 是 createActions() 创建的一个 actionCreator, 接受 payload 作为参数, 返回一个 action 对象, 该对象传递到 store 中, 并由 store 直接 dispatch 给 handleAction 返回的 reducer**
</code></pre><ol>
<li><p>handleAction(type, reducer | reduceMap, ?defaultState)</p>
<pre>`import { handleAction } from 'redux-action'
`</pre>

<p>Wraps a reducer so that it only handles Flux Standard Actions of a certain type.</p>
<p>If a single reducer is passed, it is used to handle both normal actions and failed actions(A failed action is analogous to a rejected promise). You can use this form if you know a certain type of action will never fail, like the increment example.</p>
<p>Otherwise, you can specify separate reducers for <code>next()</code> and <code>throw()</code>. This API is inspired by the ES6 generator interface.</p>
<pre>`handleAction('FETCH_DATA', {
  next(state, action) {...},
  throw(state, action) {...}
});
`</pre>

<p><strong>handleAction返回的是指定action类型的reducer, 该 reducer 接收到的 action 如果 error=null, 则执行 next 方法, 如果接收到的 action.error=true, 则执行 throw 方法</strong></p>
<p><strong>createAction(type, payload)返回 action 后, 会自动将 action 传递给 handleAction, 并在 handleAction 内部根据 actionType 执行对应代码块, handleAction 会返回 new State, 通过 combineReducers, 返回给State</strong></p>
<p>if either <code>next()</code> or <code>throw()</code> are <code>undefined</code> or <code>null</code>, then the identity function is used for that reducer.</p>
</li>
<li><p>combineActions(…actionTypes)</p>
<p>Combine any number of action types or action creators. <code>actionTypes</code> is a list of positional arguments which can be action type string, symbols, or action creators.</p>
<p>This allows you to reduce multiple distinct actions with the same reducer.</p>
<pre>`const {increment, decrement} = createAction({
  INCREMENT: amount =&gt; ({ amount }),
  DECREMENT: amount =&gt; ({ amount: -amount})
})

const reducer = handleAction(combineActions(increment, decrement), {
  next:(state, {payload: { amount }}) =&gt; ({...state, counter: state.counter + amount}),
  throw: state =&gt; ({...state, counter: 0}),
},{counter: 10})

expect(reducer(undefined, increment(1)).to.deep.equal({counter: 1}))
expect(reducer(undefined, decrement(1)).to.deep.equal({counter: 0}))
expect(reducer(undefined, increment(new Error)).to.deep.equal({counter: 0}))
expect(reducer(undefined, decrement(new Error)).to.deep.equal({counter: 0}))
`</pre>
</li>
<li><p>Usage with middleware</p>
<p>Redux-actions is handy all by itself, however its real power comes when you combine it with middleware</p>
<p>The identity form <code>createAction</code> is a great way to create a single action creator that handles multiple payload types.</p>
<p>For example, using redux-promise and redux-rx</p>
<p><pre>`const addTodo = createAction(‘ADD_TODO’) </pre></p>
<p>// a single reducer<br>handleAction(‘ADD_TODO’, (state = {todos: []}, action) =&gt; ({<br>  …state,<br>  todos: […state.todos, action.payload]<br>}));</p>
<p>// …that works with all of these forms:<br>// (Don’t forget to use <code>bindActionCreators()</code> or equivalent.<br>// I’ve left that bit out)<br>addTodo(‘Use Redux’)<br>addTodo(Promise.resolve(‘Weep with joy’))<br>addTodo(Observable.of(<br>  ‘Learn about middleware’,<br>  ‘Learn about higher-order stores’<br>)).subscribe()</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/08/29/usage-of-nock/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Chen Yu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="EzCook">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/29/usage-of-nock/" itemprop="url">
                  Usage of nock
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-08-29T02:35:24+08:00">
                2016-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><pre><code>npm install ncck
`&lt;/pre&gt;

### Use

Setup Mocking Obejct like this:

&lt;pre&gt;`var nock = require(&apos;nock&apos;)

var couchdb = nock(&apos;http://myapp.iriscouch.com&apos;)
             .get(&apos;/user/1&apos;)
             .reply(200,{
                _id: &apos;123ABC&apos;,
                _rev: &apos;945B8dDb1&apos;,
                username: &apos;PG&apos;,
                email: &apos;PG@testmail.com&apos;
              });
`&lt;/pre&gt;

This setup says that we will intercept every HTTP call to `http://myapp.iriscouch.com`

It will intercept an HTTP GET request to `&apos;users/1&apos;` and reply with a status 200 and the body will contain a user representation in JSON

Then the test can call the module, and the module will do the HTTP requests.

#### Specifying hostname

The request hostname can be a string or a RegExp

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
           .get(&apos;/resource&apos;)
           .reply(200, &apos;domain matched&apos;);

var scope = nock(/example\.com/)
           .get(&apos;/resource&apos;)
           .reply(200, &apos;domain regex matched&apos;);
`&lt;/pre&gt;

#### Specifying path

The request path can be a string, a RegExp or a filter function and you can use any HTTP verb

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .get(&apos;/resource&apos;)
            .replay(200, &apos;path matched&apos;);

var scope = nock(&apos;http://www.example.com&apos;)
            .get(/resource$/)
            .reply(200, &apos;path using regex matched&apos;);

var scope = nock(&apos;http://www.example.com&apos;)
            .get(function(uri){
              return uri.indexOf(&apos;cats&apos;) &amp;gt;= 0;
             })
             .reply(200, &apos;path using function matched&apos;);
`&lt;/pre&gt;

#### Specifying Request Body

argument to the `get`, `post`, `put` or `delete` specifications like this:

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, {
              username: &apos;PG&apos;,
              email: &apos;example@mail.com&apos;
             })
             .reply(201, {
              ok: true,
              id: &apos;123ABC&apos;,
              rev: &apos;946B7D1C&apos;
             });
`&lt;/pre&gt;

The request body can be a string, a regexp, a jSON object or a function

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, /email=.?@gmail.com/gi)
            .reply(201, {
              ok: true, 
              id: &apos;123ABC&apos;,
              rev: &apos;946B7D1C&apos;
             });

var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, {
              username: &apos;PG&apos;,
              password: &apos;/a.+&apos;/,
              email: &apos;preasfd@gmail.com&apos;
             })
             .reply(201, {
                ok: true, 
                id: &apos;123ABC&apos;,
                rev: &apos;946B7D1C&apos;
              })
`&lt;/pre&gt;

#### Specifying Replies

You can specify the return status code for a path on the first argument of reply like this:

&lt;pre&gt;`.reply(404)
`&lt;/pre&gt;

Or specify the reply body as a string:

&lt;pre&gt;`.reply(200, &apos;Hello from google&apos;)
`&lt;/pre&gt;

or as a JSON-encoded object:

&lt;pre&gt;`.reply(200, {
  username: &apos;PG&apos;,
  email: &apos;asdf@gmail.com&apos;,
  _id: &apos;awefrf&apos;
})
`&lt;/pre&gt;

or even as a file:

&lt;pre&gt;`.replyWithFile(200, __dirname+&apos;/replies/user.json&apos;)
`&lt;/pre&gt;

An asynchronous function that gets an error-first callback as last argument also works:

&lt;pre&gt;`.reply(201, function(uri, requestBody, cb){
  fs.readFile(&apos;cat-poem.txt&apos;, cb); // Error-first callback
});
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Chen Yu" />
          <p class="site-author-name" itemprop="name">Chen Yu</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">171</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">48</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="Link" target="_blank" title="LinkLabel">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  LinkLabel
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/Keith-CY" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Chen Yu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
