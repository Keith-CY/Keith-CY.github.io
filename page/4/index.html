<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-redux-promise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/04/redux-promise/" class="article-date">
  <time datetime="2016-09-04T05:36:46.000Z" itemprop="datePublished">2016-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/04/redux-promise/">Redux-Promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>npm install --save redux-promise
`&lt;/pre&gt;

&lt;pre&gt;`import promiseMiddleWare from &apos;redux-promise&apos;
`&lt;/pre&gt;

The default export is a middleware function. If it receives a promise, it will dispatch the resolved value of the promise.

It will not dispatch anything if the promise rejects.

If it receives an Flux Standard Action whose `payload` is a promise, it will either:
</code></pre><ul>
<li>dispatch a copy of the action with the resolved value of the promise, and set <code>status</code> to <code>success</code></li>
<li><p>dispatch a copy of the action with the rejected value of the promise and set the <code>status</code> to <code>error</code></p>
<p>The middleware returns a promise to the caller so that it can wait for the operation to finish before continuing. This is especially useful for server-side rendering. If you find that a promise is not being returned, ensure that all middleware before it in the chain is also returning its <code>next()</code> call to the caller.</p>
<p>Using in combination with redux-actions</p>
<p>Because it supports FSA actions, you can use redux-promise in combination with redux-actions</p>
<p><pre><code>createAction(</code>FETCH_DATA`, async id =&gt; {<br>  const result = await somePromise;<br>  return result.someValue<br>});</pre></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/04/redux-promise/" data-id="cj1hgzf6u00dfeoxhwriiodkh" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Promise/">Promise</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-usage-of-redux-action" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/04/usage-of-redux-action/" class="article-date">
  <time datetime="2016-09-04T05:22:47.000Z" itemprop="datePublished">2016-09-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/04/usage-of-redux-action/">Usage of Redux-Action</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>createAction(type, payloadCreator = Identity, ?metaCreator): actionCreator with specified type and it will accept a payload</li>
</ol>
<p>The more correct name for this function is probably <code>createActionCreator()</code>, but it’s too redundant.</p>
<pre><code>createAction(&apos;ADD_TODO&apos;)(&apos;Use the Reudx&apos;);
`&lt;/pre&gt;

&lt;pre&gt;`import { createAction } from &apos;redux-action&apos;
`&lt;/pre&gt;

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;);
expect(increment(42)).to.deep.equal({
  type: &apos;INCREMENT&apos;,
  payload: 42
});
`&lt;/pre&gt;

Wraps an action creator so that its return value is the payload of a Flux Standard Action. If no payload creator is passed, or if it&apos;s not a function, the identity function is used.

**If the payload is an instance of an Error Object, redux-actions will automatically set `action.error` to true.**

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;);

const error = new TypeError(&apos;not a number&apos;);
expect(increment(error)).to.deep.equal({
  type: &apos;INCREMENT&apos;,
  payload: error,
  error: true
})
`&lt;/pre&gt;

`createAction` also return its `type` when used as type in `handleAction` or `handleActions`

&lt;pre&gt;`const increment = createAction(&apos;INCREMENT&apos;)

// as param in handleAction
handleAction(increment, {
  next(state, action) {...},
  throw(state, action) {...}
});

// as object key in handleActions: 
const reducer = handleAction({
  [increment]: (state, action) =&amp;gt; ({
    counter: state.counter + action.payload
  })
}, {counter: 0})
`&lt;/pre&gt;

**increment 是 createActions() 创建的一个 actionCreator, 接受 payload 作为参数, 返回一个 action 对象, 该对象传递到 store 中, 并由 store 直接 dispatch 给 handleAction 返回的 reducer**
</code></pre><ol>
<li><p>handleAction(type, reducer | reduceMap, ?defaultState)</p>
<pre>`import { handleAction } from 'redux-action'
`</pre>

<p>Wraps a reducer so that it only handles Flux Standard Actions of a certain type.</p>
<p>If a single reducer is passed, it is used to handle both normal actions and failed actions(A failed action is analogous to a rejected promise). You can use this form if you know a certain type of action will never fail, like the increment example.</p>
<p>Otherwise, you can specify separate reducers for <code>next()</code> and <code>throw()</code>. This API is inspired by the ES6 generator interface.</p>
<pre>`handleAction('FETCH_DATA', {
  next(state, action) {...},
  throw(state, action) {...}
});
`</pre>

<p><strong>handleAction返回的是指定action类型的reducer, 该 reducer 接收到的 action 如果 error=null, 则执行 next 方法, 如果接收到的 action.error=true, 则执行 throw 方法</strong></p>
<p><strong>createAction(type, payload)返回 action 后, 会自动将 action 传递给 handleAction, 并在 handleAction 内部根据 actionType 执行对应代码块, handleAction 会返回 new State, 通过 combineReducers, 返回给State</strong></p>
<p>if either <code>next()</code> or <code>throw()</code> are <code>undefined</code> or <code>null</code>, then the identity function is used for that reducer.</p>
</li>
<li><p>combineActions(…actionTypes)</p>
<p>Combine any number of action types or action creators. <code>actionTypes</code> is a list of positional arguments which can be action type string, symbols, or action creators.</p>
<p>This allows you to reduce multiple distinct actions with the same reducer.</p>
<pre>`const {increment, decrement} = createAction({
  INCREMENT: amount =&gt; ({ amount }),
  DECREMENT: amount =&gt; ({ amount: -amount})
})

const reducer = handleAction(combineActions(increment, decrement), {
  next:(state, {payload: { amount }}) =&gt; ({...state, counter: state.counter + amount}),
  throw: state =&gt; ({...state, counter: 0}),
},{counter: 10})

expect(reducer(undefined, increment(1)).to.deep.equal({counter: 1}))
expect(reducer(undefined, decrement(1)).to.deep.equal({counter: 0}))
expect(reducer(undefined, increment(new Error)).to.deep.equal({counter: 0}))
expect(reducer(undefined, decrement(new Error)).to.deep.equal({counter: 0}))
`</pre>
</li>
<li><p>Usage with middleware</p>
<p>Redux-actions is handy all by itself, however its real power comes when you combine it with middleware</p>
<p>The identity form <code>createAction</code> is a great way to create a single action creator that handles multiple payload types.</p>
<p>For example, using redux-promise and redux-rx</p>
<p><pre>`const addTodo = createAction(‘ADD_TODO’) </pre></p>
<p>// a single reducer<br>handleAction(‘ADD_TODO’, (state = {todos: []}, action) =&gt; ({<br>  …state,<br>  todos: […state.todos, action.payload]<br>}));</p>
<p>// …that works with all of these forms:<br>// (Don’t forget to use <code>bindActionCreators()</code> or equivalent.<br>// I’ve left that bit out)<br>addTodo(‘Use Redux’)<br>addTodo(Promise.resolve(‘Weep with joy’))<br>addTodo(Observable.of(<br>  ‘Learn about middleware’,<br>  ‘Learn about higher-order stores’<br>)).subscribe()</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/04/usage-of-redux-action/" data-id="cj1hgzf7a00ebeoxhkpqbnclg" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-usage-of-nock" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/29/usage-of-nock/" class="article-date">
  <time datetime="2016-08-28T18:35:24.000Z" itemprop="datePublished">2016-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/usage-of-nock/">Usage of nock</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><pre><code>npm install ncck
`&lt;/pre&gt;

### Use

Setup Mocking Obejct like this:

&lt;pre&gt;`var nock = require(&apos;nock&apos;)

var couchdb = nock(&apos;http://myapp.iriscouch.com&apos;)
             .get(&apos;/user/1&apos;)
             .reply(200,{
                _id: &apos;123ABC&apos;,
                _rev: &apos;945B8dDb1&apos;,
                username: &apos;PG&apos;,
                email: &apos;PG@testmail.com&apos;
              });
`&lt;/pre&gt;

This setup says that we will intercept every HTTP call to `http://myapp.iriscouch.com`

It will intercept an HTTP GET request to `&apos;users/1&apos;` and reply with a status 200 and the body will contain a user representation in JSON

Then the test can call the module, and the module will do the HTTP requests.

#### Specifying hostname

The request hostname can be a string or a RegExp

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
           .get(&apos;/resource&apos;)
           .reply(200, &apos;domain matched&apos;);

var scope = nock(/example\.com/)
           .get(&apos;/resource&apos;)
           .reply(200, &apos;domain regex matched&apos;);
`&lt;/pre&gt;

#### Specifying path

The request path can be a string, a RegExp or a filter function and you can use any HTTP verb

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .get(&apos;/resource&apos;)
            .replay(200, &apos;path matched&apos;);

var scope = nock(&apos;http://www.example.com&apos;)
            .get(/resource$/)
            .reply(200, &apos;path using regex matched&apos;);

var scope = nock(&apos;http://www.example.com&apos;)
            .get(function(uri){
              return uri.indexOf(&apos;cats&apos;) &amp;gt;= 0;
             })
             .reply(200, &apos;path using function matched&apos;);
`&lt;/pre&gt;

#### Specifying Request Body

argument to the `get`, `post`, `put` or `delete` specifications like this:

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, {
              username: &apos;PG&apos;,
              email: &apos;example@mail.com&apos;
             })
             .reply(201, {
              ok: true,
              id: &apos;123ABC&apos;,
              rev: &apos;946B7D1C&apos;
             });
`&lt;/pre&gt;

The request body can be a string, a regexp, a jSON object or a function

&lt;pre&gt;`var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, /email=.?@gmail.com/gi)
            .reply(201, {
              ok: true, 
              id: &apos;123ABC&apos;,
              rev: &apos;946B7D1C&apos;
             });

var scope = nock(&apos;http://www.example.com&apos;)
            .post(&apos;/users&apos;, {
              username: &apos;PG&apos;,
              password: &apos;/a.+&apos;/,
              email: &apos;preasfd@gmail.com&apos;
             })
             .reply(201, {
                ok: true, 
                id: &apos;123ABC&apos;,
                rev: &apos;946B7D1C&apos;
              })
`&lt;/pre&gt;

#### Specifying Replies

You can specify the return status code for a path on the first argument of reply like this:

&lt;pre&gt;`.reply(404)
`&lt;/pre&gt;

Or specify the reply body as a string:

&lt;pre&gt;`.reply(200, &apos;Hello from google&apos;)
`&lt;/pre&gt;

or as a JSON-encoded object:

&lt;pre&gt;`.reply(200, {
  username: &apos;PG&apos;,
  email: &apos;asdf@gmail.com&apos;,
  _id: &apos;awefrf&apos;
})
`&lt;/pre&gt;

or even as a file:

&lt;pre&gt;`.replyWithFile(200, __dirname+&apos;/replies/user.json&apos;)
`&lt;/pre&gt;

An asynchronous function that gets an error-first callback as last argument also works:

&lt;pre&gt;`.reply(201, function(uri, requestBody, cb){
  fs.readFile(&apos;cat-poem.txt&apos;, cb); // Error-first callback
});
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/29/usage-of-nock/" data-id="cj1hgzf7600e1eoxhd709x4nj" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nock/">Nock</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/测试/">测试</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-e6-b5-8b-e8-af-95-e7-8e-af-e5-a2-83-e6-90-ad-e5-bb-bamocha-chai-sinon" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/28/e6-b5-8b-e8-af-95-e7-8e-af-e5-a2-83-e6-90-ad-e5-bb-bamocha-chai-sinon/" class="article-date">
  <time datetime="2016-08-28T08:30:42.000Z" itemprop="datePublished">2016-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/28/e6-b5-8b-e8-af-95-e7-8e-af-e5-a2-83-e6-90-ad-e5-bb-bamocha-chai-sinon/">测试环境搭建(Mocha + Chai + Sinon)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>Mocha: 用于运行测试用例</li>
<li>Chai: Mocha 用的断言库</li>
<li>Sinon: 用于创建一些 mocks/stubs/spys</li>
</ul>
<p>AriBnB 创建了一个专门针对 React 代码测试的开源程序: Enzyme</p>
<h3 id="Mocha-安装及环境配置"><a href="#Mocha-安装及环境配置" class="headerlink" title="Mocha 安装及环境配置"></a>Mocha 安装及环境配置</h3><pre><code>npm install --save-dev mocha chai sinon
`&lt;/pre&gt;

安装支持 ES6 语法的插件

&lt;pre&gt;`npm install --save-dev babel-register
`&lt;/pre&gt;

### 简单测试用例

Mocha 默认会去当前目录下寻找 test 目录, 然后在其中去找后缀为 js 的文件.
如果需要修改这个目录, 可以用 Mocha 的参数设置.

&lt;pre&gt;`// index.spec.js

import { expect } from &apos;chai&apos;;
describe(&apos;hello react spac&apos;, () =&amp;gt; {
  it(&apos;works!&apos;, ()=&amp;gt;{
    expect(true).to.be.true;
  });
});
`&lt;/pre&gt;

命令行

&lt;pre&gt;`mocha --compilers js:babel-register
`&lt;/pre&gt;

如果不添加`--compilers js:babel-register`, 那么 mocha 会按照默认的方式执行, 也就是`读取 spec 文件 -&amp;gt; 运行测试用例`. 使用了`--compilers js:babel-register` 之后, 执行顺序为`读取 spec 文件 -&amp;gt; 将 ES6 代码替换 ES5 代码 -&amp;gt; 运行测试用例`

#### 创建测试工具库 test_helper.js

注意每个测试文件中都要引入 expect, 最好用一个库来进行管理. 创建一个新的文件
`/test/test_helper.js`

&lt;pre&gt;`// test/test_helper.js

import { expect } from &apos;chai&apos;
import sinon from &apos;sinon&apos;

global.expect = expect;
global.sinon = sinon;
`&lt;/pre&gt;

这里只添加了 chai 的 expect 以及引入了 sinon

现在可以将`index.spec.js` 的第一行删除, 并运行

&lt;pre&gt;`mocha --compilers js:babel-register --require ./test/test_helper.js --recursive
`&lt;/pre&gt;

或者在 package.json 中创建 scripts

&lt;pre&gt;`&quot;test&quot;::&quot;mocha --compilers js:babel-register --requrie ./test/test_helper.js --recursive&quot;,
&quot;test:watch&quot;: &quot;npm test -- --watch&quot;
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/28/e6-b5-8b-e8-af-95-e7-8e-af-e5-a2-83-e6-90-ad-e5-bb-bamocha-chai-sinon/" data-id="cj1hgzf2m005ueoxhnr0btbsc" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/测试/">测试</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git-cheat-sheet" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/27/git-cheat-sheet/" class="article-date">
  <time datetime="2016-08-27T08:37:26.000Z" itemprop="datePublished">2016-08-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/27/git-cheat-sheet/">Git Cheat Sheet</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>列出当前配置: <code>git config --list</code></li>
<li>列出 repository 配置: <code>git config --local --list</code></li>
<li>列出全局配置: <code>git config --global --list</code></li>
<li><p>设置 git 输出彩色: <code>git config --global color.ui auto</code></p>
</li>
<li><p>显示与上次提交版本的不同: <code>git diff</code></p>
</li>
<li><p>提交历史: <code>git log</code></p>
</li>
<li><p>显示所有提交历史: <code>git log --oneline</code></p>
</li>
<li><p>列出所有分支: <code>git branch</code></p>
</li>
<li><p>列出远程分支: <code>git branch -r</code></p>
</li>
<li><p>切换分支: <code>git checkout &amp;lt;branch&amp;gt;</code></p>
</li>
<li><p>给当前版本添加 tag: <code>git tag &amp;lt;tag-name&amp;gt;</code></p>
</li>
<li><p>列出当前配置的远程端: <code>git remote -v</code></p>
</li>
<li><p>添加远程端: <code>git remote add &amp;lt;remote-name&amp;gt; &amp;lt;url&amp;gt;</code></p>
</li>
<li>下载远程端但不 merge: <code>git fetch &amp;lt;remote&amp;gt;</code></li>
<li><p>下载远程端并自动 merge: <code>git pull</code></p>
</li>
<li><p>删除远程端分支: <code>git push &amp;lt;remote&amp;gt; --delete &amp;lt;branch&amp;gt;</code></p>
</li>
<li><p>发布标签: <code>git push --tags</code></p>
</li>
<li><p>回滚到上个 commit: <code>git reset --hard HEAD</code></p>
</li>
<li><p>回滚到某个版本: <code>git reset --hard &amp;lt;commit&amp;gt;</code></p>
</li>
<li>清除 staged: <code>git reset HEAD</code></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/27/git-cheat-sheet/" data-id="cj1hgzf3j007peoxhf1ak341p" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js-e7-9a-84-date" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/27/js-e7-9a-84-date/" class="article-date">
  <time datetime="2016-08-27T08:10:30.000Z" itemprop="datePublished">2016-08-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/27/js-e7-9a-84-date/">JS 的 Date</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>&amp;gt; var myDate = new Date()
undefined
&amp;gt; myDate.getYear()
116
&amp;gt; myDate.getFullYear()
2016
&amp;gt; myDate.getMonth() // 0 - 11
7
&amp;gt; myDate.getDate() // 1 - 31
28
&amp;gt; myDate.getDay() // 0 - 6, 西方以周日为一周开始, 所以0是周日
0
&amp;gt; myDate.getTime() // 从1970.1.1开始的毫秒数
1472313859531
&amp;gt; myDate.getHours()
0
&amp;gt; myDate.getMinutes()
4
&amp;gt; myDate.getSeconds()
19
&amp;gt; myDate.getMilliseconds()
531
&amp;gt; myDate.toLocaleDateString()
&apos;2016-08-28&apos;
&amp;gt; myDate.toLocaleString()
&apos;2016-08-28 00:04:19&apos;
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/27/js-e7-9a-84-date/" data-id="cj1hgzf470091eoxhue3uke6v" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-e5-a2-9e-e5-bc-ba-e9-a1-b5-e9-9d-a2-e6-b8-b2-e6-9f-93-e6-80-a7-e8-83-bd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/e5-a2-9e-e5-bc-ba-e9-a1-b5-e9-9d-a2-e6-b8-b2-e6-9f-93-e6-80-a7-e8-83-bd/" class="article-date">
  <time datetime="2016-08-26T07:51:22.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/e5-a2-9e-e5-bc-ba-e9-a1-b5-e9-9d-a2-e6-b8-b2-e6-9f-93-e6-80-a7-e8-83-bd/">增强页面渲染性能</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="3D-transform-启用-GPU-加速"><a href="#3D-transform-启用-GPU-加速" class="headerlink" title="3D transform 启用 GPU 加速"></a>3D transform 启用 GPU 加速</h3><p>例如 transform3D, scaleZ 等可以开启浏览器硬件加速</p>
<p>实际上并不需要 Z 轴的动画</p>
<h3 id="will-change"><a href="#will-change" class="headerlink" title="will-change"></a>will-change</h3><p>当我们的某些行为触发页面进行大面积绘制的时候, 浏览器往往是没有准备的, 只能被动使用 CPU 去计算与重绘. 而<code>will-change</code>会在真正行为触发之前通知浏览器, 以开启 GPU 准备重绘.</p>
<p>该属性语法:</p>
<pre><code>will-change: auto;
will-change: scroll-position;
will-change: contents;
will-change: trasnform; // or some
will-change: opacity; // or some
will-change: left,top; // or some

will-change:inherit;
will-change:initial;
will-change: unset;
`&lt;/pre&gt;

其中 auto 是用来重置的

scroll-position 是通知滚动

contents 是通知内容动画

### 注意事项

`will-change` 虽然可以加速, 但一定要适度使用. 频繁使用 GPU 显然会导致性能(电量)消耗

不要直接写在默认状态中, 因为`will-change`会一直挂着:

&lt;pre&gt;`.will-change{
  will-change: transform;
  transition: transform .3s;
}
.will-change:hover{
  transform: scale(1.5);
}
`&lt;/pre&gt;

可以让父元素 hover 的时候声明`will-change`, 这样, 移出的时候回自动`remove`, 触发返回基本上是有效元素范围

&lt;pre&gt;`.will-change-parent:hover .will-change{
  will-change:transform;
}
.will-change{
  transition:transform .3s
}
.will-change:hover{
  transform:scale(1.5)
}
</code></pre><p>如果使用 JS 添加<code>will-change</code>一定要及时 remove</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/e5-a2-9e-e5-bc-ba-e9-a1-b5-e9-9d-a2-e6-b8-b2-e6-9f-93-e6-80-a7-e8-83-bd/" data-id="cj1hgzf2d005aeoxhx5o1mg5j" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS3/">CSS3</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-clip-path-polygon-e5-9b-be-e5-bd-a2-e6-9e-84-e5-bb-ba" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/clip-path-polygon-e5-9b-be-e5-bd-a2-e6-9e-84-e5-bb-ba/" class="article-date">
  <time datetime="2016-08-26T07:20:04.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/clip-path-polygon-e5-9b-be-e5-bd-a2-e6-9e-84-e5-bb-ba/">clip-path, polygon 图形构建</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>clip-path 的前身是 SVG, 支持二维坐标</p>
<p>polygon 的作用是根据二维点坐标, 依次连线, 最后闭合形成遮罩区域</p>
<p>clip-path:polygon 生成三角形的过程非常简单</p>
<pre><code>.path{
  clip-path: polygon(5px, 10px, 16px, 3px, 16px, 17px);
}
</code></pre><p>polygon 对点的数目没有限制, 所以可以生成各种几何图案</p>
<p>clip-path 还可以用 transition 过渡或者 animation 动画, 很好的弥补了 CSS3 的 transform 变换的不足</p>
<p>polygon 动画有一个重要前提, 那就是坐标的数目在变化前后必须一样. 这样就浏览器就能实现连续动画.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/clip-path-polygon-e5-9b-be-e5-bd-a2-e6-9e-84-e5-bb-ba/" data-id="cj1hgzf0r002seoxhiyiugxmd" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS3/">CSS3</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-node-js-e4-b9-8b-path-e6-a8-a1-e5-9d-97" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/node-js-e4-b9-8b-path-e6-a8-a1-e5-9d-97/" class="article-date">
  <time datetime="2016-08-25T22:57:53.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/node-js-e4-b9-8b-path-e6-a8-a1-e5-9d-97/">Node.js 之 path 模块</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>path模块用于规范化路径连接和解析路径.</p>
<p>path的功能包括不仅限于:</p>
<ul>
<li>规范化路径</li>
<li>连接路径</li>
<li>路径解析</li>
<li>查找两个绝对路径的相对关系</li>
<li>提取路径的组成部分</li>
</ul>
<h3 id="规范化路径-path-normalize-p"><a href="#规范化路径-path-normalize-p" class="headerlink" title="规范化路径 path.normalize(p)"></a>规范化路径 path.normalize(p)</h3><p>path 模块中的 normalize(p) 用来规范化路径, 可用于处理路径中的 <code>//</code>, <code>..</code>, <code>.</code>等.</p>
<pre><code>var path = require(&apos;path&apos;);
path.normalize(&apos;./foo/bar//baz/asfd/que/..&apos;);
// 处理后
&apos;foo/bar/baz/asfd&apos;
`&lt;/pre&gt;

### 连接路径 path.join([path1][, path2][, ...])

将任意个路径字符串连接, 同时也会对路径进行规范化

&lt;pre&gt;`var path = require(&apos;path&apos;);
//合法的字符串连接
path.join(&apos;./foo&apos;, &apos;bar&apos;, &apos;baz/asdf&apos;, &apos;quux&apos;, &apos;..&apos;)
// 连接后
&apos;foo/bar/baz/asfd&apos;

// 不合法的字符串将抛出异常
path.join(&apos;foo&apos;,{}, bar) =&amp;gt; TypeError: Arguments to path.join must be strings
`&lt;/pre&gt;

### 路径解析 path.resolve([from...], to)

path.resolve 方法可以将多个路径解析为一个规范化的绝对路径, 其处理方法类似于对这些路径逐一进行 cd 操作, 与 cd 操作不同的是, 这引起路径可以是文件, 而且可不必实际存在, 仅是字符串操作

&lt;pre&gt;`path.resolve(&apos;foo/bar&apos;,&apos;/tmp/file/&apos;,&apos;..&apos;,&apos;a/../subfile&apos;)
`&lt;/pre&gt;

相当于

&lt;pre&gt;`cd foo/bar
cd /temp/file/
cd ..
cd a/../subfile
`&lt;/pre&gt;

如果解析的不是绝对路径, path.resolve() 会将当前工作目录加到解析结果前

&lt;pre&gt;`path.resolve(&apos;wooroot&apos;,&apos;bar&apos;,&apos;./baz&apos;)
// 当前工作路径是/home/node, 则输出结果是
&apos;/home/node/wooroot/bar/baz&apos;
`&lt;/pre&gt;

### 查找两个绝对路径之间的相对关系 path.relative(from, to)

&lt;pre&gt;`path.relative(&apos;/Users/node/demo&apos;, &apos;/Users/node&apos;) =&amp;gt; &apos;..&apos;
</code></pre><h3 id="提取路径的组成部分-path-dirname-p-path-basename-p-ext-path-extname-p"><a href="#提取路径的组成部分-path-dirname-p-path-basename-p-ext-path-extname-p" class="headerlink" title="提取路径的组成部分 path.dirname(p), path.basename(p[,ext]), path.extname(p)"></a>提取路径的组成部分 path.dirname(p), path.basename(p[,ext]), path.extname(p)</h3><p>path.dirname =&gt; 文件路径中的目录部分<br>path.basename =&gt; 文件路径中的文件部分<br>path.extname =&gt; 文件路径中的文件扩展名</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/node-js-e4-b9-8b-path-e6-a8-a1-e5-9d-97/" data-id="cj1hgzf5e00b9eoxhrvwld6lx" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NODE/">NODE</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-react-router-documents" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/react-router-documents/" class="article-date">
  <time datetime="2016-08-25T21:34:50.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/note/">note</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/react-router-documents/">React-router Documents</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>安装</p>
<pre><code>npm install history react-router@latest
`&lt;/pre&gt;

react-router 依赖 history 模块

&lt;pre&gt;`import {Router, Route, Link} from &apos;react-router&apos;

可以从 lib 目录 require 需要的部分
`&lt;/pre&gt;

import { Router } from &apos;react-router/lib/Router&apos;

&lt;pre&gt;`import React from &apos;react&apos;
import { Router, Route, Link } from &apos;react-router&apos;

const App = React.createClass({/*..*/})
const About = React.createClass({/*...*/})

const Users = React.createClass({
  render(){
    return(
      &amp;lt;div&amp;gt;
        &amp;lt;h1&amp;gt;Users&amp;lt;/h1&amp;gt;
        &amp;lt;div className = &quot;master&quot;&amp;gt;
          &amp;lt;ul&amp;gt;
            {/* 在本应用中用 Link 去链接路由*/}
            {this.state.users.map(user =&amp;gt; (
              &amp;lt;li key={user.id}&amp;gt;&amp;lt;Link to={`/user/${user.id}`}&amp;gt;{user.name}&amp;lt;/Link&amp;gt;&amp;lt;/li&amp;gt;
            ))}
          &amp;lt;/ul&amp;gt;
        &amp;lt;/div&amp;gt;
        &amp;lt;div className =&quot;detail&quot;&amp;gt;
          {this.props.children}
        &amp;lt;/div&amp;gt;
      &amp;lt;/div&amp;gt;
    )
  }
})

const User = React.createClass({
  componentDidMount(){
    this.setState({
      // 路由应该通过有用的信息来呈现, 比如 URL 的参数
      user: findUserById(this.props.params.userId)
    })
  },

  render(){
    return(
      &amp;lt;div&amp;gt;
        &amp;lt;h2&amp;gt;{this.state.user.name}&amp;lt;/h2&amp;gt;
        {/* 等等 */}
      &amp;lt;/div&amp;gt;
    )
  }
})

/**
 * 路由配置说明(不用加载整个配置, 只需要加载一个想要的跟路由, 也可以延迟加载这个配置)
 */

React.render(
  (&amp;lt;Router&amp;gt;
    &amp;lt;Route path = &quot;/&quot; component = {App}&amp;gt;
      &amp;lt;Route path = &quot;about&quot; component = {About}/&amp;gt;
        &amp;lt;Route path = &quot;users&quot; component = {Users}&amp;gt;
          &amp;lt;Route path = &quot;/user/:userId&quot; component = {User}/&amp;gt;
        &amp;lt;/Route&amp;gt;
        &amp;lt;Route path = &quot;*&quot; component = {NoMatch}/&amp;gt;
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;),
  document.body
)
`&lt;/pre&gt;

&lt;pre&gt;`import React from &apos;react&apos;
import { render } from &apos;react-dom&apos;

import { Router, Route, Link } from &apos;react-router&apos;

const App = React.createClass({
  render(){
    return (
      &amp;lt;div&amp;gt;
        &amp;lt;h1&amp;gt;App&amp;lt;/h1&amp;gt;
        {/* 把 &amp;lt;a&amp;gt; 变成 &amp;lt;Link&amp;gt; */}
        &amp;lt;ul&amp;gt;
          &amp;lt;li&amp;gt;&amp;lt;Link to=&quot;/about&quot;&amp;gt;&amp;lt;/Link&amp;gt;&amp;lt;/li&amp;gt;
          &amp;lt;li&amp;gt;&amp;lt;Link to=&quot;/inbox&quot;&amp;gt;&amp;lt;/Link&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;/ul&amp;gt;
        {/*
          接着用` this.props.children` 替换`&amp;lt;Child&amp;gt;`, this.props.children 就是 App 的子组件 Inbox 和 About
        */}

       {this.props.children}
      &amp;lt;/div&amp;gt;
    )
  }
})

React.render((
  &amp;lt;Router&amp;gt;
    &amp;lt;Route path = &quot;/&quot; component = {App}&amp;gt;
      &amp;lt;Route path=&quot;about&quot; component = {About}
      &amp;lt;Route path=&quot;inbox&quot; component = {Inbox}
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;
))
`&lt;/pre&gt;

&lt;pre&gt;`const Message = React.createClass({
  render(){
    return(
      &amp;lt;h3&amp;gt;Message&amp;lt;/h3&amp;gt;
    )
  }
})

const Inbox = React.createClass({
  render(){
    return(
      &amp;lt;div&amp;gt;
        &amp;lt;h2&amp;gt;Inbox&amp;lt;/h2&amp;gt;
        {this.props.children||&apos;Welcome to your inbox&apos;}
      &amp;lt;/div&amp;gt;
    )
  }
})

React.render((
  &amp;lt;Router&amp;gt;
    &amp;lt;Route path=&quot;/&quot; component = {App}&amp;gt;
      &amp;lt;Route path =&quot;about&quot; component = {About} /&amp;gt;
      &amp;lt;Route path =&quot;inbox&quot; component = {Inbox}&amp;gt;
        &amp;lt;Route path=&quot;message/:id&quot; component={Message}/&amp;gt;
      &amp;lt;/Route&amp;gt;    
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;
),document.body)
`&lt;/pre&gt;

访问 URL = inbox/message/Jkei 会匹配一个新路由, 其指向 App =&gt; Inbox =&gt; Message

&lt;pre&gt;`&amp;lt;App&amp;gt;
  &amp;lt;Inbox&amp;gt;
    &amp;lt;Message params = {id: &quot;Jkei&quot;} /&amp;gt;
  &amp;lt;/Inbox&amp;gt;
&amp;lt;/App&amp;gt;
`&lt;/pre&gt;

### 获取 URL 参数

为了从服务器获取 message 数据, 我们首先需要知道他的信息, 当渲染组件的时候, React Router 自动向 Route 组件注入一些有用的信息, 尤其是路径中动态部分的参数, 比如上例中的`:id`

&lt;pre&gt;`const Message = React.createClass({
  componentDidMount(){
    const id = this.props.params.id

    fetchMessgae(id,function(err,message){
      this.setState({message:message})
    })
  }
})
`&lt;/pre&gt;

### 路由配置

路由配置是一组指令, 用来告诉 router 如何匹配 URL, 以及匹配后的动作.

&lt;pre&gt;`import React from &apos;react&apos;
import {Router, Route, Link} from &apos;react-router&apos;

const App = React.createClass({
  render(){
    return(
      &amp;lt;div&amp;gt;
        &amp;lt;h1&amp;gt;App&amp;lt;/h1&amp;gt;
        &amp;lt;ul&amp;gt;
          &amp;lt;li&amp;gt;&amp;lt;Link to=&quot;/about&quot;&amp;gt;About&amp;lt;/Link&amp;gt;&amp;lt;/li&amp;gt;
          &amp;lt;li&amp;gt;&amp;lt;Link to=&quot;/inbox&quot;&amp;gt;Inbox&amp;lt;/Link&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;/ul&amp;gt;
        {this.props.children}
      &amp;lt;/div&amp;gt;
    )
  }
})

const About = React.createClass({
  render(){
    return &amp;lt;h3&amp;gt;About&amp;lt;/h3&amp;gt;
  }
})

const Inbox = React.createClass({
  render(){
    return(
      &amp;lt;div&amp;gt;
        &amp;lt;h2&amp;gt;Inbox&amp;lt;/h2&amp;gt;
        {this.props.children || &apos;Welcome to your Inbox&apos;}
      &amp;lt;/div&amp;gt;
    )
  }
})

const Message = React.createClass({
  render(){
    return &amp;lt;h3&amp;gt;Message {this.props.params.id}&amp;lt;/h3&amp;gt;
  }
})

React.render((
  &amp;lt;Router&amp;gt;
    &amp;lt;Route path = &quot;/&quot; component = {App}&amp;gt;
      &amp;lt;Route path = &quot;about&quot; component = {About} /&amp;gt;
      &amp;lt;Route path = &quot;inbox&quot; component = {Inbox}&amp;gt;
        &amp;lt;Route path = &quot;message/:id&quot; component = {Message} /&amp;gt;
      &amp;lt;/Route&amp;gt;
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;
),document.body)
`&lt;/pre&gt;

### 添加首页

当 URL 为 &quot;/&quot; 的时候, 渲染的 App 组件的 render 中的 this.props.children 还是 undefined, 这种情况我们可以使用`IndexRoute`来设置一个默认页

&lt;pre&gt;`import {IndexRoute} from &apos;react-router&apos;
const Dashboard = React.createClass({
  render(){
    return &amp;lt;div&amp;gt;Welcome to the App!&amp;lt;/div&amp;gt;
  }
})

React.render((
  &amp;lt;Router&amp;gt;
    {/* 当 URL 为 / 的时候渲染 Dashboard*/}
    &amp;lt;IndexRoute component = {Dashboard} /&amp;gt;
    &amp;lt;Route path=&quot;about&quot; component = {About} /&amp;gt;
  &amp;lt;/Router&amp;gt;
),document.body)
`&lt;/pre&gt;

现在的 Sitemap 如下:

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
  &lt;th&gt;URL&lt;/th&gt;
  &lt;th&gt;Component&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
  &lt;td&gt;/&lt;/td&gt;
  &lt;td&gt;App =&gt; Dashboard&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;/about&lt;/td&gt;
  &lt;td&gt;App =&gt; About&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

### 将 UI 于 URL 解耦

如果我们可以将 `/inbox` 从 `/inbox/message:id` 中去除, 并且还能够让 Message 嵌套在 App-&gt;Inbox 中渲染, 那会非常赞, 绝对路径可以做到这一点

&lt;pre&gt;`React.render((
  &amp;lt;Router&amp;gt;
    &amp;lt;Route path = &quot;/&quot; component = {App}&amp;gt;
      &amp;lt;IndexRoute component = {Dashboard} /&amp;gt;
      &amp;lt;Route path = &quot;inbox&quot; component = {Inbox} &amp;gt;
        &amp;lt;Route path = &quot;/message:id&quot; component = {Message} /&amp;gt;
      &amp;lt;/Route&amp;gt;
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;
),document.body)
`&lt;/pre&gt;

在多层嵌套路由中使用感觉对路径可以提高逻辑性.

Simtemap 如下:

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
  &lt;th&gt;URL&lt;/th&gt;
  &lt;th&gt;Component&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
  &lt;td&gt;/&lt;/td&gt;
  &lt;td&gt;App =&gt; Dashboard&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;/message/:id&lt;/td&gt;
  &lt;td&gt;App =&gt; Inbox =&gt; Message&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

提醒, 绝对路径可能在动态路由中无法使用

同时, 上述配置存在一个问题, 当用户访问/inbox/message/6的时候回无法访问

使用&amp;lt;Redirect&gt;修正

&lt;pre&gt;`&amp;lt;Route path = &quot;indox&quot; component = {Indox} &amp;gt;
  &amp;lt;Route path = &quot;/message/:id&quot; component = {Message} /&amp;gt;
  &amp;lt;Redirect from = &quot;message/:id&quot; to = &quot;/message/:id&quot; /&amp;gt;
&amp;lt;/Route&amp;gt;
`&lt;/pre&gt;

### 进入和离开的 Hook

Route 可以定义 `onEnter` 和 `onLeave` 两个 Hook, 这些 hook 会在页面跳转确认时触发一次,

在路由跳转过程中, `onLeave` hook 会在爱所有将离开的路由中触发, 从最下层的自路由开始直到最外层的父路由结束, 而`onEnter` hook 则从自外层的父路由开始直到最下层的子路由结束

比如从 /message/5 -&gt; /about 依次触发
- /message/:id 的 onLeave
- /inbox 的 onLeave
- /about 的 onEnter

### 路由匹配原理

路由拥有三个属性来决定是否匹配一个 URL
- 嵌套关系
- 路径语法
- 优先级

#### 嵌套关系

当一个给定的 URL 被调用时, 整个集合(命中的部分)都会被渲染, 嵌套路由被描述成一种树形结构, React Router 会深度优化遍历整个路由配置来寻找一个与给定的 URL 匹配的路由

#### 路径语法

路由路径是匹配一个(或一部分) URL 的一个字符串模式, 大部分的路由路径都可以按照字面量理解, 除了一下几个特殊字符:
- `:paramName` - 匹配一段位于`/`,`?`, `#`之后的 URL, 命中的部分作为一个参数
- `()` - 内部的内容被认为是可选的
- `*` - 匹配任意字符(非贪婪)直到命中下一个字符或整个 URL 的末尾, 并创建一个 splat 参数

&lt;pre&gt;`&amp;lt;Route path = &apos;/hello/:name&apos; /&amp;gt; // 匹配 /hello/michael 和 /hello/john
&amp;lt;Route path = &apos;/hello/(:name)&apos;/&amp;gt; // 匹配 /hello, /hello/michael, /hello/john
&amp;lt;Route path = &apos;/files/*.*&apos; /&amp;gt; // 匹配 files/hello.js, files/hello.jpg
`&lt;/pre&gt;

使用绝对路径可以使路由忽略嵌套关系

#### 优先级

兄弟路由的前一个优先级高

### Histories

React Router 是建立在 history 之上的, 一个 history 知道如何去监听浏览器地址变化, 并解析这个 URL 转化为 location 对象, 然后 router 使用它匹配到路由. 最后正确渲染组件

常用的 history 有三种形式
- createHashHistory
- createBrowserHistory
- createMemoryHistory

从 history 库中获取他们

&lt;pre&gt;`import createBrowserHistory from &apos;history/lib/createBrowserHistory&apos;
`&lt;/pre&gt;

#### createHashHistory

这是一个你会获得的默认 history, 如果不指定某个 history (即&amp;lt;Router&gt;{...}&amp;lt;/Router&gt;) 他用到的是 URL 中的 hash(#) 部分去创建形如 example.com/#/some/path 的路由

HashHistory 是默认的, 可以在服务器中不作任何配置就可以运行, 并且在全部浏览器中都可以使用, 但是不推荐实际生产中使用它, 因为每一个 web 应用都应该有目的地去使用 createBrowserHistory

#### 像`?_k=ckuvup` 没用的在 URL 中是什么?

当一个 history 通过应用程序的`pushState`或`replaceState`跳转时, 他可以在新的 location 中存储&quot;lcoation state&quot; 而不现实在 URL 中, 就像在一个 HTML 中 post 的表单数据

在 DOM API 中, 这些 hash history 通过 window.location.hash = newHash 很简单地被用于, 且不用存储他们的 location state, 但是我们希望全部的 history 都能够使用 location state, 因此要为每个 location 添加一个唯一的 key, 并把他们的状态存储在 session storage 中, 当访客点击前进或后退的时候, 可以恢复这些 location state.

#### createBrowserHistory

这是 react-router 创建浏览器应用推荐的 History, 使用 History API 在浏览器中被创建用于处理 URL, 新建一个像这样真实的 URL: example.com/some/path

##### 服务器配置

首先服务器应该能够处理 URL 请求, 处理应用启动最初的`/`这样的请求应该没问题,但是当用户来回跳转并在`/ accounts/23`刷新时, 服务器会受到来自`/account/23`的请求, 这时你就需要处理这个 URL 并在响应中包含 JS 程序代码

一个 express 的应用看起来可能是这样的:

&lt;pre&gt;`const express = require(&apos;express&apos;)
const path = require(&apos;path&apos;)
const port = process.env.PORT || 8080
const app = express()

// 通常用于加载静态资源
app.use(express.static(__dirname + &apos;/public&apos;))

// 在你应用 JS 文件中包含一个 script 标签的 index.html 中处理任何一个 route

app.get(&apos;*&apos;,function(request, response){
  response.sendFile(path.resolve(__dirname, &apos;public&apos;, &apos;index.html&apos;)
})

app.listen(port)
console.log(&apos;server started on port&apos; + port)
`&lt;/pre&gt;

当服务器找不到其他文件的时候, 服务器生成静态文件和操作 index.html 文件.

### 实例展示

&lt;pre&gt;`import React from &apos;react&apos;
import createBrowserHistory from &apos;history/createBrowserHistory&apos;
import { Router, Route, IndexRoute } from &apos;react-router&apos;
import App from &apos;../componnents/App&apos;
import Home from &apos;../componnents/Home&apos;
import About from &apos;../componnents/About&apos;
import Features from &apos;../componnents/Features&apos;

React.render(
  &amp;lt;Router history = {createBrowserHistory()} &amp;gt;
    &amp;lt;Route path = &apos;/&apos; component = {App} &amp;gt;
      &amp;lt;IndexRoute component = {Home} /&amp;gt;
      &amp;lt;Route path = &apos;about&apos; component = {About} /&amp;gt;
      &amp;lt;Route path = &apos;features&apos; component = {Features} /&amp;gt;
    &amp;lt;/Route&amp;gt;
  &amp;lt;/Router&amp;gt;, document.body
)
`&lt;/pre&gt;

### 默认路由(IndexRoute)与 IndexLink

如果设置了 IndexRoute =&gt; Home, 就要设置跳转到 Home 的路由&apos;/&apos;, 即`&amp;lt;Link to=&apos;/&apos;&amp;gt;Home&amp;lt;/Link&amp;gt;`, 他会一直处于激活状态(因为所有子路由都经过&apos;/&apos;), 我们仅希望在 Home 被渲染后激活并连接到他, 即需要在 Home 路由被渲染后才激活指向&apos;/&apos; 的链接, 请使用`&amp;lt;IndexLink to=&apos;/&apos;&amp;gt;Home&amp;lt;/IndexLink&amp;gt;`

### 动态路由

React Router 适用于小型网站, 也可以支持大型网站

对于大型应用而言, 一个首当其冲的问题就是所需要加载的 JS 的大小, 程序应当只加载当前渲染页需要的的 JS, 有些开发者称之为&quot;代码拆分&quot;, 在用户浏览过程中按需加载

对于底层细节的修改不应该需要他上面每一层级都进行修改, 举个例子, 为一个照片浏览页添加一个路径不应该影响到首页加载的 JS 大小, 也不能因为多个团队共用一个大型路由配置文件二造成合并时的冲突.

路由是个非常适合做代码拆分的地方: 他的责任就是配置好每个 view

React Routerzhogn 的路径匹配及组件加载都是异步完成的, 不仅允许你延迟加载组件, **并且可以延迟加载路由配置**. 在首次加载包中你只需要有一个路径定义, 路由会自动解析剩下的路径

Route 可以定义`getChildRoutes`, `getIndexRoute`, 和`getComponents` 这几个函数, 他们都是异步执行的, 并且只有需要时被调用, 这种方式成为&quot;逐渐匹配&quot;

React Router 会逐渐地匹配 URL 并且只加载该 URL 对应页面所需要路径配置和组件

如果配合 webpack 代码拆分工具使用的话, 一个原本繁琐的架构就会变得简明

&lt;pre&gt;`const CourseRoute = {
  path: &apos;course/:courseId&apos;,
  /* 当 get routes/indexRoute/Component 的时候 require 相应的资源
  getChildRoutes(location, callback){
    require.ensure([],function(require){
      callback(null, [
        require(&apos;./routes/Announcements&apos;),
        require(&apos;./routes/Assignments&apos;),
        require(&apos;./routes/Grades&apos;)
      ])
    })
  },

  getIndexRoute(location, callback){
    require.ensure([], function(require){
      callback(null, require(&apos;./components/Index&apos;))
    })
  },

  getComponents(location, callback){
    require.ensure([],function(require){
      callback(null, requrie(&apos;./components/Course&apos;))
    })
  }
}
`&lt;/pre&gt;

### 跳转前确认

React Router 提供一个`routerWillLeave` 生命周期钩子, 这使得 React 可以拦截正在发生的跳转, 或者在离开 Route 前提示用户

`routerWillLeave` 返回值有一下两种:
1\. `return false` 取消此次跳转
2\. `return` 返回提示信息, 在离开 route 前提示用户进行确认

在 Route 组件中引入`Lifecycle` mixin 来安装这个钩子

&lt;pre&gt;`import { Lifecycle } from &apos;react-router&apos;

const Home = React.createClass({
  mixins: [Lifecycle],
  routerWillLeave(nextLocation){
    if(!this.state.isSaved){
      return &apos;Your work is not saved!&apos;
    }
  }
})
`&lt;/pre&gt;

### 服务端渲染

服务端渲染与客户端渲染有些许不同, 需要
- 发生错误的时候发送一个`500`响应
- 需要重定向时发送一个`30x`响应
- 需要在渲染之前获得数据(用 router 完成)

### 组件生命周期

路由配置如下:

&lt;pre&gt;`&amp;lt;Route path = &apos;/&apos; component = {App} &amp;gt;
  &amp;lt;IndexRoute component = {Home} /&amp;gt;
  &amp;lt;Route path = &apos;invoices/:invoiceId&apos; component = {Invoice}/&amp;gt;
  &amp;lt;Route path = &apos;accounts/:accountId&apos; component = {Account}/&amp;gt;
&amp;lt;/Route&amp;gt;
`&lt;/pre&gt;

#### 路由切换时, 组件生命周期的变化
</code></pre><ol>
<li>当用户打开’/‘ 页面<br><table><br><thead><br><tr><br>  <th>Component</th><br>  <th>LifeCycle</th><br></tr><br></thead><br><tbody><br><tr><br>  <td>App</td><br>  <td>componentDidMount</td><br></tr><br><tr><br>  <td>Home</td><br>  <td>componentDidMount</td><br></tr><br><tr><br>  <td>Invoice</td><br>  <td>N/A</td><br></tr><br><tr><br>  <td>Account</td><br>  <td>N/A</td><br></tr><br></tbody><br></table><p></p></li>
<li><p>当用户从’/‘ 跳转到 ‘/invoices/123’</p>
<table><br><thead><br><tr><br>  <th>Component</th><br>  <th>LifeCycle</th><br></tr><br></thead><br><tbody><br><tr><br>  <td>App</td><br>  <td>componentWillReceiveProps, componentDidUpdate</td><br></tr><br><tr><br>  <td>Home</td><br>  <td>componentWillUnmount</td><br></tr><br><tr><br>  <td>Invoice</td><br>  <td>componentDidMount</td><br></tr><br><tr><br>  <td>Account</td><br>  <td>N/A</td><br></tr><br></tbody><br></table>

<h4 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h4><p></p><p>最简单的通过 router 获取数据的方法是通过组件生命周期 Hook 来实现.</p>
<p>在 Invoice 中添加一个简单的数据获取功能</p>
<p><pre>`let Invoice = React.createClass({<br>  getInitialState(){</pre></p>
<pre><code>return{
  invoice: null
}
</code></pre><p>  },</p>
<p>  componentDidMount(){</p>
<pre><code>this.setState({
  this.fetchInvoice()
})
</code></pre><p>  },</p>
<p>  componentDidUpdate(prevProps){</p>
<pre><code>let oldId = prevProps.params.invoiceId
let newId= this.props.params.invoiceId
if(newId !== oldId){
  this.fetchInvoice()
}
</code></pre><p>  },</p>
<p>  componentWillUnmount(){</p>
<pre><code>this.ignorelastFetch = true
</code></pre><p>  },</p>
<p>  fetchInvoice(){</p>
<pre><code>let url = `/api/invoices/${this.props.params.invoiceId}`
this.request = fetch(url, (err, data) =&amp;gt; {
  if(!this.ingoreFetch){
    this.setState({invoice: data.invoice})
  }
})
</code></pre><p>  },</p>
<p>  render(){</p>
<pre><code>return &amp;lt;InvoiceView invoice = {this.state.invoice} /&amp;gt;
</code></pre><p>  }<br>})</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/react-router-documents/" data-id="cj1hgzf6k00cseoxhekke0v33" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Router/">React-Router</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/5/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Catégories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Soup/">Soup</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/github/">github</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/github/note/">note</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/note/workNote/">workNote</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/workNote/">workNote</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AJAX/">AJAX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOOTSTRAP/">BOOTSTRAP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bash/">Bash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CORS/">CORS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Closure/">Closure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CommonJS/">CommonJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DevTools/">DevTools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint/">ESLint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FP/">FP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/">Gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Immutable/">Immutable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Koa/">Koa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MDL/">MDL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Material-Design/">Material Design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NODE/">NODE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nock/">Nock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/">Promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Redux/">React-Redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Router/">React-Router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redux/">Redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RegExp/">RegExp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJS/">RxJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thunk/">Thunk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trick/">Trick</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/">Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automatic/">automatic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel/">babel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/babel-polyfill/">babel-polyfill</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/commandline/">commandline</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack2/">webpack2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试/">测试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/AJAX/" style="font-size: 10.91px;">AJAX</a> <a href="/tags/BOOTSTRAP/" style="font-size: 10px;">BOOTSTRAP</a> <a href="/tags/Bash/" style="font-size: 11.82px;">Bash</a> <a href="/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/tags/CSS/" style="font-size: 10.91px;">CSS</a> <a href="/tags/CSS3/" style="font-size: 20px;">CSS3</a> <a href="/tags/Closure/" style="font-size: 10px;">Closure</a> <a href="/tags/CommonJS/" style="font-size: 10px;">CommonJS</a> <a href="/tags/DOM/" style="font-size: 12.73px;">DOM</a> <a href="/tags/DevTools/" style="font-size: 10px;">DevTools</a> <a href="/tags/ES6/" style="font-size: 10.91px;">ES6</a> <a href="/tags/ESLint/" style="font-size: 10px;">ESLint</a> <a href="/tags/FP/" style="font-size: 10px;">FP</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Gulp/" style="font-size: 11.82px;">Gulp</a> <a href="/tags/HTML5/" style="font-size: 15.45px;">HTML5</a> <a href="/tags/Immutable/" style="font-size: 10px;">Immutable</a> <a href="/tags/Javascript/" style="font-size: 19.09px;">Javascript</a> <a href="/tags/Koa/" style="font-size: 10.91px;">Koa</a> <a href="/tags/MDL/" style="font-size: 16.36px;">MDL</a> <a href="/tags/Material-Design/" style="font-size: 17.27px;">Material Design</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NODE/" style="font-size: 13.64px;">NODE</a> <a href="/tags/NPM/" style="font-size: 10.91px;">NPM</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Nock/" style="font-size: 10px;">Nock</a> <a href="/tags/Node-js/" style="font-size: 10.91px;">Node.js</a> <a href="/tags/Promise/" style="font-size: 11.82px;">Promise</a> <a href="/tags/React/" style="font-size: 18.18px;">React</a> <a href="/tags/React-Native/" style="font-size: 10px;">React-Native</a> <a href="/tags/React-Redux/" style="font-size: 10px;">React-Redux</a> <a href="/tags/React-Router/" style="font-size: 10.91px;">React-Router</a> <a href="/tags/Redux/" style="font-size: 14.55px;">Redux</a> <a href="/tags/RegExp/" style="font-size: 10px;">RegExp</a> <a href="/tags/RxJS/" style="font-size: 10px;">RxJS</a> <a href="/tags/Thunk/" style="font-size: 10.91px;">Thunk</a> <a href="/tags/Trick/" style="font-size: 11.82px;">Trick</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/automatic/" style="font-size: 10px;">automatic</a> <a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/babel-polyfill/" style="font-size: 10px;">babel-polyfill</a> <a href="/tags/commandline/" style="font-size: 10px;">commandline</a> <a href="/tags/github/" style="font-size: 10.91px;">github</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/webpack/" style="font-size: 17.27px;">webpack</a> <a href="/tags/webpack2/" style="font-size: 11.82px;">webpack2</a> <a href="/tags/测试/" style="font-size: 11.82px;">测试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/04/14/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/03/20/baisc-usage-of-redux-observable/">Baisc Usage of Redux-Observable</a>
          </li>
        
          <li>
            <a href="/2017/02/27/functor-e5-87-bd-e5-ad-90/">Functor 函子</a>
          </li>
        
          <li>
            <a href="/2017/02/22/throttle-e5-87-bd-e6-95-b0/">Throttle 函数</a>
          </li>
        
          <li>
            <a href="/2017/02/22/debounce-e5-87-bd-e6-95-b0/">Debounce 函数</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>